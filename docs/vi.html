<HEAD>
<TITLE> Open Watcom 2.0 VI Editor </TITLE>
</HEAD>
<BODY>
<H1 ID="Index_of_Topics"> Index of Topics </H1>
<DL>
<DT>- !&nbsp; -
<DD><A HREF="#_">!</A>
<DT>- &lt; -
<DD><A HREF="#X">&lt;</A>
<DT>- &gt; -
<DD><A HREF="#Y">&gt;</A>
<DT>- A -
<DD><A HREF="#ABBREV">ABBREV</A>
<BR><A HREF="#ADDMENUITEM">ADDMENUITEM</A>
<BR><A HREF="#Advanced_Usage">Advanced Usage</A>
<BR><A HREF="#ALIAS">ALIAS</A>
<BR><A HREF="#Altering_Text">Altering Text</A>
<BR><A HREF="#APPEND">APPEND</A>
<BR><A HREF="#ASSIGN">ASSIGN</A>
<BR><A HREF="#ATOMIC">ATOMIC</A>
<BR><A HREF="#autoindent">autoindent</A>
<BR><A HREF="#automessageclear">automessageclear</A>
<BR><A HREF="#autosaveinterval">autosaveinterval</A>
<DT>- B -
<DD><A HREF="#Basic_Usage">Basic Usage</A>
<BR><A HREF="#beepflag">beepflag</A>
<BR><A HREF="#Boolean_Settings">Boolean Settings</A>
<BR><A HREF="#BORDER">BORDER</A>
<BR><A HREF="#BREAK">BREAK</A>
<BR><A HREF="#buttonheight">buttonheight</A>
<BR><A HREF="#buttonwidth">buttonwidth</A>
<DT>- C -
<DD><A HREF="#CASCADE">CASCADE</A>
<BR><A HREF="#Case_Toggling">Case Toggling</A>
<BR><A HREF="#caseignore">caseignore</A>
<BR><A HREF="#CD">CD</A>
<BR><A HREF="#CHANGE">CHANGE</A>
<BR><A HREF="#changelikevi">changelikevi</A>
<BR><A HREF="#Changing_Text">Changing Text</A>
<BR><A HREF="#Characters">Characters</A>
<BR><A HREF="#clock">clock</A>
<BR><A HREF="#clockx">clockx</A>
<BR><A HREF="#clocky">clocky</A>
<BR><A HREF="#cmode">cmode</A>
<BR><A HREF="#columninfilestatus">columninfilestatus</A>
<BR><A HREF="#The_Command_Line">The Command Line</A>
<BR><A HREF="#Command_Mode">Command Mode</A>
<BR><A HREF="#Command_Mode_Key_Summary">Command Mode Key Summary</A>
<BR><A HREF="#commandcursortype">commandcursortype</A>
<BR><A HREF="#Commands">Commands</A>
<BR><A HREF="#COMMANDWINDOW">COMMANDWINDOW</A>
<BR><A HREF="#COMPILE">COMPILE</A>
<BR><A HREF="#COMPRESS">COMPRESS</A>
<BR><A HREF="#CONTINUE">CONTINUE</A>
<BR><A HREF="#Control_Flow_Commands">Control Flow Commands</A>
<BR><A HREF="#Controlling_Magic_Characters">Controlling Magic Characters</A>
<BR><A HREF="#COPY">COPY</A>
<BR><A HREF="#Copy_Buffers">Copy Buffers</A>
<BR><A HREF="#Copying_Text">Copying Text</A>
<BR><A HREF="#COUNTWINDOW">COUNTWINDOW</A>
<BR><A HREF="#CTAGS">CTAGS</A>
<BR><A HREF="#currentstatus">currentstatus</A>
<BR><A HREF="#currentstatuscolumn">currentstatuscolumn</A>
<BR><A HREF="#cursorblinkrate">cursorblinkrate</A>
<BR><A HREF="#Cutting_and_Pasting_Text">Cutting and Pasting Text</A>
<DT>- D -
<DD><A HREF="#DATE">DATE</A>
<BR><A HREF="#DEFAULTWINDOW">DEFAULTWINDOW</A>
<BR><A HREF="#DELETE">DELETE</A>
<BR><A HREF="#DELETEMENU">DELETEMENU</A>
<BR><A HREF="#DELETEMENUITEM">DELETEMENUITEM</A>
<BR><A HREF="#Deleting_Text">Deleting Text</A>
<BR><A HREF="#Deleting__Copying__and_Pasting_Text">Deleting, Copying, and Pasting Text</A>
<BR><A HREF="#DIMENSION">DIMENSION</A>
<BR><A HREF="#DIRWINDOW">DIRWINDOW</A>
<BR><A HREF="#drawtildes">drawtildes</A>
<DT>- E -
<DD><A HREF="#ECHO">ECHO</A>
<BR><A HREF="#EDIT">EDIT</A>
<BR><A HREF="#Edit_Menu">Edit Menu</A>
<BR><A HREF="#Edit_Window_Menu">Edit Window Menu</A>
<BR><A HREF="#Editor_Commands">Editor Commands</A>
<BR><A HREF="#Editor_Script_Language">Editor Script Language</A>
<BR><A HREF="#Editor_Settings">Editor Settings</A>
<BR><A HREF="#EDITWINDOW">EDITWINDOW</A>
<BR><A HREF="#EGREP">EGREP</A>
<BR><A HREF="#eightbits">eightbits</A>
<BR><A HREF="#ELSE">ELSE</A>
<BR><A HREF="#ELSEIF">ELSEIF</A>
<BR><A HREF="#ENDIF">ENDIF</A>
<BR><A HREF="#ENDLOOP">ENDLOOP</A>
<BR><A HREF="#ENDMENU">ENDMENU</A>
<BR><A HREF="#endoflinechar">endoflinechar</A>
<BR><A HREF="#ENDWHILE">ENDWHILE</A>
<BR><A HREF="#ENDWINDOW">ENDWINDOW</A>
<BR><A HREF="#Error_Code_Tokens">Error Code Tokens</A>
<BR><A HREF="#escapemessage">escapemessage</A>
<BR><A HREF="#EVAL">EVAL</A>
<BR><A HREF="#Example_M_err_vi">Example - err.vi</A>
<BR><A HREF="#Example_M_lnum_vi">Example - lnum.vi</A>
<BR><A HREF="#Example_M_proc_vi">Example - proc.vi</A>
<BR><A HREF="#Example_M_qall_vi">Example - qall.vi</A>
<BR><A HREF="#Example_M_wrme_vi">Example - wrme.vi</A>
<BR><A HREF="#EXECUTE">EXECUTE</A>
<BR><A HREF="#EXITALL">EXITALL</A>
<BR><A HREF="#exitattr">exitattr</A>
<BR><A HREF="#EXPAND">EXPAND</A>
<BR><A HREF="#EXPR">EXPR</A>
<BR><A HREF="#extendedmemory">extendedmemory</A>
<BR><A HREF="#EXTRAINFOWINDOW">EXTRAINFOWINDOW</A>
<DT>- F -
<DD><A HREF="#FCLOSE">FCLOSE</A>
<BR><A HREF="#FGREP">FGREP</A>
<BR><A HREF="#File_Matching_Regular_Expressions">File Matching Regular Expressions</A>
<BR><A HREF="#File_Menu">File Menu</A>
<BR><A HREF="#FILECWINDOW">FILECWINDOW</A>
<BR><A HREF="#fileendstring">fileendstring</A>
<BR><A HREF="#FILES">FILES</A>
<BR><A HREF="#FILEWINDOW">FILEWINDOW</A>
<BR><A HREF="#Filters">Filters</A>
<BR><A HREF="#FLOATMENU">FLOATMENU</A>
<BR><A HREF="#FOPEN">FOPEN</A>
<BR><A HREF="#FREAD">FREAD</A>
<BR><A HREF="#FWRITE">FWRITE</A>
<DT>- G -
<DD><A HREF="#gadgetstring">gadgetstring</A>
<BR><A HREF="#GENCONFIG">GENCONFIG</A>
<BR><A HREF="#GET">GET</A>
<BR><A HREF="#Getting_a_File_for_Editing">Getting a File for Editing</A>
<BR><A HREF="#GLOBAL">GLOBAL</A>
<BR><A HREF="#The_Global_Command">The Global Command</A>
<BR><A HREF="#GOTO">GOTO</A>
<BR><A HREF="#grepdefault">grepdefault</A>
<DT>- H -
<DD><A HREF="#hardtab">hardtab</A>
<BR><A HREF="#HELP">HELP</A>
<BR><A HREF="#Help_Menu">Help Menu</A>
<BR><A HREF="#HILIGHT">HILIGHT</A>
<BR><A HREF="#historyfile">historyfile</A>
<BR><A HREF="#Hook_Scripts">Hook Scripts</A>
<DT>- I -
<DD><A HREF="#IF">IF</A>
<BR><A HREF="#The_IF_Block">The IF Block</A>
<BR><A HREF="#ignorectrlz">ignorectrlz</A>
<BR><A HREF="#ignoretagcase">ignoretagcase</A>
<BR><A HREF="#inactivewindowcolor">inactivewindowcolor</A>
<BR><A HREF="#INPUT">INPUT</A>
<BR><A HREF="#Inputting_Text">Inputting Text</A>
<BR><A HREF="#INSERT">INSERT</A>
<BR><A HREF="#insertcursortype">insertcursortype</A>
<BR><A HREF="#Inserting_Text">Inserting Text</A>
<BR><A HREF="#Intermediate_Usage">Intermediate Usage</A>
<BR><A HREF="#Introduction_to_the_Open_Watcom_Vi_Editor">Introduction to the Open Watcom Vi Editor</A>
<BR><A HREF="#Invoking_the_Open_Watcom_Vi_Editor">Invoking the Open Watcom Vi Editor</A>
<DT>- J -
<DD><A HREF="#JOIN">JOIN</A>
<BR><A HREF="#Joining_Text">Joining Text</A>
<DT>- K -
<DD><A HREF="#KEYADD">KEYADD</A>
<DT>- L -
<DD><A HREF="#LABEL">LABEL</A>
<BR><A HREF="#lefthandmouse">lefthandmouse</A>
<BR><A HREF="#Line_Address_Examples">Line Address Examples</A>
<BR><A HREF="#Line_Addresses">Line Addresses</A>
<BR><A HREF="#Line_Numbers">Line Numbers</A>
<BR><A HREF="#linenumbers">linenumbers</A>
<BR><A HREF="#LINENUMBERWINDOW">LINENUMBERWINDOW</A>
<BR><A HREF="#linenumsonright">linenumsonright</A>
<BR><A HREF="#Lines">Lines</A>
<BR><A HREF="#LIST">LIST</A>
<BR><A HREF="#LOAD">LOAD</A>
<BR><A HREF="#LOOP">LOOP</A>
<BR><A HREF="#The_LOOP_Block">The LOOP Block</A>
<BR><A HREF="#Lost_File_Recovery">Lost File Recovery</A>
<DT>- M -
<DD><A HREF="#magic">magic</A>
<BR><A HREF="#magicstring">magicstring</A>
<BR><A HREF="#MAP">MAP</A>
<BR><A HREF="#MAPBASE">MAPBASE</A>
<BR><A HREF="#Mapping_Keys">Mapping Keys</A>
<BR><A HREF="#MARK">MARK</A>
<BR><A HREF="#marklonglines">marklonglines</A>
<BR><A HREF="#Marks">Marks</A>
<BR><A HREF="#MATCH">MATCH</A>
<BR><A HREF="#Matching_Examples">Matching Examples</A>
<BR><A HREF="#maxclhistory">maxclhistory</A>
<BR><A HREF="#maxemsk">maxemsk</A>
<BR><A HREF="#maxfilterhistory">maxfilterhistory</A>
<BR><A HREF="#maxfindhistory">maxfindhistory</A>
<BR><A HREF="#MAXIMIZE">MAXIMIZE</A>
<BR><A HREF="#maxlinelen">maxlinelen</A>
<BR><A HREF="#maxpush">maxpush</A>
<BR><A HREF="#maxswapk">maxswapk</A>
<BR><A HREF="#maxtilecolors">maxtilecolors</A>
<BR><A HREF="#maxwindowtilex">maxwindowtilex</A>
<BR><A HREF="#maxwindowtiley">maxwindowtiley</A>
<BR><A HREF="#maxxmsk">maxxmsk</A>
<BR><A HREF="#MENU">MENU</A>
<BR><A HREF="#Menu_Commands">Menu Commands</A>
<BR><A HREF="#MENUBARWINDOW">MENUBARWINDOW</A>
<BR><A HREF="#MENUITEM">MENUITEM</A>
<BR><A HREF="#menus">menus</A>
<BR><A HREF="#MENUWINDOW">MENUWINDOW</A>
<BR><A HREF="#MESSAGEWINDOW">MESSAGEWINDOW</A>
<BR><A HREF="#MINIMIZE">MINIMIZE</A>
<BR><A HREF="#Miscellaneous_Keys">Miscellaneous Keys</A>
<BR><A HREF="#Modes">Modes</A>
<BR><A HREF="#The_Mouse">The Mouse</A>
<BR><A HREF="#Mouse_Control_Booleans">Mouse Control Booleans</A>
<BR><A HREF="#Mouse_Control_Values">Mouse Control Values</A>
<BR><A HREF="#mousedclickspeed">mousedclickspeed</A>
<BR><A HREF="#mouserepeatdelay">mouserepeatdelay</A>
<BR><A HREF="#mousespeed">mousespeed</A>
<BR><A HREF="#MOVE">MOVE</A>
<BR><A HREF="#movecolor">movecolor</A>
<BR><A HREF="#Movement">Movement</A>
<BR><A HREF="#MOVEWIN">MOVEWIN</A>
<BR><A HREF="#Moving_Around">Moving Around</A>
<BR><A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>
<BR><A HREF="#Moving_Between_Files">Moving Between Files</A>
<DT>- N -
<DD><A HREF="#NEXT">NEXT</A>
<BR><A HREF="#NEXTWORD">NEXTWORD</A>
<BR><A HREF="#NonMBoolean_Settings">Non-Boolean Settings</A>
<DT>- O -
<DD><A HREF="#OPEN">OPEN</A>
<BR><A HREF="#The_Open_Watcom_Vi_Editor_Environment">The Open Watcom Vi Editor Environment</A>
<BR><A HREF="#The_Open_Watcom_Vi_Editor_Error_Messages">The Open Watcom Vi Editor Error Messages</A>
<BR><A HREF="#Options_Menu">Options Menu</A>
<BR><A HREF="#overstrikecursortype">overstrikecursortype</A>
<DT>- P -
<DD><A HREF="#pagelinesexposed">pagelinesexposed</A>
<BR><A HREF="#pauseonspawnerr">pauseonspawnerr</A>
<BR><A HREF="#POP">POP</A>
<BR><A HREF="#Position_Menu">Position Menu</A>
<BR><A HREF="#PreMdefined_Global_Variables">Pre-defined Global Variables</A>
<BR><A HREF="#PREV">PREV</A>
<BR><A HREF="#PUSH">PUSH</A>
<BR><A HREF="#PUT">PUT</A>
<DT>- Q -
<DD><A HREF="#quiet">quiet</A>
<BR><A HREF="#QUIF">QUIF</A>
<BR><A HREF="#QUIT">QUIT</A>
<BR><A HREF="#QUITALL">QUITALL</A>
<BR><A HREF="#quitmovesforward">quitmovesforward</A>
<DT>- R -
<DD><A HREF="#radix">radix</A>
<BR><A HREF="#READ">READ</A>
<BR><A HREF="#readentirefile">readentirefile</A>
<BR><A HREF="#readonlycheck">readonlycheck</A>
<BR><A HREF="#realtabs">realtabs</A>
<BR><A HREF="#regsubmagic">regsubmagic</A>
<BR><A HREF="#Regular_Expression_BNF">Regular Expression BNF</A>
<BR><A HREF="#Regular_Expression_Examples">Regular Expression Examples</A>
<BR><A HREF="#Regular_Expressions">Regular Expressions</A>
<BR><A HREF="#repeatinfo">repeatinfo</A>
<BR><A HREF="#Repeating_Edit_Operations">Repeating Edit Operations</A>
<BR><A HREF="#Replacement_Examples">Replacement Examples</A>
<BR><A HREF="#Replacement_Strings">Replacement Strings</A>
<BR><A HREF="#Replacing_Text">Replacing Text</A>
<BR><A HREF="#RESIZE">RESIZE</A>
<BR><A HREF="#resizecolor">resizecolor</A>
<BR><A HREF="#RETURN">RETURN</A>
<DT>- S -
<DD><A HREF="#samefilecheck">samefilecheck</A>
<BR><A HREF="#Sample_Menus">Sample Menus</A>
<BR><A HREF="#Sample_Window_Settings">Sample Window Settings</A>
<BR><A HREF="#saveconfig">saveconfig</A>
<BR><A HREF="#saveposition">saveposition</A>
<BR><A HREF="#Saving_and_Exiting_a_File">Saving and Exiting a File</A>
<BR><A HREF="#Saving_and_Exiting_a_File_Revisited">Saving and Exiting a File Revisited</A>
<BR><A HREF="#The_Screen">The Screen</A>
<BR><A HREF="#Script_Commands">Script Commands</A>
<BR><A HREF="#Script_Examples">Script Examples</A>
<BR><A HREF="#Script_Expression_BNF">Script Expression BNF</A>
<BR><A HREF="#Script_Expressions">Script Expressions</A>
<BR><A HREF="#Script_Variables">Script Variables</A>
<BR><A HREF="#Searching">Searching</A>
<BR><A HREF="#Searching_Files_For_Text">Searching Files For Text</A>
<BR><A HREF="#Searching_for_Text">Searching for Text</A>
<BR><A HREF="#searchwrap">searchwrap</A>
<BR><A HREF="#Selecting_Text">Selecting Text</A>
<BR><A HREF="#SET">SET</A>
<BR><A HREF="#SETCOLOR">SETCOLOR</A>
<BR><A HREF="#SETVALWINDOW">SETVALWINDOW</A>
<BR><A HREF="#SETWINDOW">SETWINDOW</A>
<BR><A HREF="#SHELL">SHELL</A>
<BR><A HREF="#shellprompt">shellprompt</A>
<BR><A HREF="#Shifting_Text">Shifting Text</A>
<BR><A HREF="#shiftwidth">shiftwidth</A>
<BR><A HREF="#showmatch">showmatch</A>
<BR><A HREF="#SIZE">SIZE</A>
<BR><A HREF="#Some_Basic_Commands">Some Basic Commands</A>
<BR><A HREF="#SOURCE">SOURCE</A>
<BR><A HREF="#Special_Keys">Special Keys</A>
<BR><A HREF="#Special_Keys_In_The_Command_Window">Special Keys In The Command Window</A>
<BR><A HREF="#Special_Keys_In_The_Search_String_Window">Special Keys In The Search String Window</A>
<BR><A HREF="#spinning">spinning</A>
<BR><A HREF="#spinx">spinx</A>
<BR><A HREF="#spiny">spiny</A>
<BR><A HREF="#stackk">stackk</A>
<BR><A HREF="#Starting_the_Open_Watcom_Vi_Editor">Starting the Open Watcom Vi Editor</A>
<BR><A HREF="#statusinfo">statusinfo</A>
<BR><A HREF="#statussections">statussections</A>
<BR><A HREF="#statusstring">statusstring</A>
<BR><A HREF="#STATUSWINDOW">STATUSWINDOW</A>
<BR><A HREF="#SUBSTITUTE">SUBSTITUTE</A>
<BR><A HREF="#The_Substitute_Command">The Substitute Command</A>
<BR><A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>
<BR><A HREF="#Symbols_and_Meaning">Symbols and Meaning</A>
<DT>- T -
<DD><A HREF="#tabamount">tabamount</A>
<BR><A HREF="#TAG">TAG</A>
<BR><A HREF="#tagfilename">tagfilename</A>
<BR><A HREF="#tagprompt">tagprompt</A>
<BR><A HREF="#Terms_and_Notation">Terms and Notation</A>
<BR><A HREF="#TEXT">TEXT</A>
<BR><A HREF="#Text_Insertion_Mode">Text Insertion Mode</A>
<BR><A HREF="#Text_Selection">Text Selection</A>
<BR><A HREF="#TILE">TILE</A>
<BR><A HREF="#tilecolor">tilecolor</A>
<BR><A HREF="#tmpdir">tmpdir</A>
<BR><A HREF="#toolbar">toolbar</A>
<DT>- U -
<DD><A HREF="#UNABBREV">UNABBREV</A>
<BR><A HREF="#UNALIAS">UNALIAS</A>
<BR><A HREF="#undo">undo</A>
<BR><A HREF="#UNDO_LcommandR">UNDO (command)</A>
<BR><A HREF="#Undo_and_Redo">Undo and Redo</A>
<BR><A HREF="#Undoing_Changes">Undoing Changes</A>
<BR><A HREF="#UNMAP">UNMAP</A>
<BR><A HREF="#UNTIL">UNTIL</A>
<BR><A HREF="#usemouse">usemouse</A>
<BR><A HREF="#Using_Edbind">Using Edbind</A>
<BR><A HREF="#Using_Marks">Using Marks</A>
<BR><A HREF="#Using_the_Menus">Using the Menus</A>
<BR><A HREF="#Using_the_Mouse">Using the Mouse</A>
<DT>- V -
<DD><A HREF="#verbose">verbose</A>
<BR><A HREF="#VERSION">VERSION</A>
<BR><A HREF="#VIEW">VIEW</A>
<BR><A HREF="#VISUAL">VISUAL</A>
<DT>- W -
<DD><A HREF="#What_is_a_Modal_Editor_">What is a Modal Editor?</A>
<BR><A HREF="#WHILE">WHILE</A>
<BR><A HREF="#The_WHILE_Block">The WHILE Block</A>
<BR><A HREF="#Window_Control_Booleans">Window Control Booleans</A>
<BR><A HREF="#Window_Control_Values">Window Control Values</A>
<BR><A HREF="#Window_Menu">Window Menu</A>
<BR><A HREF="#Window_Properties">Window Properties</A>
<BR><A HREF="#Window_Types">Window Types</A>
<BR><A HREF="#windowgadgets">windowgadgets</A>
<BR><A HREF="#Windows_and_Menus">Windows and Menus</A>
<BR><A HREF="#word">word</A>
<BR><A HREF="#wordalt">wordalt</A>
<BR><A HREF="#wordwrap">wordwrap</A>
<BR><A HREF="#WQ">WQ</A>
<BR><A HREF="#wrapbackspace">wrapbackspace</A>
<BR><A HREF="#wrapmargin">wrapmargin</A>
<BR><A HREF="#WRITE">WRITE</A>
<BR><A HREF="#writecrlf">writecrlf</A>
<DT>- X -
<DD><A HREF="#XIT">XIT</A>
<DT>- Y -
<DD><A HREF="#YANK">YANK</A>
</DL>
<H1 ID="Introduction_to_the_Open_Watcom_Vi_Editor"> Introduction to the Open Watcom Vi Editor </H1>
<BR>Open Watcom Vi Editor (Vi) is a programmer's editor.&nbsp; It is loosely based on UNIX Vi, but is much more powerful.
&nbsp;This manual may be used by someone without any knowledge of Vi, or by an experienced Vi user.&nbsp; People familiar
with Vi will find the Open Watcom Vi Editor is very similar in its basic behaviour.
<BR><BR>An editor is very personal thing.&nbsp; Every person uses an editor in a different way, or wants things to look slightly
different.&nbsp; Vi was designed with this in mind.&nbsp; Most features in Vi are configurable.
<BR><BR>Vi has many powerful features.&nbsp; Some of the more significant are:
<UL>
<LI>fully configurable
<UL>
<LI>The size of every window can be set by the user
<LI>The color of every window can be set by the user
<LI>A window's border can be set by the user
<LI>The menu bar may be enabled/disabled
<LI>The menu items in each menu can be set by the user
<LI>Keys can be changed and augmented to suit any configuration
</UL>
<LI>unlimited undo and redo capability
<LI>unlimited file size
<LI>unlimited number of lines in a file
<LI>edit up to 250 files at the same time
<LI>multiple views on the same file
<LI>full mouse support
<LI>powerful script language
<UL>
<LI>local and global variables
<LI>structured constructs (loop, while, if/elseif/else )
<LI>arbitrary conditional expressions
<LI>file I/O
</UL>
<LI>batch edit processing
<LI>regular expression search and replacement
<LI>text marks
<LI>keystroke macros
<LI>block delete, copy, change, case toggle, and shift operations
</UL>
<BR>Open Watcom Vi Editor is available for the following environments:
<UL>
<LI>DOS (real mode) (286 or higher)
<LI>DOS (protected mode, 386 or higher processors)
<LI>OS/2 1.x
<LI>OS/2 2.x
<LI>Windows NT
<LI>QNX
<LI>Windows 3.x GUI
<LI>Windows NT GUI
<LI>Linux (multiple CPU architectures)
</UL>
<H2 ID="Terms_and_Notation"> Terms and Notation </H2>
<BR>This section describes the terms and notations used in this document.
<H3 ID="The_Mouse"> The Mouse </H3>
<BR>If you have a mouse, you may use it with Vi.&nbsp; When you move your mouse, you will see a large block move around on
your screen.&nbsp; This is called the mouse cursor.
<BR><BR>These terms are used when referring to things that may be done with the mouse.
<DL>
<DT>click
<DD>Pressing a mouse button once.
<DT>double click
<DD>Pressing a mouse button twice in rapid succession.
<DT>dragging
<DD>Holding down a mouse button and then moving the mouse.
</DL>
<H3 ID="The_Screen"> The Screen </H3>
<BR>When you start up Vi, you will see something like the following:
<BR><BR><TT><IMG SRC="vi001.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 1.</I></B><B><I></I></B><B> Vi after start-up</B>
<BR><BR>The Vi screen has several windows.
<UL>
<LI>The top line of the screen is the<B> menu bar</B> which contains all of the menu choices, the current mode, and the current
time.
<LI>The large window below the menu bar is the<B> edit window.</B>&nbsp; Since Vi is a multiple file editor, you may have
more than one edit window.&nbsp; Other edit windows are usually covered by the current edit window, unless you change the
size and position of the edit windows.
<LI>The lower left corner of the screen contains the<B> status window.</B>&nbsp; This window typically shows the current row
and column.
<LI>The majority of the bottom of the screen contains the<B> message window.</B>&nbsp; This window displays all errors and
informational messages.
</UL>
<BR>In the edit window will be a flashing line.&nbsp; This flashing line is the cursor, and it indicates which line you are
on and the position within the line.
<BR><BR>On the border of the edit window are a number of special symbols.&nbsp; These special symbols are referred to as<B>
gadgets</B>
<UL>
<LI>In the top left corner of the edit window is the gadget ('') that opens up the menu for the window.
<LI>In the lower right corner of the edit window is the resize gadget ('').&nbsp; When you click on this gadget with your
mouse and then drag the mouse, you can resize the edit window.
<LI>On the right hand side of the edit window is the scroll bar.&nbsp; The scroll bar has several components:
<LI>The scroll up ('') gadget.&nbsp; When you click on this with your mouse, the edit window scrolls up one line.
<LI>The scroll down ('') gadget.&nbsp; When you click on this with your mouse, the edit window scrolls down one line.
<LI>The scroll thumb ('Û').&nbsp; The scroll thumb indicates the relative position of the current line in the file.&nbsp;
When you click on the scroll thumb with your mouse and drag it, you can move to a new position in the file.&nbsp; If you click
with your mouse on the scroll bar above the scroll thumb, you move one page up in the file.&nbsp; If you click on the scroll
bar below the scroll thumb, you move one page down in the file.
</UL>
<H1 ID="Basic_Usage"> Basic Usage </H1>
<BR>Using any editor as powerful as Vi takes some practice.&nbsp; This chapter will lead you through the basics or using Vi
<H2 ID="Starting_the_Open_Watcom_Vi_Editor"> Starting the Open Watcom Vi Editor </H2>
<BR>Vi is invoked by typing the command
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi</TT>
<BR><BR>at the command prompt.&nbsp; Try typing this.&nbsp; You will see something similar to the following:
<BR><BR><TT><IMG SRC="vi001.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 2.</I></B><B><I></I></B><B> The Vi screen</B>
<BR><BR>If you are running DOS on a 386 (or higher) machine, then you can also use the<B> protected mode</B> version of Vi.
&nbsp;This version of Vi runs as a native 386 application, which means that it has access to more memory and will do its processing
more quickly.&nbsp; You can start this version by typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vip</TT>
<BR><BR>at the command prompt.
<BR><BR>Vi also accepts one or more files as an optional parameter.&nbsp; Each file that you specify will be edited by Vi.
&nbsp;For example, typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi test.c</TT>
<BR><BR>will edit the file<TT> test.c</TT>.&nbsp; Typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi test.c other.c</TT>
<BR><BR>will edit the files<TT> test.c</TT> and<TT> other.c</TT>.&nbsp; Typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi *.c</TT>
<BR><BR>will edit all files that have the extension<TT> .c</TT>.
<BR><BR>To exit Vi, use your mouse to select the<B> File</B> menu, and pick the<B> Exit</B> item.&nbsp; If you do not have
a mouse, press<B> ALT_F</B> (hold down the<B> ALT</B> key and press the letter F) and use the down arrow key to highlight
the<B> Exit</B> item.&nbsp; Pressing the<B> ENTER</B> key selects the<B> Exit</B> item.
<H2 ID="What_is_a_Modal_Editor_"> What is a Modal Editor? </H2>
<BR>A modal editor is one where keystrokes have different meaning, depending on what mode you are in.&nbsp; Vi has two main
modes, command mode and text insertion mode.
<BR><BR>While in command mode, pressing a key on your keyboard can cause something different to happen.&nbsp; For example,
pressing the letter D (capital 'd') deletes all characters from the current cursor position to the end of the line.&nbsp;
If the same letter 'D' (is pressed while in text insertion mode, the letter 'D' appears in your text (much as you would expect).
<BR><BR>It is easy to tell what mode you are in while using Vi.&nbsp; When you are in command mode, the cursor is a thin line.
&nbsp;When you are in text insertion mode, the cursor is much thicker:&nbsp; if you are inserting text, the cursor is one
half of a full block, and if you are overstriking text, the cursor is a full block.
<BR><BR>The mode indicator on the menu bar at the top of your screen shows the current mode.&nbsp; While in command mode,
you will see the following:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: command</TT>
<BR><BR>While in text insertion mode, you will see either:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: overstrike</TT>
<BR><BR>depending on whether you are inserting or overstriking text.
<BR><BR>Vi is in command mode by default.&nbsp; There are numerous ways to enter text insertion mode, the easiest of which
is to press the<B> Insert</B> key on your keyboard.
<BR><BR>The<B> ESC</B> key is one of the more important keys in Vi.&nbsp; Pressing<B> ESC</B> once will stop whatever you
are doing and return you to command mode.&nbsp; If you have started a command mode sequence, pressing<B> ESC</B> will cancel
the command and return you to command mode.
<BR><BR><B>Exercises</B>
<BR><BR>Start up Vi by typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi</TT>
<BR><BR>at your command prompt.
<BR><BR>You will see a screen that looks like the following:
<BR><BR><TT><IMG SRC="vi001.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 3.</I></B><B><I></I></B><B> The Vi screen</B>
<BR><BR>Press the insert (<B> INS</B> ) key.&nbsp; The cursor will get larger and you will see the mode indicator change from
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: command</TT>
<BR><BR>to
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>Try typing some characters.&nbsp; Notice that they appear in the edit window as you type.&nbsp; When you are done,
press the<B> ESC</B> key.&nbsp; The cursor will get smaller and you will see the mode indicator change from
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>to
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: command</TT>
<BR><BR>To exit Vi, use your mouse to select the<B> File</B> menu, and pick the<B> Exit</B> item.&nbsp; If you do not have
a mouse, press<B> ALT_F</B> (hold down the<B> ALT</B> key and press the letter F) and use the down arrow key to highlight
the<B> Exit</B> item.&nbsp; Pressing the<B> ENTER</B> key selects the<B> Exit</B> item.
<BR><BR>Once you exit, you will be prompted with a message as follows:
<BR><BR><TT><IMG SRC="vi003.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 4.</I></B><B><I></I></B><B> The Really Exit prompt</B>
<BR><BR>there are still files that have been modified but not saved.&nbsp; Press 'n' then the<B> ENTER</B> key to exit without
saving your current file.
<H2 ID="Some_Basic_Commands"> Some Basic Commands </H2>
<BR>To begin editing with Vi, there are only a few basic commands that you need to learn.&nbsp; Once you master these few
commands, you will be able to accomplish all basic editing tasks.&nbsp; In later chapters, more sophisticated commands will
be introduced which allow advanced tasks to be completed more quickly.
<H3 ID="Moving_Around"> Moving Around </H3>
<BR>When you are in command mode, you may move around in your text using various cursor keys.&nbsp; The basic keys that you
use to move around are:
<DL>
<DT>UP (up arrow key)
<DD>Cursor up through the text.
<DT>DOWN (down arrow key)
<DD>Cursor down through the text.
<DT>LEFT (left arrow key)
<DD>Cursor left through the text.
<DT>RIGHT (right arrow key)
<DD>Cursor right through the text.
<DT>HOME
<DD>Move to the start of the current line.
<DT>END
<DD>Move to the end of the current line.
<DT>PAGEUP
<DD>Move up one page in the text.
<DT>PAGEDOWN
<DD>Move down one page in the text.
<DT>CTRL_PAGEUP (Ctrl key + Page Up key)
<DD>Move to the first character on the first line in the file.
<DT>CTRL_PAGEDOWN (Ctrl key + Page Down key)
<DD>Move to the last character on the last line in the file.
</DL>
<BR>These same cursor keys may also be used when entering text in text insertion mode.
<H3 ID="Saving_and_Exiting_a_File"> Saving and Exiting a File </H3>
<BR>Once you have modified a file, may want to save it and either edit other files or exit the editor.&nbsp; When you exit
a modified file, you may want to either discard your changes or keep them.
<BR><BR>You can discard ALL of your files by selecting the<B> Exit</B> item in the<B> File</B> menu.&nbsp; Alternatively,
you can discard or save the changes on an individual file basis.
<BR><BR>If you wish to save the current file you are editing and leave that particular edit session, the fastest way to do
it is to use the command 'ZZ'.&nbsp; Press<B> ESC</B> to make sure that you are in command mode, and then type two capital
z's ('ZZ') in a row.&nbsp; This saves the file, then exits the edit buffer for the file.&nbsp; If you are editing any other
files, the next one in the list will become the current one.&nbsp; If you are not editing any other files, then Vi will exit.
<BR><BR>You may use certain menu items to save or discard changes to your file.&nbsp; The main menu option<B> File</B> (by
clicking on it with the mouse or by pressing<B> ALT_F</B>) has options for saving the current file.&nbsp; As well, each edit
window has a menu associated with it that you can access by pressing<B> ALT_G</B>.&nbsp; You can also access this menu by
clicking on the gadget ('') in the top left hand corner of an edit window.&nbsp; This menu has a number of choices for dealing
with the file.
<BR><BR>If you activate the<B> File</B> menu item, either with the mouse or by pressing<B> ALT_F,</B> a menu will be displayed
as follows:
<BR><BR><TT><IMG SRC="vi004.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 5.</I></B><B><I></I></B><B> The File Menu</B>
<BR><BR>If you select the<B> Save current file</B> item, Vi will save the current file you are editing.&nbsp; You will remain
editing the current file.
<BR><BR>If you select the<B> Save current file and close</B> item, Vi will save the current file you are editing, and close
the edit window.&nbsp; If you are editing any other files, the next one in the list will become the current one.&nbsp; If
you are not editing any other files, then Vi will exit.
<BR><BR>If you activate the individual file menu either by clicking on the gadget at the top-left corner of the edit window
with the mouse or by pressing<B> ALT_G</B>, then a menu will pop up as follows:
<BR><BR><TT><IMG SRC="vi005.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 6.</I></B><B><I></I></B><B> The Individual Edit Window menu</B>
<BR><BR>If you select the<B> Save current file</B> item, Vi will save the current file you are editing.&nbsp; You will remain
editing the current file.
<BR><BR>If you select the<B> Save &amp; close</B> item, Vi will save the current file you are editing, and exit that edit
buffer.&nbsp; If you are editing any other files, the next one in the list will become the current one.&nbsp; If you are not
editing any other files, then Vi will exit.
<BR><BR>If you select the<B> Close no save</B> item, Vi will discard the current file without saving your modifications.&nbsp;
If you are editing any other files, the next one in the list will become the current one.&nbsp; If you are not editing any
other files, then Vi will exit.
<BR><BR>If you select the<B> Close</B> item, Vi will try to discard the current file.&nbsp; However, if the file has been
modified, then the option will fail.
<H3 ID="Inputting_Text"> Inputting Text </H3>
<BR>You have already learned that pressing the<B> INS</B> key while in command mode puts Vi into insert mode.&nbsp; Once you
are in insert mode, you may enter whatever text you like.&nbsp; You may cursor around and modify your text in whatever way
you choose.&nbsp; Once you are done, you may press the<B> ESC</B> key to return to command mode.
<BR><BR>While you are in text insertion mode, the basic keys that allow you to move through the text are:
<DL>
<DT>UP (up arrow key)
<DD>Cursor up through the text.
<DT>DOWN (down arrow key)
<DD>Cursor down through the text.
<DT>LEFT (left arrow key)
<DD>Cursor left through the text.
<DT>RIGHT (right arrow key)
<DD>Cursor right through the text.
<DT>HOME
<DD>Move to the start of the current line.
<DT>END
<DD>Move to the end of the current line.
<DT>PAGEUP
<DD>Move up one page in the text.
<DT>PAGEDOWN
<DD>Move down one page in the text.
<DT>CTRL_PAGEUP (Ctrl key + Page Up key)
<DD>Move to the first character on the first line in the file.
<DT>CTRL_PAGEDOWN (Ctrl key + Page Down key)
<DD>Move to the last character on the last line in the file.
</DL>
<BR>These keys allow you to manipulate the text while in text insertion mode:
<DL>
<DT>CTRL_DEL (Control-Delete)
<DD>Deletes the current line.
<DT>BS (Backspace key)
<DD>Deletes the character before the cursor, moving the cursor and the rest of the line to the left one character.
<DT>DEL (Delete key)
<DD>Delete the character under the cursor.&nbsp; If you are at the end of the line,<B> DEL</B> has the same effect as pressing<B>
BS.</B>
<DT>ENTER
<DD>Start a new line.
<DT>INS
<DD>Toggles between inserting and overstriking text.
</DL>
<BR>Along with the<B> INS</B> key, there are a number of other keys that you can press in command mode that will place you
in text insertion mode, where you can edit text.&nbsp; The difference between all of these commands is where the cursor moves
to before you start inputting text.&nbsp; The basic set of keys is:
<DL>
<DT>a
<DD>Starts appending (inserting) text after the current character.
<DT>A
<DD>Starts appending (inserting) text after the last character on the current line.
<DT>i
<DD>Starts inserting text at the current cursor position.&nbsp; This is the same as pressing the<B> INS</B> key.
<DT>I
<DD>Starts inserting text before the first non-white space character on the current line.
<DT>o
<DD>Adds a blank line after the current line, and starts you inserting text on the new line.
<DT>O
<DD>Adds a blank line before the current line, and starts you inserting text on the new line.
<DT>R
<DD>Starts overstriking text at the current cursor position.
<DT>INS
<DD>Start inserting text at the current cursor position.
</DL>
<BR>Remember, while in text insertion mode, the following mode indicator will appear on the menu bar:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: overstrike</TT>
<BR><BR>depending on whether you are inserting or overstriking text.&nbsp; As well, the cursor will change to a larger block
cursor to help you remember that you are are inputting text.
<BR><BR>To exit text insertion mode at any time, press the<B> ESC</B> key.&nbsp; Your mode indicator will switch to
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: command</TT>
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit a new file (called &quot;test&quot;, for example) as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi test</TT>
<BR><BR>You will see the following screen:
<BR><BR><TT><IMG SRC="vi006.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 7.</I></B><B><I></I></B><B> Editing the New File &quot;test&quot;</B>
<BR><BR>Note the message window (the bottom two lines of the screen) contains the message
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;test&quot; [new file] line 1 of 1&nbsp; -- 100% --</TT>
<BR><BR>This message indicates that you are editing a new file called test, that you are on line 1 of a 1 line file, and that
line 1 is 100% of the way into the file.
<BR><BR>You may see that message any time by pressing<B> CTRL_G</B> (hold down the Ctrl key and press the g key).
<BR><BR>Enter text insertion mode by pressing the<B> INS</B> key, and type the following lines:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<BR><BR>When you are done typing these lines, remember to press the<B> ESC</B> key to return to command mode.
<BR><BR>Press<B> CTRL_G</B> (hold down Ctrl and press the g key).&nbsp; The message window (the bottom two lines of the screen)
will show the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;test&quot; [modified] line 2 of 2&nbsp; -- 100% --</TT>
<BR><BR>Now, press two capital z's in a row ('ZZ').&nbsp; This will save the file and return to the operating system command
prompt.
<LI>Edit the file you created in the previous example, by typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi test</TT>
<BR><BR>You will see the following screen:
<BR><BR><TT><IMG SRC="vi007.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 8.</I></B><B><I></I></B><B> Editing the File &quot;test&quot;</B>
<BR><BR>Note the message window (the bottom two lines of the screen) contains the message
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;test&quot; line 1 of 2&nbsp; -- 50% --</TT>
<BR><BR>This message is different than when you edited &quot;test&quot; for the first time.&nbsp; The &quot;[new file]&quot;
indicator is gone, since you have edited an existing file.&nbsp; This message indicates to you that you are now editing a
file called test, that you are on line 1 of a 2 line file, and that line 1 is 50% of the way into the file.
<BR><BR>Now try to experiment with the different ways of entering insert mode.
<OL>
<LI>Try pressing the 'A'(capital 'a') key.&nbsp; This will move your cursor to the end of the line, and will put you into
insert mode.&nbsp; Try adding some text to this line, and press the<B> ESC</B> key when you are done.
<LI>Try pressing the 'I' key.&nbsp; This will move your cursor to the start of the line, and will put you into insert mode.
&nbsp;Try adding some text to this line, and press the<B> ESC</B> key when you are done.
<LI>Try pressing the 'R' key.&nbsp; This will start you in overstrike mode.&nbsp; Note that the you have a very large cursor
and that the mode indicator says:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: overstrike</TT>
<BR><BR>Try typing some characters.&nbsp; As you type, what was there already is replaced by what you type.&nbsp; Press the<B>
ESC</B> key when you are done.
<LI>Try pressing the 'i' key.&nbsp; This is the same as pressing the<B> INS</B> key.&nbsp; Now type some text, then press
the<B> INS</B> key.&nbsp; Note that your cursor turned to full height from half height, and the mode indicator changed from:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>to
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: overstrike</TT>
<BR><BR>Now, when you type, you will replace the existing characters.&nbsp; Try pressing the<B> INS</B> key again.&nbsp; This
time, your cursor will turn from full height to half height, and the mode indicator will change from:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: overstrike</TT>
<BR><BR>to
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>Remember to press the<B> ESC</B> key when you are done.
<LI>Try pressing the 'a' key.&nbsp; This will move the cursor over one character, and put you in insert mode.&nbsp; Try cursoring
around inside your text using the arrow keys.&nbsp; Use the<B> END</B> key to move to the end of a line, and the<B> HOME</B>
key to move to the start of a line.&nbsp; Press the<B> ESC</B> key when you are done.
</OL>
<BR>You have now made a number of significant modifications to your file.&nbsp; To discard the file without saving your changes,
activate the individual file menu (at the top-left corner of the edit window) either by clicking on the gadget with the mouse
or by pressing<B> ALT_G.</B>&nbsp; When the menu is up, try selecting the<B> Close</B> item.&nbsp; You will get the message:
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File modified - use :q! to force</TT>
<BR><BR>The command &quot;:q!&quot; being referred to will be discussed later.&nbsp; The file can be exited without saving
by using the<B> Close no save</B> menu item.&nbsp; Activate the individual file menu again, and select this item.&nbsp; This
will discard your changes to the file, and since you are not editing any other files, you are returned to the operating system
command prompt.
</OL>
<H2 ID="Cutting_and_Pasting_Text"> Cutting and Pasting Text </H2>
<BR>So far, you have learned how to edit a file, input some text, and save or cancel your changes.&nbsp; Now you will learn
some simple ways of deleting text and moving it elsewhere.
<H3 ID="Lines"> Lines </H3>
<BR>The section <A HREF="#Inputting_Text">Inputting Text</A> noted that pressing<B> CTRL_DEL</B> (control-delete) deleted
a line when inputting text.&nbsp; This same command can be used while in command mode.
<BR><BR>If you want to delete more than one line at once, you may precede this delete command with a<B> repeat count.</B>
&nbsp;You enter a repeat count simply by typing numbers before you press<B> CTRL_DEL</B>.&nbsp; As you type a number in command
mode, it will appear in a special window, as follows:
<BR><BR><TT><IMG SRC="vi008.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 9.</I></B><B><I></I></B><B> Repeat Count Display</B>
<BR><BR>The number that you are typing is displayed in the repeat count window.&nbsp; As with all command mode commands, if
you decide that you have made a mistake, just press the<B> ESC</B> key and the count you have been typing will be cancelled.
<BR><BR>So, if you type a repeat count of 5 and then press<B> CTRL_DEL</B>, five lines will be deleted.&nbsp; If you do not
type a repeat count, then one line will be deleted.
<BR><BR>You can also delete a line by pressing the 'd' key twice in a row ('dd').&nbsp; This has the exact same effect as
pressing the<B> CTRL_DEL</B> key.&nbsp; You may precede this command by a repeat count as well.&nbsp; For example, typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 12dd</TT>
<BR><BR>deletes the next 12 lines in your file.
<BR><BR>Once you have deleted some lines, you might want to paste them back in.&nbsp; If you press<B> SHIFT_INS</B> (shift
insert), the line(s) you deleted will be pasted in after the current line.&nbsp; If you press<B> CTRL_INS</B> (control insert),
the line(s) you deleted will be pasted in before the current line (which reverses the action of<B> CTRL_DEL</B>).
<BR><BR>There are two other keys for pasting, the letters 'p' and 'P' (small p and capital p).&nbsp; Small 'p' pastes the
line(s) you deleted after the current line, just like<B> SHIFT_INS</B>.&nbsp; Capital p ('P') pastes the line(s) you deleted
before the current line, just like<B> CTRL_INS</B>.
<BR><BR>If you do not wish to delete some lines, but you do wish to copy them so you can paste them somewhere else, then you
may use the &quot;yank&quot; command.&nbsp; If you press the letter 'Y', or type the letters 'yy', you will &quot;yank&quot;
(make a copy of) the current line.&nbsp; Just like 'dd' or<B> CTRL_DEL,</B> you can precede these commands with a repeat count.
&nbsp;For example, typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 6Y</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 6yy</TT>
<BR><BR>will copy 6 lines in your file.
<BR><BR>Once you have yanked the lines, you may paste them in, as discussed above.
<H3 ID="Characters"> Characters </H3>
<BR>To delete characters while in command mode, you can press the<B> DEL</B> key or the 'x' key.&nbsp; The current character
under the cursor will be deleted.&nbsp; You may type a repeat count before you type<B> DEL</B> or 'x', and that will delete
a number of characters.&nbsp; For example, typing<TT> 3x</TT> when the cursor is on 'T' in the line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Delete Test.</TT>
<BR><BR>will leave you with
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Delete t.</TT>
<BR><BR>and the cursor will be on the 't' just before the period.
<BR><BR>If you wish to delete the character before the cursor, you may press the letter 'X' (capital x).&nbsp; This will delete
the character before the cursor, and move the cursor back one (i.e.&nbsp; the cursor stays on the character that it was on
before you pressed the 'X').&nbsp; You may use a repeat count with this command.&nbsp; For example, typing<TT> 3X</TT> when
the cursor is on 'T' in the line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Delete Test.</TT>
<BR><BR>will leave you with
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; DeleTest.</TT>
<BR><BR>and the cursor will still be on the 'T'.
<BR><BR>Once you have deleted some characters, you might want to paste them back in.&nbsp; The keys involved are the exact
same keys for pasting lines.&nbsp; The difference is that when you paste characters, the characters are pasted into the current
line, whereas when you paste lines, the lines are pasted above or below the current line.
<BR><BR>If you press<B> SHIFT_INS</B> (shift insert), the character(s) you deleted will be pasted in after the current cursor
position on the current line.&nbsp; If you press<B> CTRL_INS</B> (control insert), the character(s) you deleted will be pasted
in before the current cursor position on the current line.
<BR><BR>There are two other keys for pasting, the letters<B> p and P</B> (small p and capital p).&nbsp; Small p pastes the
character(s) you deleted after the current cursor position on the current line, just like<B> SHIFT_INS</B>.&nbsp; Capital
p ('P') pastes the character(s) you deleted before the cursor position on the current line, just like<B> CTRL_INS</B>.
<BR><BR><B>Exercises</B>
<BR><BR>Edit the file &quot;test&quot; created in the previous examples by typing:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi test</TT>
<BR><BR>You should see the lines:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<BR><BR>The following examples are meant to be tried in sequence.&nbsp; Each example builds on the previous one.
<OL>
<LI>Copy the first line by pressing the 'Y' (capital 'y') while the cursor is on the first line.
<LI>Now press the 'p' key to paste the line after the current line.&nbsp; You should see the lines:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<LI>Now, go to the second line and yank 2 lines, by pressing the number '2' followed by the letters 'yy'.
<LI>Cursor up to the top line, and press the capital p ('P') key to paste the lines above the current line.&nbsp; You will
see:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<LI>Now, move to the top line in the file and delete the first 3 lines by press the number '3' followed by the letters 'dd'.
&nbsp;You will now have the following lines:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<LI>Delete the first line by pressing<B> CTRL_DEL</B> or by typing 'dd'.&nbsp; You will be left with a single line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<LI>Paste the line you deleted back in.&nbsp; If you press the letter 'p' or<B> SHIFT_INS</B>, the line you deleted will appear
after the first line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<LI>Paste the line above the current line by pressing capital p ('P') or<B> CTRL_INS</B>.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<LI>Delete all 3 lines of text.&nbsp; Make sure your cursor is on the first line in the file, and type<TT> 3dd</TT>.&nbsp;
This will delete all three lines, and you will have an empty edit buffer.
<LI>Paste the lines back in by typing 'p'.&nbsp; The three lines will be pasted in:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is another test line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<LI>Go to the first line in the file, and to the first column (try pressing<B> CTRL_PAGEUP</B> ).&nbsp; Then press the 'x'
key.&nbsp; The first line should become:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; his is a test line.</TT>
<BR><BR>Your cursor should be on the letter 'h' in column 1.
<LI>Type the letter 'p'.&nbsp; The 'T' that you deleted will appear after the 'h' in column 1:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; hTis is a test line.</TT>
<LI>Type capital p ('P').&nbsp; The 'T' that you deleted will appear before the 'i' and after the 'T' you just pasted in.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; hTTis is a test line.</TT>
<LI>Cursor to the first column and type<TT> 6x</TT>.&nbsp; This will delete the first word and the space:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; is a test line.</TT>
<LI>Move the cursor over to the 't' in 'test'.&nbsp; Press capital x ('X'), and you will see:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; is atest line.</TT>
<BR><BR>The cursor will remain on the 't'.
<LI>Type<TT> 3X</TT>.&nbsp; You will now see
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; itest line.</TT>
<BR><BR>and the cursor will still be on the 't'.
</OL>
<BR>You have now made a number of significant modifications to your file.&nbsp; To discard the file without saving your changes,
activate the individual file menu (at the top-left corner of the edit window) either by clicking on the gadget with the mouse
or by pressing<B> ALT_G.</B>&nbsp; When the menu is up, try selecting the<B> Close</B> item.&nbsp; You will get the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File modified - use :q! to force</TT>
<BR><BR>The command &quot;:q!&quot; being referred to will be discussed later.&nbsp; The file can be exited without saving
by using the<B> Close no save</B> menu item.&nbsp; Activate the individual file menu again, and select this item.&nbsp; This
will discard your changes to the file, and since you are not editing any other files, you are returned to the operating system
command prompt.
<H2 ID="Using_the_Menus"> Using the Menus </H2>
<BR>Vi comes with a default set of menus that have the following items
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File&nbsp; Edit&nbsp; Position&nbsp; Window&nbsp; Options&nbsp; Help</TT>
<BR><BR>The first letter of each word is highlighted, indicating that that key is the hot key to activate the menu.
<BR><BR>To use a hot key, hold down the<B> ALT</B> key and press the highlighted key.&nbsp; This will display the menu.
<BR><BR>There is also a menu associated with each edit window.&nbsp; You can activate this window by pressing<B> ALT_G</B>
or by clicking on the gadget in the upper left hand corner of the edit window.
<BR><BR>You may activate a menu on the menu bar by pressing the appropriate hot key or by clicking on the word with the mouse.
&nbsp;When you press down with the left mouse button, the menu is activated.&nbsp; If you keep the button down and move the
mouse from right to left across the menu bar, the other menus will activate as the mouse cursor sweeps across the word.
<BR><BR>Once a menu is activated, a selection list appears.&nbsp; An item in the selection list may be chosen by doing one
of the following:
<OL>
<LI>Cursoring up or down to the item and pressing the<B> ENTER</B> key.
<LI>Typing the hot key for the menu item.
<LI>Clicking on an item with the mouse.
<LI>Dragging the mouse and releasing the mouse button on an item.
</OL>
<BR>Once a menu is activated, it may be cancelled by pressing the<B> ESC</B> key, or by clicking the mouse somewhere outside
the menu.&nbsp; If you press the cursor right key, the menu to the right of the menu currently selected will activate.&nbsp;
If you press the cursor left key, the menu to the left of the menu currently selected will activate.
<BR><BR>The following sections describe each of the menus, and how each menu item is used.
<H3 ID="Edit_Window_Menu"> Edit Window Menu </H3>
<BR>This menu is selected by pressing<B> ALT_G</B> or by clicking on the gadget in the upper left hand corner of an edit window
with the mouse.&nbsp; Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi005.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 10.</I></B><B><I></I></B><B> The Individual Edit Window menu</B>
<DL>
<DT>Maximize
<DD>Causes the window to become as large as possible.
<DT>Minimize
<DD>Causes the window to become as small as possible.
<DT>Open another view
<DD>Creates a separate window that is editing the same copy of the current file.&nbsp; This is useful if you wish to be able to
look at one part of a file while editing another part
<DT>Save
<DD>Saves the current file.&nbsp; You remain editing the current file.
<DT>Save and close
<DD>Saves the current file and closes the window.
<DT>Close no save
<DD>Closes the window, discarding the current file and any changes you may have made.
<DT>Close
<DD>Closes the window.&nbsp; If the file has been modified, then the close will fail.
</DL>
<H3 ID="Window_Menu"> Window Menu </H3>
<BR>This menu is selected by pressing<B> ALT_W</B> or by clicking on word<B> Window</B> on the menu bar with the mouse.&nbsp;
Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi009.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 11.</I></B><B><I></I></B><B> The Window menu</B>
<DL>
<DT>Tile windows
<DD>Tile all edit windows in a grid pattern, so that each window is displayed without overlapping any other.
<DT>Cascade windows
<DD>Causes all edit windows to cascade (overlap each other with the top border of each visible).
<DT>Reset windows
<DD>Resets all edit buffer windows to be full size (the same as maximizing each window individually).
</DL>
<H3 ID="Options_Menu"> Options Menu </H3>
<BR>This menu is selected by pressing<B> ALT_O</B> or by clicking on word<B> Options</B> on the menu bar with the mouse.&nbsp;
Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi010.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 12.</I></B><B><I></I></B><B> The Options menu</B>
<DL>
<DT>Settings
<DD>This brings up a list of all settings for Vi.&nbsp; For more information on settings, see the chapter <A HREF="#Editor_Settings">Editor Settings</A>.
</DL>
<H3 ID="File_Menu"> File Menu </H3>
<BR>This menu is selected by pressing<B> ALT_F</B> or by clicking on the word<B> File</B> in the menu bar with the mouse.
&nbsp;Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi004.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 13.</I></B><B><I></I></B><B> The File menu</B>
<DL>
<DT>Open new file
<DD>Displays a list of all files and directories in the current directory, along with all drives that are available.&nbsp; If
you pick a file, you will edit that file.&nbsp; If you pick a directory, Vi will display all the files in that directory.
&nbsp;If you pick a drive, Vi will display all files in the current directory on that drive.
<DT>Next file
<DD>Flip to the next file in the list of files that you are editing.
<DT>Read file
<DD>Displays a list of all files and directories in the current directory, along with all drives that are available.&nbsp; If
you pick a file, that file will be read into the current edit buffer, after the current line.&nbsp; If you pick a directory,
Vi will display all the files in that directory.&nbsp; If you pick a drive, Vi will display all files in the current directory
on that drive.
<DT>File list
<DD>When selected, a list of all files that you are editing is displayed.&nbsp; Any modified files have an asterisk ('*') before
their name.&nbsp; By picking a file from this list, you move to that file.
<DT>Save current file
<DD>Vi will save the current file you are editing.&nbsp; You will remain editing the current file.
<DT>Save current file and close
<DD>Vi will save the current file you are editing, and close the edit window.&nbsp; If you are editing any other files, the next
one in the list will become the current one.&nbsp; If you are not editing any other files, then Vi will exit.
<DT>Enter command
<DD>Allows you to enter a command line command.&nbsp; The command line is discussed in the next chapter, <A HREF="#Intermediate_Usage">Intermediate Usage</A>.
<DT>System
<DD>Starts an operating system command shell.&nbsp; You exit the command shell by typing 'exit'.
<DT>Exit
<DD>Exits all edit sessions, as long as no files have been modified.
</DL>
<H3 ID="Edit_Menu"> Edit Menu </H3>
<BR>This menu is selected by pressing<B> ALT_E</B> or by clicking on word<B> Edit</B> on the menu bar with the mouse.&nbsp;
Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi012.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 14.</I></B><B><I></I></B><B> The Edit menu</B>
<DL>
<DT>Delete region
<DD>Deletes the selected (highlighted) region.
<DT>Copy (yank) region
<DD>Makes a copy of the selected (highlighted) region.
<DT>Paste (put)
<DD>Pastes the last deleted or copied text into the current edit buffer.&nbsp; The text is pasted after the current position in
the file.
<DT>Insert text
<DD>Causes Vi to enter insert mode at the current cursor position.
<DT>Overstrike text
<DD>Causes Vi to enter overstrike mode at the current cursor position.
<DT>Undo
<DD>Undoes the last change that you made to the current edit buffer.&nbsp; If you keep selecting this item, you will undo more
and more of your changes.&nbsp; If you select this item enough times, your file will be restored to the state when it was
first opened or created.
<DT>Redo
<DD>Redoes the last undo that you did in the current edit buffer.&nbsp; If you keep selecting this item, you will redo more and
more of your undos.&nbsp; If you select this item enough times, your file will return to the state when you made your last
change.
</DL>
<H3 ID="Position_Menu"> Position Menu </H3>
<BR>This menu is selected by pressing<B> ALT_P</B> or by clicking on word<B> Position</B> on the menu bar with the mouse.
&nbsp;Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi013.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 15.</I></B><B><I></I></B><B> The Position menu</B>
<DL>
<DT>Start of file
<DD>Moves to the start of the current edit buffer.
<DT>End of file
<DD>Moves to the end of the current edit buffer.
<DT>Line number
<DD>Prompts for a specific line number.&nbsp; Once you enter the number, you are placed at that line.
<DT>Start of line
<DD>Moves to the start of the current line.
<DT>End of line
<DD>Moves to the end of the current line.
<DT>Search forwards
<DD>Prompts for some search text.&nbsp; Once you type some text and press<B> ENTER</B>, Vi searches forwards through the current
edit buffer for the text.&nbsp; If the text is found, it is highlighted and the cursor is placed on the first character of
the text.
<DT>Search backwards
<DD>Prompts for some search text.&nbsp; Once you type some text and press<B> ENTER</B>, Vi searches backwards through the current
edit buffer for the text.&nbsp; If the text is found, it is highlighted and the cursor is placed on the first character of
the text.
<DT>Last search
<DD>Repeats the last search that you typed, in the same direction as the initial search request.
<DT>Reverse last search
<DD>Repeats the last search that you typed, but the searches occurs in the opposite direction of the initial search request.
</DL>
<H3 ID="Help_Menu"> Help Menu </H3>
<BR>This menu is selected by pressing<B> ALT_H</B> or by clicking on word<B> Help</B> on the menu bar with the mouse.&nbsp;
Once you have done one of these, the following menu appears:
<BR><BR><TT><IMG SRC="vi014.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 16.</I></B><B><I></I></B><B> The Help menu</B>
<DL>
<DT>Command line
<DD>Gives help on all command line commands.
<DT>Keystrokes
<DD>Gives help on command mode and text insertion mode
<DT>Regular expressions
<DD>Gives help on the search and replace abilities of Vi's regular expressions.
<DT>Scripts
<DD>Gives help on Vi's script language.
<DT>Starting up
<DD>Gives help on the various command line parameters for Vi.
</DL>
<H1 ID="Intermediate_Usage"> Intermediate Usage </H1>
<BR>This chapter discusses a number of the commonly used features of the Open Watcom Vi Editor.&nbsp; The knowledge of the
information in the chapter <A HREF="#Basic_Usage">Basic Usage</A> is assumed.
<H2 ID="The_Command_Line"> The Command Line </H2>
<BR>The Open Watcom Vi Editor has a powerful set of commands that are entered in a special command window.&nbsp; These commands
are referred to as command line commands.&nbsp; You can activate the command window in two ways:
<OL>
<LI>Select the<B> Enter command</B> item under the<B> File</B> menu.
<LI>Press the colon (':') key when in command mode.&nbsp; Remember to press the<B> ESC</B> key to ensure that you are in command
mode before pressing ':'.
</OL>
<BR>Once you have done one of the previous things, the following window will appear on your screen:
<BR><BR><TT><IMG SRC="vi015.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 17.</I></B><B><I></I></B><B> The Command Entry window</B>
<BR><BR>You may enter a command in this window (for example:&nbsp; quit).&nbsp; If you wish to cancel the command that you
are typing, just press the<B> ESC</B> key and the window will disappear.
<BR><BR>You may cursor back and forth in the command window, and use the backspace and delete keys to change mistakes.&nbsp;
Once you press<B> ENTER</B>, the command will be processed.
<BR><BR>If you cursor up, you will go through a list of commands that you have entered at the command window (newest to oldest).
&nbsp;This is your command<B> history</B>.&nbsp; Cursoring down will take you through the history from oldest to newest.&nbsp;
This is very useful if you have typed a complicated command and did not get it quite right or if you just wish to execute
the command again.
<BR><BR>The chapter <A HREF="#Editor_Commands">Editor Commands</A> describes the command line in more detail.
<H3 ID="Line_Numbers"> Line Numbers </H3>
<BR>Some command line commands accept a line address or a line range as a parameter.&nbsp; For example, when specifying the
<A HREF="#WRITE">WRITE</A> command, you may specify
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :write</TT>
<BR><BR>or you may specify
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,10 write</TT>
<BR><BR>A line address is a number or a sum of numbers.&nbsp; As well, some special symbols may be used:
<DL>
<DT>.&nbsp; (dot)
<DD>Represents the current line number.
<DT>$ (dollar)
<DD>Represents the last line number.
<DT>'a (front quote)
<DD>Indicates the line with the mark 'a' set; marks 'a' through 'z' may be used.&nbsp; Marks are discussed later in this chapter.
</DL>
<BR>A line range is two line addresses separated by a comma.
<BR><BR>Some examples of line addresses and line ranges are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .+5&nbsp;&nbsp;&nbsp;&nbsp; - five lines past the current line.</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - the line with mark a.</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - the last line</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1,5&nbsp;&nbsp;&nbsp;&nbsp; - lines 1 to 5</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .,$&nbsp;&nbsp;&nbsp;&nbsp; - current line in file to end line of file</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .-3,100 - the line 3 before the current to line 100</TT>
<BR><BR>Line addresses are discussed in greater detail in the section <A HREF="#Line_Addresses">Line Addresses</A>.
<BR><BR>If you just enter a line address on its own on the command line, then you will go directly to that line.
<BR><BR><B>Exercises</B>
<OL>
<LI>Start up Vi, and try selecting the<B> File</B> menu, and then selecting the<B> Enter command</B> item.&nbsp; Notice how
the window pops up.&nbsp; Try typing and cursoring around.&nbsp; When you are done, press the<B> ESC</B> key to cancel the
command.
<LI>Make sure that you are in command mode, then press the colon (':') key.&nbsp; Once again, the command window pops up.
&nbsp;Try typing and cursoring around.&nbsp; When you are done, press the<B> ESC</B> key to cancel the command.
<LI>Add 10 lines to your file.&nbsp; Then press the colon (':') key and enter the number 5.&nbsp; You will go to line 5.&nbsp;
Try entering different numbers and see what happens.&nbsp; If you enter a line number that does not exist, you will see the
message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; No such line</TT>
<LI>Now that you have a number of commands entered, try cursoring up and down in the command window.&nbsp; You will see all
the commands that you have typed.
</OL>
<H2 ID="Getting_a_File_for_Editing"> Getting a File for Editing </H2>
<BR>In the chapter <A HREF="#Basic_Usage">Basic Usage</A>, you saw that you could edit a file by either specifying the name
on the command line when invoking Vi, or by selecting the<B> File</B> menu and picking the<B> Edit new file</B> option.
<BR><BR>The general way to edit a new file is to use the command line command <A HREF="#EDIT">EDIT</A>.&nbsp; To enter this
command, make sure that you are in command mode and press the colon (':') key.&nbsp; Once the command prompt is displayed,
then simply type <A HREF="#EDIT">EDIT</A> (optionally followed by a file name or a list of files), and then press<B> ENTER</B>.
<BR><BR>If you do not specify a file, then a directory listing is displayed.&nbsp; From this listing, you may pick a file,
another directory, or another drive (the available drives are at the end of the listing).&nbsp; A directory is indicated by
the leading backslash ('\').&nbsp; If a directory is chosen in this window, then the list of files in that directory is displayed.
&nbsp;This list also contains all the drives available (which are enclosed in square brackets, e.g.&nbsp; [c:]).&nbsp; If
you select a drive, the list of files in the current directory on that drive is displayed.
<BR><BR>For files and directories, each line indicates the file name, the various attributes of the file ([d]irectory, [a]rchive,
[h]idden, [s]ystem, [r]eadable, [w]riteable, e[x]ecutable), the file size in bytes, the date and time of the last file update.
&nbsp;Some sample lines are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test.c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a--rw-&nbsp;&nbsp;&nbsp; 25586
&nbsp;08/16/92&nbsp; 08:14</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bar.c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a--r--&nbsp;&nbsp;&nbsp;
&nbsp; 639&nbsp; 02/27/92&nbsp; 13:25</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \tmpdir&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d---rw-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; 0&nbsp; 08/16/92&nbsp; 19:05</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [c:]</TT>
<BR><BR>You may also specify one or more files after the <A HREF="#EDIT">EDIT</A> command.&nbsp; If a file you specify is
the same as one already being edited, then control is simply transferred to the window with that file.
<BR><BR><B>Exercises</B>
<OL>
<LI>Start up Vi without any files specified.&nbsp; Then try entering the command line command <A HREF="#EDIT">EDIT</A> without
any parameters (remember to press the colon (':') key first).&nbsp; You will see a screen similar to the following:
<BR><BR><TT><IMG SRC="vi016.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 18.</I></B><B><I></I></B><B> File Selection display</B>
<BR><BR>Try changing to other directories or drives with this list.&nbsp; When you are done, press the<B> ESC</B> key to cancel
the selection list.
<LI>Try entering the following command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :e afile</TT>
<BR><BR>This will cause Vi to start editing a new file called &quot;afile&quot;.
<LI>Try entering the command
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :e bfile cfile</TT>
<BR><BR>This will cause Vi to edit two new files, one named &quot;bfile&quot; and one named &quot;cfile&quot;.
<LI>Enter the command
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :e afile</TT>
<BR><BR>This returns you to the first file (&quot;afile&quot;) that you were already editing.
<LI>Press<B> CTRL_C</B>, and Vi will quit all the files that you have started editing.
</OL>
<H2 ID="Moving_Between_Files"> Moving Between Files </H2>
<BR>There are a number of ways to move between files that you are editing.&nbsp; As you have seen in the previous section,
you can move to a file that you are already editing by using the command line command <A HREF="#EDIT">EDIT</A> and specifying
the name of the file you wish to move to.
<BR><BR>You may press the<B> F1</B> key while in command mode or text insertion mode.&nbsp; This function key moves you to
the next file in the list of files that you are editing.
<BR><BR>You may press the<B> F2</B> key while in command mode or text insertion mode.&nbsp; This function key moves you to
the previous file in the list of files that you are editing.
<BR><BR>The previous two function keys that you may use also have command line equivalents.&nbsp; The command line command
<A HREF="#NEXT">NEXT</A> moves you to the next file in the list of files that you are editing.
<BR><BR>The command line command <A HREF="#PREV">PREV</A> moves you to the previous file in the list of files that you are
editing.
<BR><BR>It is also possible to display a list of all files that you are currently editing.&nbsp; You may press the<B> F7</B>
key in either command mode or text insertion mode, or enter the command line command <A HREF="#FILES">FILES</A>.&nbsp; Doing
any one of these things will cause a list of all files currently being edited to appear.&nbsp; An asterisk ('*') will precede
files that have been modified.&nbsp; From this list, you may go to one of the files, quit one of the files, or save one of
the files then quit it.
<BR><BR><B>Exercises</B>
<OL>
<LI>Start up Vi in the following way:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi a b c</TT>
<BR><BR>This will cause you to edit three new files.&nbsp; Now, press the<B> F7</B> key.&nbsp; The following will appear:
<BR><BR><TT><IMG SRC="vi017.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 19.</I></B><B><I></I></B><B> Current File List</B>
<BR><BR>Select the file<B> b</B>.&nbsp; That file will become the current file being edited.
<LI>Type the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :files</TT>
<BR><BR>You will see the same result as you saw in the previous example.&nbsp; Press the<B> ESC</B> key to cancel this display.
<LI>Press the<B> F1</B> key several times.&nbsp; You will rotate through the three files that you are editing.
<LI>Press the<B> F2</B> key several times.&nbsp; You will rotate through the three files that you are editing, but in the
opposite order than when you were pressing the<B> F1</B> key.
<LI>Use the command line commands <A HREF="#NEXT">NEXT</A> and <A HREF="#PREV">PREV</A> to move through the files.&nbsp; These
commands behave the same as pressing<B> F1</B> and<B> F2</B>.
</OL>
<H2 ID="Moving_Around_in_a_File"> Moving Around in a File </H2>
<BR>You have already learned to use the cursor keys to move around through a file.&nbsp; When you are in command mode, there
are a number of keys that also cause movement through the file.&nbsp; Many of these keys may be preceded with a repeat count.
&nbsp;You enter the repeat count by typing a number (which will be echoed in a special window on the screen).
<BR><BR>Once you have entered the repeat count, you may cancel it by pressing the<B> ESC</B> key, or you may follow it with
a movement command.&nbsp; For example, if you type:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3&lt;Down Arrow Key&gt;</TT>
<BR><BR>you will move down three lines instead of one.
<BR><BR>The basic command mode movement commands are:
<DL>
<DT>UP (up arrow key)
<DD>Cursor up through the text.
<DT>DOWN (down arrow key)
<DD>Cursor down through the text.
<DT>LEFT (left arrow key)
<DD>Cursor left through the text.
<DT>RIGHT (right arrow key)
<DD>Cursor right through the text.
<DT>HOME
<DD>Move to the start of the current line.
<DT>END
<DD>Move to the end of the current line.
<DT>PAGEUP
<DD>Move up one page in the text.
<DT>PAGEDOWN
<DD>Move down one page in the text.
<DT>CTRL_PAGEUP (Ctrl key + Page Up key)
<DD>Move to the first character on the first line in the file.
<DT>CTRL_PAGEDOWN (Ctrl key + Page Down key)
<DD>Move to the last character on the last line in the file.
</DL>
<BR>There are additional commands that move you around the file which do not require your fingers to move off the home row
of your keyboard.&nbsp; For a touch typist, this is a great advantage.&nbsp; For a list of all of the movement commands, see
the section <A HREF="#Movement">Movement</A> in the chapter <A HREF="#Modes">Modes</A>.&nbsp; The following list of movement
commands move you around on the current line:
<DL>
<DT>$ (dollar sign)
<DD>Move to the end of the current line.
<DT>0 (zero)
<DD>Move to the start of the current line.
<DT>b
<DD>Move backwards to the previous word on the current line.&nbsp; If preceded with a repeat count, you move back that many words.
<DT>h
<DD>Move right through the text.&nbsp; If preceded with a repeat count, then you move right that many characters.
<DT>l
<DD>Move left through the text.&nbsp; If preceded with a repeat count, then you move left that many characters.
<DT>w
<DD>Move forward to the next word on the current line.&nbsp; If preceded with a repeat count, you move forward that many words.
<DT>B
<DD>Move backwards to the previous whitespace delimited word on the current line.&nbsp; If preceded with a repeat count, you move
back that many words.
<DT>W
<DD>Move forward to the next whitespace delimited word on the current line.&nbsp; If preceded with a repeat count, you move forward
that many words.
</DL>
<BR>The following list of movement commands move you to other lines:
<DL>
<DT>CTRL_B
<DD>Move back one page in the text.&nbsp; If preceded with a repeat count, you will move back that many pages.
<DT>CTRL_D
<DD>Move down one half page in the text.&nbsp; If preceded with a repeat count, then you move forward that many lines.&nbsp; As
well, any future<B> CTRL_D</B> or<B> CTRL_U</B> commands issued will move that many lines, instead of a half page.
<DT>CTRL_F
<DD>Move forward one page in the text.&nbsp; If preceded with a repeat count, you will move forward that many pages.
<DT>CTRL_U
<DD>Move up one half page in the text.&nbsp; If preceded with a repeat count, then you move backwards that many lines.&nbsp; As
well, any future<B> CTRL_U</B> or<B> CTRL_D</B> commands issued will move that many lines, instead of a half page.
<DT>j
<DD>Move down through the text.&nbsp; If preceded with a repeat count, then you move down that many lines.
<DT>k
<DD>Move up through the text.&nbsp; If preceded with a repeat count, then you move up that many lines.
<DT>G
<DD>Moves to the last line in the file.&nbsp; If preceded with a repeat count, then you move to that line in the file.
<DT>H
<DD>Move to the top of the current edit window.&nbsp; If preceded with a repeat count, you move that many lines from the top of
the edit window.
<DT>L
<DD>Move to the bottom of the current edit window.&nbsp; If preceded with a repeat count, you move that many lines from the bottom
of the edit window.
<DT>M
<DD>Move to the middle of the current edit window.
</DL>
<BR><B>Exercises</B>
<OL>
<LI>Edit a new file, &quot;atest&quot;.&nbsp; Once you have edited this file, add the line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a test line.</TT>
<BR><BR>Once you have done this, copy this line by pressing 'Y'.&nbsp; Press 'p' to paste in the copy.&nbsp; Press 'p' 28
more times, so that you create a file with 30 lines in it (all just like the first line).
<LI>So that we can more easily see the results, type the following command line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :%s/^/\# /</TT>
<BR><BR>This is a substitution command.&nbsp; It will replace the start of each of your lines with the line number.&nbsp;
We will learn about the substitution command in the next chapter.&nbsp; When you are done, you should see a screen similar
to the following:
<BR><BR><TT><IMG SRC="vi018.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 20.</I></B><B><I></I></B><B> &quot;ATEST&quot; File Contents</B>
<LI>Press the 'G' key.&nbsp; You will move to the last line of the file.
<LI>Type the following:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 15G</TT>
<BR><BR>This will move you to line 15.
<LI>Try using<B> CTRL_F</B> and<B> CTRL_B</B>.&nbsp; Notice that they behave just like<B> PAGEUP</B> and<B> PAGEDOWN</B>.
<LI>Try using 'w' and 'b' to move forward and backwards through words in the file.
<LI>Try using 'j' and 'k' to cursor up and down in the file.
<LI>Try using 'l' and 'h' to cursor left and right in the file.
<LI>Press the 'H' key.&nbsp; The cursor will move to the top line in the edit window.
<LI>Press the 'L' key.&nbsp; The cursor will move to the bottom line in the edit window.
<LI>Try typing some numbers before pressing the 'H' and 'L' keys.&nbsp; For example, typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3H</TT>
<BR><BR>will move your cursor to the 3rd line from the top of the edit window.
<LI>Press the 'M' key.&nbsp; The cursor will move to the middle of edit window.
<LI>Press the '$' key.&nbsp; The cursor will move to the end of the current line.
<LI>Press the '0' (zero) key.&nbsp; The cursor will move to the start of the current line.
<LI>Press<B> CTRL_D</B>.&nbsp; You will move down half a page
<LI>Type the number '2' and then press CTRL_D.&nbsp; Notice that you only move down 2 lines.
<LI>Press<B> CTRL_D</B>.&nbsp; You will move down 2 lines.
<LI>Press<B> CTRL_U</B>.&nbsp; You will move up 2 lines.
<LI>Press 'ZZ' to save the file.&nbsp; This file will be used in later exercises.
</OL>
<H2 ID="Saving_and_Exiting_a_File_Revisited"> Saving and Exiting a File Revisited </H2>
<BR>We have already seen in the section <A HREF="#Saving_and_Exiting_a_File">Saving and Exiting a File</A> a number of ways
to save and exit your files.&nbsp; These methods included typing 'ZZ' and using the menus.
<BR><BR>There are a number of different command line commands that can be used for saving and/or quitting your files.
<OL>
<LI><A HREF="#QUIT">QUIT</A> (&quot;!&quot;) or<B> q</B> (&quot;!&quot;)
<LI><A HREF="#QUITALL">QUITALL</A>
<LI><A HREF="#WRITE">WRITE</A> (&quot;!&quot;) or<B> w</B> (&quot;!&quot;)
<LI><A HREF="#WQ">WQ</A>
<LI><A HREF="#XIT">XIT</A>
</OL>
<BR>The <A HREF="#QUIT">QUIT</A> command is used to exit a file without saving it.&nbsp; If the file has been modified, the
command will fail and the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File modified - use :q! to force</TT>
<BR><BR>will be displayed.&nbsp; To quit a modified file, the exclamation point ('!') is used:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :quit!</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>This discards the contents of the current edit buffer.
<BR><BR>To quit every file that you are editing, the <A HREF="#QUITALL">QUITALL</A> command is used.&nbsp; If no files have
been modified, then you will immediately exit Vi.&nbsp; If files have been modified, you will be asked to verify whether or
not you really want to exit the editor.
<BR><BR>The <A HREF="#WRITE">WRITE</A> command is used to write the current file.&nbsp; If you specify a file name, the edit
buffer will be written to a file with that name.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :write new.txt</TT>
<BR><BR>writes out a new file with the name<TT> new.txt</TT>.
<BR><BR>If the file name you specify already exists, you will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File exists - use w! to force</TT>
<BR><BR>To overwrite an existing file, use the exclamation point ('!'):
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; write! new.txt</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; w! new.txt</TT>
<BR><BR>If you are specifying a new file name, you may also specify a line range to write to that new file.&nbsp; Some examples
are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,100 write new.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - write the first 100 lines to &quot;new.txt&quot;.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :50 write a.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - write
line 50 to &quot;a.txt&quot;</TT>
<BR><BR>The <A HREF="#WQ">WQ</A> (write and quit) and the <A HREF="#XIT">XIT</A> (exit) commands both do the same thing.&nbsp;
They write out the current file if it has been modified, and then exit the file.&nbsp; This is the exact same as typing 'ZZ'
in command mode.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit a file as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi abc</TT>
<BR><BR>Add the lines:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 1.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 2.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 3.</TT>
<LI>Enter the command line command <A HREF="#QUIT">QUIT</A> (remember to press the colon (':') key to bring up the command
window).&nbsp; You will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File modified - use :q! to force</TT>
<BR><BR>Press<B> CTRL_G</B>.&nbsp; The message window will indicate the following:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;abc&quot; [modified] line 3 of 3&nbsp; -- 100% --</TT>
<BR><BR>As you can see, the file has been modified, so you are not allowed to quit.
<LI>Enter the command line command <A HREF="#WRITE">WRITE</A>.&nbsp; You will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;abc&quot; 3 lines, 27 bytes</TT>
<BR><BR>This indicates that the file has been written.&nbsp; Now press<B> CTRL_G</B>, and you will see:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;abc&quot; line 3 of 3&nbsp; -- 100% --</TT>
<BR><BR>Notice that the file no longer is marked as modified once it is written.
<LI>Try the command line command <A HREF="#QUIT">QUIT</A> again.&nbsp; This time, you will be able to quit the file, since
the file has been written, and is no longer marked as modified.
<LI>Re-edit the file &quot;abc&quot;.&nbsp; Enter command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,2 w def</TT>
<BR><BR>This will write out a new file called &quot;def&quot;.&nbsp; Now quit Vi.
<LI>Edit the file &quot;def&quot;.&nbsp; Notice that it contains the lines
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 1.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 2.</TT>
<BR><BR>These are the first two lines of &quot;abc&quot;, that you wrote to this file.&nbsp; Try entering the command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :write abc</TT>
<BR><BR>You will see the message
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; File exists - use w! to force</TT>
<BR><BR>Since &quot;abc&quot; already exists, you are not allowed to overwrite it, unless you specify the exclamation point,
as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :write! abc</TT>
<LI>Re-edit the file &quot;abc&quot;.&nbsp; Delete the last line.&nbsp; Press<B> CTRL_G</B>, and you will see that the file
is modified.&nbsp; Now, enter the command line command (remembering to press ':'):
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>You will exit the file, even though it has been modified.
<LI>Re-edit the file &quot;abc&quot;, and delete the last line.&nbsp; Enter the command line command <A HREF="#XIT">XIT</A>.
&nbsp;This will save the file and exit it, and because you are not editing any other files, you will exit Vi.&nbsp; You could
also use the command <A HREF="#WQ">WQ</A> to do the same thing.&nbsp; Both of these commands do the same thing as pressing
'ZZ' while in command mode.
<LI>Start up Vi as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi abc def</TT>
<BR><BR>This will edit two files, &quot;abc&quot; and &quot;def&quot;.&nbsp; Enter the command line command <A HREF="#QUITALL">QUITALL</A>
and you will exit Vi.
<LI>Repeat the previous example, but add a line to one of the two files.&nbsp; Now enter the command line command <A HREF="#QUITALL">QUITALL</A>.
&nbsp;In this case, you will be prompted with
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Files are modified, really exit?</TT>
<BR><BR>Reply with a 'y', and you will exit Vi, even though files are modified.
</OL>
<H2 ID="Using_the_Mouse"> Using the Mouse </H2>
<BR>You may use the mouse for many things.&nbsp; You may select text, relocate the cursor, resize a window, move a window,
use the scroll bar, or use the menus.
<BR><BR>Text selection will be discussed in the next section.&nbsp; Using menus with the mouse was discussed in the previous
chapter, in the section <A HREF="#Using_the_Menus">Using the Menus</A>.
<BR><BR>By simply moving your mouse cursor to a location in an edit window and clicking the left mouse button, the cursor
will move to that position.
<BR><BR>By moving your mouse to the top border of an edit window and pressing down the left mouse button, you can move the
window around by moving your mouse.&nbsp; When you release the button, the window will move to the new position.
<BR><BR>By moving your mouse to the bottom right hand corner of an edit window (to the vertical two-headed arrow) and pressing
down the left mouse button, you can resize the window by moving your mouse.&nbsp; When you release the left button, the window
will be redrawn in its new size.
<BR><BR>Edit windows have scroll bars which indicate the position in the file and allow you to position to different portions
of the file.&nbsp; The scroll thumb (the solid block on the scroll bar) indicates the relative location of your current cursor
position in the file.&nbsp; If the scroll thumb is at the top, then you are on the top line of the file.&nbsp; If it is at
the bottom, then you at the end of the file.
<BR><BR>By left-clicking on the single arrows at the top or the bottom of the scroll bar, the edit window will scroll up or
down a single line.&nbsp; If you hold the left mouse button down, then the window will scroll continuously.
<BR><BR>If you click the left mouse button in the scrollbar region between the thumb and the top arrow, you will move up a
page in the file you are editing.&nbsp; If you click the left mouse button below the scroll thumb, you will move down a page
in the file you are editing.&nbsp; If you hold the left mouse button down, then you will page continuously.
<BR><BR>By pressing and holding down the left mouse button on the scroll thumb, you can set the edit position yourself.&nbsp;
As you drag the scroll thumb up and down, the edit window will be redrawn to show you the corresponding portion of your file.
<H2 ID="Selecting_Text"> Selecting Text </H2>
<BR>Vi has the ability to highlight (select) text, either on an individual line or a group of lines, and then do various actions
on the highlighted (selected) text.
<BR><BR>You may select text with either the keyboard or the mouse.&nbsp; The keyboard interface is as follows:
<DL>
<DT>SHIFT_UP (shifted cursor up key)
<DD>Starts or continues selection and moves up to the previous line.&nbsp; The new line is selected.
<DT>SHIFT_DOWN (shifted cursor down key)
<DD>Starts or continues selection and moves down to the next line.&nbsp; The new line is selected.
<DT>SHIFT_LEFT (shifted cursor left key)
<DD>Starts or continues selection and moves left to the next character.&nbsp; The new character is selected.
<DT>SHIFT_RIGHT (shifted cursor right key)
<DD>Starts or continues selection and moves right to the previous character.&nbsp; The new character is selected.
<DT>CTRL_R
<DD>Starts text selection, if no text is selected.&nbsp; The current character is highlighted.&nbsp; If a region is already selected,
then this cancels the selected region.
<DT>ESC
<DD>Cancels the current selection.
</DL>
<BR>Once text selection has been started, then any movement command may be used to expand or shrink the selected region.&nbsp;
Multiple line selections always select complete lines.&nbsp; A portion of a single line can be selected (i.e.&nbsp; a word)
by growing the selection left or right.&nbsp; A portion of a line is called a column region and a multiple line selection
is called a line region.
<BR><BR>You can select text with the mouse by holding down the right or left mouse button, and moving the mouse up and down
or left and right.&nbsp; When using the right button, a selection menu will appear after the mouse button is released , from
which you choose what you wish to do with the selected text.
<BR><BR>If you highlight a region by holding down the left button and moving the mouse, then releasing the button has no effect
(the region simply remains highlighted).&nbsp; This region may then be operated on from the command line, using different
command mode commands, or by right-clicking the mouse in the selected region.
<BR><BR>If you click the right mouse button (right-click) while the mouse cursor is in a highlighted (selected) set of lines,
then a selection menu for the lines appears.&nbsp; If you right-click in a selected group of characters on a single line (a
column region) then a selection menu for that column region appears.&nbsp; The two menus are different.&nbsp; You may also
bring up these menus by pressing the underscore ('_') key.
<BR><BR>If you click the right mouse button (right-click) in an unselected region, the current word will be highlighted and
the selection menu will appear.&nbsp; This can also be accomplished by pressing the underscore ('_') key.
<BR><BR>If you double click the left mouse button, the current word will be highlighted and the selection menu will appear.
&nbsp;However, the word selected here is slightly different than the word selected by clicking the right mouse button.&nbsp;
This word is defined to include the characters '.', ':' and '\', so that double clicking the left mouse button on a file name
will select the entire path.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Click the left mouse button when the mouse cursor is on the top line, and drag your mouse down until the first 10 lines
are selected.&nbsp; If you do not have a mouse, then press the shift key and cursor down until the first 10 lines are selected.
<BR><BR>Now, click the right mouse button somewhere inside the selected region.&nbsp; If you do not have a mouse, press the
underscore ('_') key.&nbsp; A menu will appear.&nbsp; The selected region and the menu will appear as follows:
<BR><BR><TT><IMG SRC="vi019.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 21.</I></B><B><I></I></B><B> Selected Lines menu</B>
<BR><BR>From this menu, you can either delete or yank (copy) the lines.&nbsp; You may cancel the menu by pressing<B> ESC</B>
(the region remains highlighted).&nbsp; You can cancel the selected region by pressing<B> ESC</B> again.
<BR><BR>If you click your left mouse button somewhere outside the selected region, both the menu and the selected region will
be cancelled.
<LI>Make sure the selected region is cancelled (press<B> ESC</B> until it is gone).&nbsp; Now press the right mouse button
on the word &quot;This&quot; in the first line of the file.&nbsp; If you do not have a mouse, then position the cursor somewhere
in the word &quot;This&quot; and press the underscore ('_') key.&nbsp; You will see the following menu appear:
<BR><BR><TT><IMG SRC="vi020.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 22.</I></B><B><I></I></B><B> Selected Columns menu</B>
<BR><BR>You may do a number of things from the popup menu:
<DL>
<DT>Open
<DD>Open (edit) the file indicated by the highlighted (selected) text.&nbsp; The selected text is treated like a file name, and
an edit session for that file is started.&nbsp; The file will be given the name of the highlighted text.
<DT>Change
<DD>Change the selected word.
<DT>Delete
<DD>Delete the selected word.
<DT>Yank
<DD>Yank (copy) the selected word.
<DT>Fgrep
<DD>Search the current directory for any files containing the selected word.&nbsp; See the command line command <A HREF="#FGREP">FGREP</A>
in the chapter <A HREF="#Editor_Commands">Editor Commands</A> for more information.
<DT>Tag
<DD>Search your tags file for the selected word.&nbsp; See the command line command <A HREF="#TAG">TAG</A> in the chapter <A HREF="#Editor_Commands">Editor Commands</A>
for more information.
</DL>
<LI>Make sure the selected region is cancelled.&nbsp; Then add the following line to the start of the file (use the command
mode key capital o ('O') to open a line above the first line):
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; #include &lt;c:\h\test.h&gt;</TT>
<BR><BR>Now, try right mouse clicking on parts of the file name.&nbsp; Notice how only individual pieces of the file name
are selected.&nbsp; Now, try double clicking the left mouse button somewhere on the file name.&nbsp; The menu from the previous
example will appear, selecting the entire file name as shown below:
<BR><BR><TT><IMG SRC="vi021.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 23.</I></B><B><I></I></B><B> Double Click Selection</B>
<LI>Try using<B> CTRL_R</B> to start a selection and then move around in your file.&nbsp; Use the<B> ESC</B> key to cancel
your selection.
<LI>Try using the shifted cursor keys to select lines.&nbsp; Use the<B> ESC</B> key to cancel your selection.
</OL>
<H2 ID="Joining_Text"> Joining Text </H2>
<BR>Vi has the ability to join two lines together.&nbsp; If you press the letter 'J' (capital 'j') while in command mode,
then the next line will join to the end of the current line.&nbsp; All white space except for a single space will be removed.
&nbsp;For example, typing 'J' while on the first line in these two lines:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This is another line.</TT>
<BR><BR>produces the line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is a line. This is another line.</TT>
<BR><BR>If you precede 'J' with a repeat count, then that many lines after the current line will be joined to the current
line.&nbsp; For example, typing
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 4J</TT>
<BR><BR>while on the first line of:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 1.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Line 2.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Line 3.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 4.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Line 5.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Line 6.</TT>
<BR><BR>will produce the result:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Line 1. Line 2. Line 3. Line 4. Line 5.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Line 6.</TT>
<BR><BR>There is also a command line command called <A HREF="#JOIN">JOIN</A> that is used to join lines of text together.
&nbsp;This command is used as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;linerange&gt; join</TT>
<BR><BR>The lines in the specified range<B> &lt;linerange&gt;</B> are joined together.&nbsp; If a single line number is specified,
then the line after that line is joined to the specified line.&nbsp; If no line number is specified, then the line after the
current line is joined to the current line.&nbsp; For example, the command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,5 join</TT>
<BR><BR>will cause the lines 1 through 5 of the file to be joined into a single line.
<H2 ID="Using_Marks"> Using Marks </H2>
<BR>Text marks are used to memorize a position in the edit buffer that you may want to return to later.&nbsp; Each file may
have up to 26 marks in it (identified via the letters 'a' through 'z').&nbsp; Marks may also be set with the command line
command <A HREF="#MARK">MARK</A>.
<BR><BR>A mark is useful in that you do not have to remember a specific line number, you just need to remember the letter
that you picked for the mark name.&nbsp; You can then return to the line or even the exact position on the line easily.
<BR><BR>You may set a mark by pressing the letter 'm' (in command mode) and pressing one of the letters from 'a' to 'z'.&nbsp;
For example, if you type
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ma</TT>
<BR><BR>you will set the mark 'a' at the current position in the file, and you will see the following message appear:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mark 'a' set</TT>
<BR><BR>You can set a mark with the command line command <A HREF="#MARK">MARK</A>.&nbsp; The syntax of the command is
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;line&gt; mark &lt;letter&gt;</TT>
<BR><BR>You specify which line the mark is to be set on with<B> &lt;line&gt;</B>.&nbsp; If no line is specified, the current
line is assumed.&nbsp; You specify the mark id ('a'-'z') with<B> &lt;letter&gt;</B>.
<BR><BR>For example, the following command line commands may be used to set marks:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; mark a&nbsp;&nbsp; - sets the mark 'a' on the current line.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 5 mark b - sets the mark 'b' on line 5.</TT>
<BR><BR>Once you have set a mark, you may return to the mark by pressing either the front quote (apostrophy) (') or the back
quote (`), followed by the letter of the mark you wish to return to.&nbsp; Using the back quote causes you to return to the
row and column position of the mark.&nbsp; Using the front quote (apostrophy) causes you to return to the line with the mark
(the cursor moves to the first column on the line).
<BR><BR>For example, after setting the mark 'a', you can return to it by typing:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 'a&nbsp;&nbsp; - return to the line with the mark 'a'.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; `a&nbsp;&nbsp; - return to the exact position with the mark 'a'.</TT>
<BR><BR>Marks are useful when you need to go searching a file for something, but you want to be able to return to a specific
position.&nbsp; They are also useful when deleting and copying text (see the section <A HREF="#Deleting__Copying__and_Pasting_Text">Deleting, Copying, and Pasting Text</A>
later on in this chapter).
<BR><BR>For more information on marks, see the section <A HREF="#Marks">Marks</A> in the chapter <A HREF="#Modes">Modes</A>.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Cursor to the letter 'i' in the word 'is' on the first line, and type
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ma</TT>
<BR><BR>This will set the mark 'a' at that position.
<LI>Page down twice.&nbsp; Now, type
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; `a</TT>
<BR><BR>You will be moved to the 'i' in the word 'is' on the first line.
<LI>Page down twice.&nbsp; Now, type
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 'a</TT>
<BR><BR>You will be moved to the first column of the first line.
<LI>Go to the bottom of the file.&nbsp; Now, enter the command line command <A HREF="#MARK">MARK</A> as follows (remember
to press colon (':') to bring up the command window)
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :mark z</TT>
<LI>Go to the top of the file (using CTRL_PAGEUP), and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :'z</TT>
<BR><BR>This will return you to the last line of the file
<LI>Now, type the following command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :'a</TT>
<BR><BR>This will take you back to line 1, where you set the mark 'a'.
</OL>
<H2 ID="Searching_for_Text"> Searching for Text </H2>
<BR>You can search a file for a string in either a forwards or backwards direction.&nbsp; By using the command mode key '/',
you are prompted for a string to search for in the forwards direction.&nbsp; By using the command mode key '?', you are prompted
for a string to search for in the backwards direction.
<BR><BR>When the string is found, your cursor is moved to the first character of the string, and the string is highlighted.
<BR><BR>If the string (for example, &quot;abc&quot;) is not found, you will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; String 'abc' not found</TT>
<BR><BR>When you press '/' (forward search), the following window will appear:
<BR><BR><TT><IMG SRC="vi022.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 24.</I></B><B><I></I></B><B> Search String Entry Window</B>
<BR><BR>This window behaves just like the command window:&nbsp; you may cursor back and forth in the command window, and use
the backspace and delete keys to change mistakes.&nbsp; Once you press<B> ENTER</B>, the command will be processed.&nbsp;
If you press<B> ESC</B>, the search in cancelled.
<BR><BR>If you press '?' (backwards search), you will be able to enter a backwards search string.
<BR><BR>If you press 'n', Vi will take you to the next occurrence of the last search string, searching in the same direction
as the last search command.
<BR><BR>If you press 'N', Vi will take you to the next occurrence of the last search string, only it will search in the opposite
direction as the last search command.
<BR><BR>You can use complex search strings known as<B> regular expressions</B>.&nbsp; Certain characters have special meaning
in a regular expression, they are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ^ $ . [ ( ) | ? + * \&nbsp; @</TT>
<BR><BR>If you wish to search for any of these special characters, you must place a backslash ('\') before the character.
&nbsp;For example, to search for:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ab.c$</TT>
<BR><BR>you have to enter:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ab\.c\$</TT>
<BR><BR>For information on regular expressions, see <A HREF="#Regular_Expressions">Regular Expressions</A>.
<BR><BR>The section <A HREF="#Searching">Searching</A> in the chapter <A HREF="#Modes">Modes</A> describes the searching in
more detail.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Press the forward slash ('/') key, and enter the string &quot;this&quot;.&nbsp; The word &quot;This&quot; on the first
line will be highlighted, and your cursor will be on the 'T'.&nbsp; (notice that the search is case insensitive).
<LI>Now press, the 'n' key.&nbsp; You will move to the word &quot;This&quot; on the second line.
<LI>Press 'n' two more times.&nbsp; You will now be on the word &quot;This&quot; on the fourth line.
<LI>Press 'N'.&nbsp; You will move to the word &quot;This&quot; on the third line.
<LI>Press the question mark ('?') key, and enter the string &quot;1&quot;.&nbsp; You will move to the '1' on the first line.
<LI>Press 'n'.&nbsp; The search will wrap around to the end of the file, and search backwards until the '1' on line 21 is
encountered.
<LI>Press 'n'.&nbsp; You will move to the '1' on line 19.
<LI>Press 'N'.&nbsp; You will move back to the '1' on line 21.
</OL>
<H2 ID="Deleting__Copying__and_Pasting_Text"> Deleting, Copying, and Pasting Text </H2>
<BR>There are two useful commands in Vi for deleting and copying text.&nbsp; In command mode, you press the 'd' key to start
the delete sub-mode.&nbsp; You press the 'y' key to start the yank (copy) sub-mode.&nbsp; Each of these sub-modes is indicated
on the mode indicator on the menu bar:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: delete</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: yank</TT>
<BR><BR>Once you have entered the sub-mode, you can then specify one of the following operations:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<BR>Some examples are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; dw&nbsp;&nbsp;&nbsp;&nbsp; -&nbsp; delete a word</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; yr&nbsp;&nbsp;&nbsp;&nbsp; -&nbsp; yank (copy) highlighted region</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; d/text - delete up to the word &quot;text&quot;.</TT>
<BR><BR>These commands can be preceded by an optional repeat count.&nbsp; This repeat count specifies the number of times
that the command will be executed.&nbsp; If the repeat count is not specified, the command is executed once.&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3dw - delete 3 words</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 2yy - copy 2 lines</TT>
<BR><BR>A copy buffer can be specified between the repeat count and the command.&nbsp; The buffer is identified by preceding
it with double quotes (&quot;).&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3&quot;ayy - copy 3 lines into buffer 'a'.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;zdd&nbsp; - delete 3 lines into buffer 'z'.</TT>
<BR><BR>The optional copy buffer is a place where deleted or yanked text resides.&nbsp; If you do not specify a buffer, then
the active copy buffer is assumed.&nbsp; There are 9 numbered buffers (1-9) that may be selected as the active buffer (buffer
1 is the default active buffer).&nbsp; When text enters the active copy buffer, the old contents of the active buffer spills
into the next buffer.&nbsp; The contents of each buffer spills into the next, with the end buffer (9) losing its contents.
<BR><BR>The active copy buffer may be selected by pressing<B> CTRL_F1</B> through<B> CTRL_F9</B> in command mode.&nbsp; When
you do this, a message appears showing you which buffer has been selected, how many lines/characters are in the buffer, and
the first line of the buffer.
<BR><BR>There are also 26 named buffers, 'a' through 'z'.&nbsp; The contents of these buffers is constant over the life of
your editing session.&nbsp; They retain their contents until you update them.
<BR><BR>For more information on copy buffers, see the section <A HREF="#Copy_Buffers">Copy Buffers</A> in the chapter <A HREF="#Modes">Modes</A>.
<BR><BR>There is also a <A HREF="#DELETE">DELETE</A> command line command and a <A HREF="#YANK">YANK</A> command line command
for deleting and yanking text.&nbsp; These commands only operate on line ranges.&nbsp; Their syntax is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;range&gt; delete &lt;&quot;?&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;range&gt; yank &lt;&quot;?&gt;</TT>
<BR><BR>The<B> &lt;&quot;?&gt;</B> indicates a copy buffer, and<B> &lt;range&gt;</B> indicates a line range.&nbsp; If no line
range is specified, then the current line is assumed.&nbsp; Some examples are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,5 delete&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - delete lines 1 to 5</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,$ yank &quot;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - copy all lines into buffer 'a'</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;- deletes the current line</TT>
<BR><BR>In the section <A HREF="#Cutting_and_Pasting_Text">Cutting and Pasting Text</A> in the previous chapter, you learned
about the small 'p' and the capital 'p' ('P') command mode commands to put (paste) copied or deleted text into the edit buffer.
&nbsp;Remember, small 'p' is used to paste after the current cursor position, and capital 'p' ('P') is use to paste before
the current cursor position.
<BR><BR>If what you deleted or yanked was a sequence of characters on a single line, then these characters are inserted into
the current line when you paste.&nbsp; If you deleted or yanked whole lines, then those lines are inserted around the current
line when you paste.
<BR><BR>The put (paste) command line commands accept a copy buffer as the buffer to paste out of.&nbsp; The default is the
active copy buffer, but any buffer can be specified.&nbsp; Once again,<B> &lt;&quot;?&gt;</B> indicates a copy buffer:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;&quot;?&gt;p</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;&quot;?&gt;P</TT>
<BR><BR>As well, there is a command line command for pasting text:&nbsp; the <A HREF="#PUT">PUT</A> command.&nbsp; The syntax
is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;line&gt; put &lt;!&gt; &lt;&quot;?&gt;</TT>
<BR><BR>If the line<B> &lt;line&gt;</B> is specified, then the buffer is pasted around the specified line instead of the current
line.
<BR><BR>If the exclamation mark is specified, then contents of the copy buffer are pasted before the specified line.&nbsp;
Otherwise, the contents of the copy buffer are pasted after the specified line.
<BR><BR>The<B> &lt;&quot;?&gt;</B> is an optional copy buffer.&nbsp; If it is not specified, then the active copy buffer is
used.&nbsp; The double quotes (&quot;) must be specified.
<BR><BR>Deleting text is discussed in more detail in the section <A HREF="#Deleting_Text">Deleting Text</A> in the chapter
<A HREF="#Modes">Modes</A>.
<BR><BR>Copying text is discussed in more detail in the section <A HREF="#Copying_Text">Copying Text</A> in the chapter <A HREF="#Modes">Modes</A>.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Press 'dd'.&nbsp; This will delete the first line of the file.
<LI>Press 'dw'.&nbsp; This will delete the first word of the line.
<LI>Press 'd$'.&nbsp; This will delete to the end of the line.
<LI>Press 'dj'.&nbsp; This will delete the current line and the next line.
<LI>Press '2dw'.&nbsp; This will delete the first two words of the current line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 04 This is a test line.</TT>
<BR><BR>leaving you with
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; is a test line.</TT>
<LI>Press '2w'.&nbsp; This will move you to the letter 't' in &quot;test&quot;.&nbsp; Press capital p ('P').&nbsp; The 2 words
you deleted will be inserted before the 't':
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; is a 04 This test line.</TT>
<LI>Type the following command mode keys:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;add</TT>
<BR><BR>You will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 1 lines deleted into buffer a</TT>
<LI>Press 'p'.&nbsp; Note that you inserted the two words you deleted before into the current line.
<LI>Type:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;ap</TT>
<BR><BR>This will insert the contents of buffer 'a' (line line you deleted) after the current line.
<LI>Type the following:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 2&quot;byy</TT>
<BR><BR>This will copy the next two lines into buffer &quot;b&quot;.&nbsp; You will see the message
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 2 lines yanked into buffer b</TT>
<LI>Type:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;bP</TT>
<BR><BR>This will insert the two lines you yanked before the current line.
<LI>Type
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3&quot;zyw</TT>
<BR><BR>This will yank three words into copy buffer 'z'.
<LI>Make sure you are in command mode and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>to exit without saving your changes.
</OL>
<H2 ID="Altering_Text"> Altering Text </H2>
<BR>You could change text by deleting the text and then entering insert mode.&nbsp; However, Vi provides a special method
for doing both of these things at once.&nbsp; By pressing the 'c' key in command mode, you enter the change sub-mode.&nbsp;
You will see the mode line indicate:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: change</TT>
<BR><BR>If you are changing characters on a line, the characters will be highlighted.&nbsp; If you press the<B> ESC</B> key,
the change will be cancelled.&nbsp; Once you type a character, the characters will be deleted and you will enter text insertion
mode.
<BR><BR>If you are changing whole lines, the lines are deleted and you enter text insertion mode.
<BR><BR>Once you have entered the change sub-mode, you can then specify one of the following operations:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<BR>Some examples are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; cw - change current word</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; c$ - change to the end of the current line</TT>
<BR><BR>You can also specify an optional repeat count before the change command.&nbsp; This will cause the change command
to be repeated that many times.&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 2cw - change two words</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3cc - change three lines</TT>
<BR><BR>The changing of text is discussed in greater detail in the section <A HREF="#Changing_Text">Changing Text</A> of the
chapter <A HREF="#Modes">Modes</A>.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Type 'cw'.&nbsp; This first word &quot;01&quot; will be highlighted.&nbsp; Press<B> ESC</B>.&nbsp; The word will return
to normal, and nothing will happen.
<LI>Type 'cw' again.&nbsp; This time, type the following:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is new text.</TT>
<BR><BR>and press the<B> ESC</B> key to exit text insertion mode.&nbsp; Your original line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 01 This is a test line.</TT>
<BR><BR>will now be:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is new text. This is a test line.</TT>
<LI>Type '2cc'.&nbsp; The first two lines will be deleted, and you will enter text insertion mode.&nbsp; Type the following:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is more new text.</TT>
<LI>Return to command mode by pressing the<B> ESC</B> key.&nbsp; Cursor to the letter 'i' in the word &quot;is&quot; and type
'c$'.&nbsp; This will highlight from the letter 'i' to the end of line.&nbsp; Enter the text:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This is more new text.</TT>
<LI>Make sure you are in command mode and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>to exit without saving your changes.
</OL>
<H2 ID="Undo_and_Redo"> Undo and Redo </H2>
<BR>Vi has an unlimited undo capacity (constrained only by memory and disk space).&nbsp; Every change that you make to a file
is remembered, and can be undone in the reverse order that you made the changes.
<BR><BR>A change can be undone by pressing the letter 'u' while in command mode.&nbsp; You can undo further changes by pressing
'u' repeatedly.
<BR><BR>If you undo a change you wanted to keep, you can<B> redo</B> it by pressing capital 'u' ('U').&nbsp; Each time you
press 'U', an undo is re-done.&nbsp; Once you undo changes, you cannot redo them after you modify the file.
<BR><BR>The command line command for undoing changes has the following syntax:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; undo</TT>
<BR><BR>If you specify an exclamation point ('!') after the <A HREF="#UNDO_LcommandR">UNDO (command)</A> keyword, then you
will do a redo instead of an undo:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; undo!</TT>
<BR><BR>See the section <A HREF="#Undoing_Changes">Undoing Changes</A> in the chapter <A HREF="#Modes">Modes</A> for more
information.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Delete the first line, delete the second line, then delete the third line (one at a time).&nbsp; Then, press 'u' in
command mode.&nbsp; The third line will come back.
<LI>Press 'u' again.&nbsp; The second line will come back.
<LI>Enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :undo</TT>
<BR><BR>The first line will come back.
<LI>Enter the command line command
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :undo</TT>
<BR><BR>again.&nbsp; This undo command cannot do anything, since you have already undo all the changes to your file.&nbsp;
You will see the message
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; No more undos</TT>
<BR><BR>appear.
<LI>Press the capital u ('U') key in command mode.&nbsp; The first line will now disappear, as you are undoing your undo.
<LI>Press 'U' again.&nbsp; The second line will disappear.
<LI>Enter the command line command (remember to press ':'):
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; undo!</TT>
<BR><BR>The third line will disappear.
<LI>Enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; undo!</TT>
<BR><BR>You will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; No more undos</TT>
</OL>
<H2 ID="Repeating_Edit_Operations"> Repeating Edit Operations </H2>
<BR>When you enter a command mode command to modify your file you can re-execute the sequence by pressing the dot ('.') key.
<BR><BR>For example, suppose you entered the command mode command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 3dd</TT>
<BR><BR>to delete 3 lines.&nbsp; If you press '.' after this, you will delete another 3 lines.
<BR><BR>There are two useful extension to this as well.&nbsp; Vi has concepts known as<B> memorize mode</B> and<B> alternate
memorize mode</B>.&nbsp; You enter memorize mode by pressing the letter 'm' (also used to set a mark) followed by a dot ('.').
&nbsp;You will then see the message
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Memorize Mode started</TT>
<BR><BR>From this point forward, every key that you type is memorized.&nbsp; When you are done memorizing, you can then press
the dot ('.') key while in command mode, and this ends memorize mode.&nbsp; You will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Memorize Mode ended</TT>
<BR><BR>Once you have memorized a key sequence, you can re-execute it by pressing dot ('.').&nbsp; This will cause Vi to behave
as if all the keys you memorized were being typed by you again.
<BR><BR>The memorized sequence will be lost the next time you change the text other than with '.'.&nbsp; To memorize a sequence
that will always be remembered, you can use<B> alternate memorize mode</B>.&nbsp; This mode is used the same way as memorize
mode, only you use an equals sign ('=') instead of a dot ('.').
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; from the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>.
&nbsp;Delete the first two lines by typing the command mode command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 2dd</TT>
<BR><BR>Now press the dot ('.') key.&nbsp; Two more lines will be deleted.
<LI>Move to the first column of the first line.&nbsp; Type the command mode command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; m.</TT>
<BR><BR>This will start you in memorize mode.&nbsp; Now, type:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; dwjdwj.</TT>
<BR><BR>This deletes the word on the first line, goes down to the next line, deletes another word on the next line, and goes
down one more line.&nbsp; The final dot ('.') terminates memorize mode.
<LI>Now, press dot ('.').&nbsp; This will delete the first word of the next two lines.
<LI>Make sure you are in command mode and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>to exit without saving your changes.
</OL>
<H1 ID="Advanced_Usage"> Advanced Usage </H1>
<BR>This chapter discusses a number of the less commonly used features of the Open Watcom Vi Editor.&nbsp; The knowledge of
the information in the chapter <A HREF="#Basic_Usage">Basic Usage</A> and <A HREF="#Intermediate_Usage">Intermediate Usage</A>
is assumed.
<H2 ID="The_Substitute_Command"> The Substitute Command </H2>
<BR>The command line command <A HREF="#SUBSTITUTE">SUBSTITUTE</A> is a powerful mechanism for changing text in your file.
&nbsp;For every match of a string, the string can be replaced with something else.
<BR><BR>You can use complex search strings known as<B> regular expressions</B>.&nbsp; Certain characters have special meaning
in a regular expression, they are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ^ $ . [ ( ) | ? + * \&nbsp; @</TT>
<BR><BR>If you wish to search for any of these special characters, you must place a backslash ('\') before the character.
&nbsp;For example, to search for:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ab.c$</TT>
<BR><BR>you have to enter:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ab\.c\$</TT>
<BR><BR>For information on regular expressions, see <A HREF="#Regular_Expressions">Regular Expressions</A>.
<BR><BR>The syntax of the <A HREF="#SUBSTITUTE">SUBSTITUTE</A> command is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;linerange&gt; substitute /&lt;string&gt;/&lt;subs&gt;/&quot;g&quot;&quot;i&quot;</TT>
<BR><BR>The line range<B> &lt;linerange&gt;</B> specifies the lines that the <A HREF="#SUBSTITUTE">SUBSTITUTE</A> command
is to work on.&nbsp; If no line range is specified, then the current line is assumed.
<BR><BR>The first occurrence of the search string<B> &lt;string&gt;</B> on each line is replaced with the string<B> &lt;subs&gt;</B>.
<BR><BR>If the letter 'g' is specified at the end, then every occurrence of the search string<B> &lt;string&gt;</B> on each
line is replaced with the string<B> &lt;subs&gt;</B>.
<BR><BR>If the letter 'i' is specified at the end, then the substitution is interactive.&nbsp; You will be prompted before
each replacement to verify that you want it to be done.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>
in the previous chapter <A HREF="#Intermediate_Usage">Intermediate Usage</A>.&nbsp; Enter the command line command (remember
to press colon (':') to bring up the command window):
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,$s/This/This This/</TT>
<BR><BR>All lines will have the word &quot;This&quot; replaced with &quot;This This&quot;.
<LI>Enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,$s/This/Change/</TT>
<BR><BR>Notice that only the first occurrence of the word &quot;This&quot; was replaced.
<LI>Type the letter 'u' in command mode to undo the change you just made.&nbsp; Then enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :1,$s/This/Change/g</TT>
<BR><BR>Now all of the occurrences of &quot;This&quot; were replaced.
<LI>Make sure you are in command mode and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>to exit without saving your changes.
</OL>
<H2 ID="The_Global_Command"> The Global Command </H2>
<BR>The command line command <A HREF="#GLOBAL">GLOBAL</A> is a method of executing a command on every line that has (or does
not have) a specific string.
<BR><BR>You can use complex search strings known as<B> regular expressions</B>.&nbsp; Certain characters have special meaning
in a regular expression, they are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ^ $ . [ ( ) | ? + * \&nbsp; @</TT>
<BR><BR>If you wish to search for any of these special characters, you must place a backslash ('\') before the character.
&nbsp;For example, to search for:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ab.c$</TT>
<BR><BR>you have to enter:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ab\.c\$</TT>
<BR><BR>For information on regular expressions, see <A HREF="#Regular_Expressions">Regular Expressions</A>.
<BR><BR>The syntax of the <A HREF="#GLOBAL">GLOBAL</A> command is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &lt;linerange&gt; global &quot;!&quot; /&lt;string&gt;/ &lt;cmd&gt;</TT>
<BR><BR>The line range<B> &lt;linerange&gt;</B> specifies the lines that the <A HREF="#GLOBAL">GLOBAL</A> command is to work
on.&nbsp; If no line range is specified, then all the lines in the file is assumed.
<BR><BR>The command line command<B> &lt;cmd&gt;</B> will be executed on every line that has the string<B> &lt;string&gt;</B>.
<BR><BR>If the exclamation mark ('!') is used, then the command line command<B> &lt;cmd&gt;</B> will be executed on every
line that does not have the string<B> &lt;string&gt;</B>.
<BR><BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>
in the previous chapter <A HREF="#Intermediate_Usage">Intermediate Usage</A>.&nbsp; Enter the command line command (remember
to press colon (':') to bring up the command window):
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :g/This/delete</TT>
<BR><BR>Each line that contains the word &quot;This&quot; on it will have the <A HREF="#DELETE">DELETE</A> command executed
on it.
<LI>Press the 'u' key to undo the previous global command, then enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :g/1/delete</TT>
<BR><BR>All lines with the character '1' in them will be deleted.
<LI>Press the 'u' key to undo the previous global command, then enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :g!/1/delete</TT>
<BR><BR>All lines without the character '1' in them will be deleted.
<LI>Make sure you are in command mode and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>to exit without saving your changes.
</OL>
<H2 ID="Searching_Files_For_Text"> Searching Files For Text </H2>
<BR>There are command line commands provided to search through all files for some text.&nbsp; These commands differ from the
search commands outlined in the section <A HREF="#Searching_for_Text">Searching for Text</A> in the previous chapter in that
they search files in directories rather than files that are being edited.&nbsp; These file search commands are <A HREF="#FGREP">FGREP</A>
and <A HREF="#EGREP">EGREP</A>.
<BR><BR>The <A HREF="#FGREP">FGREP</A> command is a fast search for a specified string.&nbsp; The syntax of this command is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; fgrep &quot;-c&quot; &quot;-i&quot; &lt;string&gt; &lt;files&gt;.</TT>
<BR><BR>The file list<B> &lt;files&gt;</B> is searched for the string<B> &lt;string&gt;</B>.
<BR><BR>If you wish to have spaces in your string, then you can enclose the string in either double quotes ('&quot;') or forward
slashes ('/').
<BR><BR>If<B> -c</B> is specified, then the search is made case sensitive.&nbsp; If<B> -i</B> is specified, then the search
is made case insensitive.&nbsp; If neither of these options is specified, then case sensitivity is determined by the current
<A HREF="#caseignore">caseignore</A> setting (for more information about <A HREF="#caseignore">caseignore</A>,see the section
<A HREF="#Boolean_Settings">Boolean Settings</A> in the chapter <A HREF="#Editor_Settings">Editor Settings</A>).
<BR><BR>The <A HREF="#EGREP">EGREP</A> command searches for regular expressions, and is slower than the <A HREF="#FGREP">FGREP</A>
command.&nbsp; The syntax of this command is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; egrep &lt;regexp&gt; &lt;files&gt;.</TT>
<BR><BR>The file list<B> &lt;files&gt;</B> is searched for the regular expression<B> &lt;regexp&gt;</B>.
<BR><BR>If you wish to have spaces in your regular expression, then you can enclose the string in either double quotes ('&quot;')
or forward slashes ('/').
<BR><BR>For example, entering the following command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :fgrep window *.c</TT>
<BR><BR>searches all files in the current directory ending in the extension .c for the string<B> window</B>.&nbsp; While searching
for the item, Open Watcom Vi Editor displays a window that shows all files being searched.
<BR><BR>When all matches are found, a selection window is presented with all the files that contained the search string.
<BR><BR>The selection window appears as follows:
<BR><BR><TT><IMG SRC="vi023.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 25.</I></B><B><I></I></B><B> FGrep result display</B>
<H2 ID="Mapping_Keys"> Mapping Keys </H2>
<BR>A powerful feature in Open Watcom Vi Editor is the ability to change the meaning of any key in command mode or text insertion
mode.&nbsp; Using this feature, you can configure the editor any way which suits your needs.
<BR><BR>The command line commands <A HREF="#MAP">MAP</A> and <A HREF="#MAPBASE">MAPBASE</A> are used to remap the definition
of a key.&nbsp; The syntax of these commands is as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; map &quot;!&quot; &lt;key&gt; &lt;string&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; mapbase &lt;key&gt; &lt;string&gt;</TT>
<BR><BR>Both commands remap the specified key<B> &lt;key&gt;</B> to execute the characters in<B> &lt;string&gt;</B>.&nbsp;
Whenever the specified key is pressed while in command mode, it is equivalent to typing the characters in<B> &lt;string&gt;</B>.
<BR><BR>In the <A HREF="#MAP">MAP</A> command, specifying the exclamation point ('!') causes the map to be for text insertion
mode, rather than command mode.
<BR><BR>It is possible for<B> &lt;string&gt;</B> to contain keys that are mapped themselves.&nbsp; If you want to do a key
mapping that is in terms of the base definitions of the keys, then you should use the <A HREF="#MAPBASE">MAPBASE</A> command.
<BR><BR>To remove the mapping of a key, the command line command <A HREF="#UNMAP">UNMAP</A> is used.&nbsp; The syntax of this
command is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; unmap &lt;key&gt;</TT>
<BR><BR>If you need to specify a special key (e.g.&nbsp; ENTER, F1, etc) for<B> &lt;key&gt;</B> you specify a symbolic name
for it.&nbsp; There are a number of pre-defined key symbols that are recognized when specifying which key is being mapped
or unmapped.&nbsp; These are described in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
<BR><BR>If you need to use one or more special keys (e.g.&nbsp; ENTER, F1, etc) in<B> &lt;string&gt;</B> then you may enter:
<DL>
<DT>\&lt;&quot;key&quot;&gt;
<DD>Any special key may be inserted for<B> &quot;key&quot;</B>.&nbsp; The angle brackets are required.&nbsp; There are a number
of pre-defined keys symbols that are recognized.&nbsp; These are described in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
<DT>\e
<DD>Short form for the escape key (rather than \&lt;ESC&gt;).
<DT>\n
<DD>Short form for the enter key (rather than \&lt;ENTER&gt;).
<DT>\h
<DD>If a command line command is used in the sequence, and it follows the colon (':'), the command is not added to the history.
&nbsp;For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :\hdate\n</TT>
<BR><BR>will display the current date and time, but the command will not enter the command history.
<DT>\x
<DD>If a command line command is used in the sequence, then this stops the command window from opening.&nbsp; This prevents the
&quot;flashing&quot; of the command window as it is opened then closed.&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; \x:date\n</TT>
<BR><BR>will display the current date and time, but the command window will not be displayed.
</DL>
<BR><B>Exercises</B>
<OL>
<LI>Edit the file &quot;atest&quot; created in the Exercises section of <A HREF="#Moving_Around_in_a_File">Moving Around in a File</A>
in the previous chapter <A HREF="#Intermediate_Usage">Intermediate Usage</A>.&nbsp; Enter the following command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :map F5 dd</TT>
<BR><BR>Now, whenever you press<B> F5</B>, a line will be deleted.&nbsp; Try pressing<B> F5</B> a few times to verify this.
<LI>Enter the command line command
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :unmap F5</TT>
<BR><BR>and try pressing F5 again.&nbsp; It will no longer delete lines.
<LI>Enter the command line command
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :map F6 :date\n</TT>
<BR><BR>Press<B> F6</B>.&nbsp; The time and date will be displayed in the message window.&nbsp; You will notice that the command
window flashes as you push<B> F6</B>.
<LI>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :map F6 \x:date\n</TT>
<BR><BR>Press<B> F6</B>.&nbsp; The time and date will be displayed in the message window.&nbsp; You will notice that the command
window no longer flashes.
<LI>Bring up the command window ( press ':') and press cursor up.&nbsp; You will notice that the date commands are in your
history.&nbsp; Now, enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :map F6 \x:\hdate\n</TT>
<BR><BR>Press<B> F6</B> a few times.&nbsp; Bring up the command window again and cursor up.&nbsp; You will see that the date
commands did not get added to the history.
<LI>Enter the command line command:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :map! F6 \edwi</TT>
<BR><BR>Whenever you press<B> F6</B> in text insertion mode, you will exit insert mode (the \e is like pressing the<B> ESC</B>
key), delete the current word, and then re-enter insert mode.&nbsp; Try entering text insertion mode and pressing<B> F6</B>.
<LI>Exit text insertion mode and press<B> F6</B>.&nbsp; You will notice that the date is still displayed, since the text insertion
mode and command mode mappings for<B> F6</B> are different.
<LI>Make sure you are in command mode and enter the command line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :q!</TT>
<BR><BR>to exit without saving your changes.
</OL>
<H1 ID="The_Open_Watcom_Vi_Editor_Environment"> The Open Watcom Vi Editor Environment </H1>
<BR>Along with the Open Watcom Vi Editor executable, there are a number of files that are needed:
<DL>
<DT>ed.cfg
<DD>The<B> configuration script</B> (contains editor setup)
<DT>keys.dat
<DD>Symbolic key names used by the command line commands <A HREF="#MAP">MAP</A>, <A HREF="#MAPBASE">MAPBASE</A>, <A HREF="#UNMAP">UNMAP</A>,
<A HREF="#EXECUTE">EXECUTE</A> and <A HREF="#KEYADD">KEYADD</A>.
<DT>errmsg.dat
<DD>The text strings for Vi's various error messages.
<DT>error.dat
<DD>Symbolic names for errors that can occur.&nbsp; These are used for testing return codes in editor scripts.
</DL>
<BR>The editor searches for its special files as follows:
<OL>
<LI>The editor executable itself (if the files are bound).
<LI>The current directory.
<LI>Directories in the EDPATH environment variable.
<LI>Directories in the PATH environment variable.
</OL>
<BR>The environment variable<B> EDPATH</B> is used so that the support files for Vi do not have to be in your PATH.&nbsp;
Only Vi itself has to be in your PATH.
<H2 ID="Using_Edbind"> Using Edbind </H2>
<BR>Edbind is a utility designed to place any specified files onto the end of the editor executable.&nbsp; The file<TT> edbind.dat</TT>
contains the list of all files to bind.&nbsp; This would normally include<TT> ed.cfg</TT> and all the .dat files.&nbsp; This
eliminates the need to have these files in your path, and allows Vi to locate the files faster.
<BR><BR>Note that your configuration file must be the FIRST FILE in the<TT> edbind.dat</TT> file.&nbsp; The first file is
designated to be the file containing the<B> configuration script</B>, the name is irrelevant.
<BR><BR>The contents of<TT> edbind.dat</TT> might be as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; ed._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; rdme._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; wrme._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; rcs._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; qall._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; proc._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; err._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; chkout._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; forceout._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; unlock._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; mcsel._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; mlsel._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; lnum._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; keys.dat</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; errmsg.dat</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; error.dat</TT>
<BR><BR>In this example,<TT> edbind.dat</TT> contains the special files<TT> ed.cfg</TT>, all the .dat files, and a number
of compiled editor scripts (the files with the ._vi extension).
<BR><BR>Usage is as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; edbind &lt;editor exe name&gt; (-s)</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options -s: strip info from executable</TT>
<BR><BR>The files in<TT> edbind.dat</TT> files are searched for in the following order:
<OL>
<LI>The current directory.
<LI>The directories in the environment variable<B> EDPATH</B> .
<LI>The directories in the environment variable PATH
</OL>
<H2 ID="Invoking_the_Open_Watcom_Vi_Editor"> Invoking the Open Watcom Vi Editor </H2>
<BR>Vi is invoked from the command prompt with the following possible set of parameters:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; vi [-?-dinqrvz] +&lt;n&gt; -k &quot;keys&quot; [-s &lt;scr&gt; [-p &quot;parm&quot;]] [-t
&lt;tag&gt;]</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-c &lt;cfg&gt;] files</TT>
<BR><BR>The files specified may contain regular expressions.
<BR><BR>The parameters cause the following:
<DL>
<DT>-?
<DD>Displays the possible options, and what they do.
<DT>--
<DD>Starts Vi in<B> stdio mode</B>.&nbsp; In this mode, Vi reads from standard in to get the file to edit.&nbsp; When the file
is written, the lines are written to standard out.&nbsp; This is useful for including Vi in a pipe.
<DT>-d
<DD>Use default configuration.&nbsp; Vi will not invoke<TT> ed.cfg</TT> when it starts up.
<DT>-i
<DD>Ignore lost files.&nbsp; Vi will not let you start if there are files to be recovered.&nbsp; This option will cause Vi to
get rid of its checkpoint file, so that it will no longer complain about files that have not been recovered.
<DT>-n
<DD>This option will cause Vi to read a file as it needs the data, instead of reading the file all at once.&nbsp; It is useful
if you wish to look at the first lines of a huge file.&nbsp; This option overrides any setting of <A HREF="#readentirefile">readentirefile</A>
in your configuration.
<DT>-q
<DD>Causes Vi to run in quiet mode (no screen usage).&nbsp; This is useful for using Vi as a batch script processor.
<DT>-r
<DD>Recover lost files, if there are any.&nbsp; If this option is specified, files specified on the command line are ignored.
<DT>-v
<DD>Causes file edited to be a &quot;view only&quot; file.
<DT>-z
<DD>Causes Vi not to terminate a file read when finding a ctrl-z in a file.&nbsp; This option is the same as the <A HREF="#ignorectrlz">ignorectrlz</A>
setting.
<DT>+&lt;n&gt;
<DD>Cause Vi set the edit buffer to line &lt;n&gt; in the file edited.
<DT>-k &quot;keys&quot;
<DD>Execute the string<B> keys</B> as if they were typed from the keyboard.&nbsp; These keystrokes are processed once Vi is initialized
and all files have been read in.
<DT>-s &lt;scr&gt;
<DD>Runs the startup script<B> &lt;scr&gt;</B> once Vi is initialized and all files have been read in.&nbsp; Up to 10 startup
scripts may be specified.
<DT>-p &quot;parms&quot;
<DD>Specify the parameters<B> parms</B> for each startup script.&nbsp; Multiple parms may be specified as long as they are in
double quotes.&nbsp; The parameters are associated with the most recently specified startup script.
<DT>-t &lt;tag&gt;
<DD>Edits the file containing the tag<B> &lt;tag&gt;</B>.
<DT>-c &lt;cfg&gt;
<DD>Runs the configuration script<B> &lt;cfg&gt;</B>, instead of the default<TT> ed.cfg</TT>.
</DL>
<H2 ID="Lost_File_Recovery"> Lost File Recovery </H2>
<BR>Vi has an autosave feature that periodically makes a backup copy of the current edit buffer.&nbsp; This backup is kept
in the directory specified by the <A HREF="#tmpdir">tmpdir</A> setting.
<BR><BR>The <A HREF="#autosaveinterval">autosaveinterval</A> setting is used to specify the number of seconds between backups
of the current edit buffer.&nbsp; If <A HREF="#autosaveinterval">autosaveinterval</A> is set to 0, then the autosave feature
is disabled.
<BR><BR>Vi keeps a lock file called<B> alock_?.fil</B> in its <A HREF="#tmpdir">tmpdir</A>.&nbsp; The question mark ('?')
will be a letter.&nbsp; There may be more than one lock file, if more than one copy of Vi is running on the current machine.
<BR><BR>Vi keeps a checkpoint file called<B> asave_?.fil</B>.&nbsp; The question mark ('?') will be a letter.&nbsp; Once a
file is autosaved, its name is added to this checkpoint file.&nbsp; When the file is discarded, its name is removed from this
checkpoint file.&nbsp; So, if for any reason, you lose your editing session, this checkpoint file will contain information
about what files were being edited at the time.&nbsp; Assuming <A HREF="#tmpdir">tmpdir</A> has been set to D:\TMP, then a
example of what<B> asave_?.fil</B> could contain is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; d:\tmp\aaaaa23j.tmp e:\c\test.c</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; d:\tmp\baaaa23j.tmp e:\h\test.h</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; d:\tmp\caaaa23j.tmp c:\autoexec.bat</TT>
<BR><BR>The file e:\c\test.c was being edited, and its backup is stored in d:\tmp\aaaaa23j.tmp.
<BR><BR>The file e:\h\test.c was being edited, and its backup is stored in d:\tmp\baaaa23j.tmp.
<BR><BR>The file c:\autoexec.bat was being edited, and its backup is stored in d:\tmp\caaaa23j.tmp.
<BR><BR>You do not need use this information in order to recover lost files, however, this is useful to know if you wish to
look at the files before recovering them.
<BR><BR>If a checkpoint file exists when Vi is started, then the following message will appear:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Files have been lost since your last session, use -r to recover or</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; -i to ignore</TT>
<BR><BR>Vi cannot be invoked until either -i or -r is specified.
<BR><BR>If -i is specified, then the checkpoint files are erased and Vi starts up normally.&nbsp; The .tmp files that contain
the lost files still remain in the backup directory, however.
<BR><BR>If -r is specified, then Vi recovers the lost files.&nbsp; Note that the recovered files must be saved in order to
overwrite the original copy.
<H1 ID="Modes"> Modes </H1>
<BR>The Open Watcom Vi Editor is a modal editor.&nbsp; When you are in command mode (the default mode), there are a number
of valid keys that may be pressed.&nbsp; To ensure that you are in command mode, press the<B> ESC</B> key until the mode indicator
on the menu bar displays:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: command</TT>
<BR><BR>When in text insertion mode, text may be entered.&nbsp; There are two aspects to text insertion mode:<B>&nbsp; insert</B>
and<B> overstrike</B>.<B>&nbsp; Text insertion mode</B> is entered via a number of different commands from command mode, and
is indicated by a larger cursor, along with a mode line indication.&nbsp; The types of cursor are controlled with the <A HREF="#commandcursortype">commandcursortype</A>,
<A HREF="#insertcursortype">insertcursortype</A>, and <A HREF="#overstrikecursortype">overstrikecursortype</A> settings.
<BR><BR>When Vi is in a text insertion mode, the mode indicator on the menu bar displays one of:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: insert</TT>
<BR><BR>or
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: overstrike</TT>
<H2 ID="Text_Insertion_Mode"> Text Insertion Mode </H2>
<BR>When in text insertion mode (either inserting or overstriking), you may enter text and freely cursor about through the
file.&nbsp; When you are finished adding text, the<B> ESC</B> key returns you to command mode.
<BR><BR>It should be remembered that an undo applies to changes caused by commands; so all changes made while in text insertion
mode are part of a single undo record.&nbsp; For more information on undos, see the section <A HREF="#Undoing_Changes">Undoing Changes</A>
later on in this chapter.
<BR><BR>The following keys, when pressed in command mode, place you into text insertion mode:
<DL>
<DT>a
<DD>Starts appending (inserting) text after the current character in the edit buffer.
<DT>A
<DD>Starts appending (inserting) text after the last character on the current line in the edit buffer.
<DT>C
<DD>Changes text from the current position to the end of the current line.&nbsp; Deletes the text, and enters text insertion mode.
<DT>&lt;n&gt;c&lt;oper&gt;
<DD>Change command.&nbsp; Deletes the text in the range specified by<B> &lt;oper&gt;</B>, and enters text insertion mode.
<DT>g
<DD>Starts inserting or overstriking text at the current cursor position, depending on how you were adding text the last time
you were in text insertion mode.
<DT>i
<DD>Starts inserting text at the current cursor position.
<DT>I
<DD>Starts inserting text before the first non-white space character on the current line.
<DT>o
<DD>Opens a line after the current line, and enters text insertion mode.
<DT>O
<DD>Opens a line before the current line, and enters text insertion mode.
<DT>R
<DD>Starts overstriking text at the current character in the edit buffer.
<DT>&lt;n&gt;s
<DD>Substitute<B> &lt;n&gt;</B> characters.&nbsp; The first<B> &lt;n&gt;</B> characters from the current cursor position are deleted,
and text insertion mode is entered.
<DT>&lt;n&gt;S
<DD>Substitute lines of text.<B>&nbsp; &lt;n&gt;</B> lines from the current line forward are deleted, and text insertion mode
is entered.
<DT>INS
<DD>Start inserting text at the current cursor position.
</DL>
<H3 ID="Special_Keys"> Special Keys </H3>
<BR>While in text insertion mode, certain keys do special things.&nbsp; These keys are:
<DL>
<DT>Arrow Keys
<DD>
<DL>
<DT>Up
<DD>Cursor up through the text.
<DT>DOWN
<DD>Cursor down through the text.
<DT>LEFT
<DD>Cursor left through the text.
<DT>RIGHT
<DD>Cursor right through the text.
</DL>
<DT>Text Selection Keys
<DD>
<DL>
<DT>SHIFT_UP (shifted cursor up key)
<DD>Starts or continues selection and moves up to the previous line.&nbsp; The new line is selected.
<DT>SHIFT_DOWN (shifted cursor down key)
<DD>Starts or continues selection and moves down to the next line.&nbsp; The new line is selected.
<DT>SHIFT_LEFT (shifted cursor left key)
<DD>Starts or continues selection and moves left to the next character.&nbsp; The new character is selected.
<DT>SHIFT_RIGHT (shifted cursor right key)
<DD>Starts or continues selection and moves right to the previous character.&nbsp; The new character is selected.
<DT>CTRL_R
<DD>Starts text selection, if no text is selected.&nbsp; The current character is highlighted.&nbsp; If a region is already selected,
then this cancels the selected region.
<DT>ESC
<DD>Cancels the current selection.
</DL>
<DT>CTRL_PAGEUP
<DD>Moves to the first non-white space character on the first line of the current edit buffer.
<DT>CTRL_PAGEDOWN
<DD>Moves to the last character on the last line of the current edit buffer.
<DT>SHIFT_DEL
<DD>Deletes the currently selected region into the active copy buffer.
<DT>SHIFT_INS
<DD>Pastes the active copy buffer into the text after the current position.
<DT>SHIFT_TAB
<DD>Move back to the previous tab stop, deleting the characters before the cursor.
<DT>CTRL_DEL (ctrl-delete)
<DD>Delete the current line into the active copy buffer.
<DT>CTRL_INS (ctrl-insert)
<DD>Pastes the active copy buffer into the text before the current position.
<DT>CTRL_D
<DD>Move backwards <A HREF="#shiftwidth">shiftwidth</A> spaces, deleting the characters before the cursor.&nbsp; A <A HREF="#shiftwidth">shiftwidth</A>
is a number that you may set, its default value is 4.
<DT>CTRL_T
<DD>Insert <A HREF="#shiftwidth">shiftwidth</A> spaces.&nbsp; If <A HREF="#realtabs">realtabs</A> is set, then once <A HREF="#tabamount">tabamount</A>
spaces are inserted, the spaces are replaced with a tab character.
<DT>CTRL_V
<DD>The next key typed is inserted directly, without any interpretation.
<DT>CTRL_Q
<DD>The next key typed is inserted directly, without any interpretation.
<DT>BS
<DD>Backspace one on the current line, deleting the character before the cursor.
<DT>DEL
<DD>Delete the character under the cursor.&nbsp; If you are at the end of the line,<B> DEL</B> has the same effect as pressing<B>
BS</B>.
<DT>ENTER
<DD>Start a new line.
<DT>END
<DD>Move to the end of the current line.
<DT>HOME
<DD>Move to the start of the current line.
<DT>INS
<DD>Toggles between insert and overstrike mode.
<DT>PAGEUP
<DD>Move up one page in the text.
<DT>PAGEDOWN
<DD>Move up down one page in the text.
<DT>TAB
<DD>Move forward to the next tab stop.&nbsp; If <A HREF="#realtabs">realtabs</A> is set, a tab character is inserted into the
file.&nbsp; Otherwise, spaces are inserted.
</DL>
<H2 ID="Command_Mode"> Command Mode </H2>
<BR>The following command mode command descriptions show items within angle brackets (&lt;&gt;).&nbsp; The angle brackets
are there to indicate items that you may supply.&nbsp; You are not required to type the brackets.&nbsp; For example, &lt;n&gt;
simply means that in the corresponding place in the command you can enter a number.
<BR><BR>Many commands may be preceded with a repeat count, which is indicated by a<B> &lt;n&gt;</B> before a command.&nbsp;
The number is not required; if it is not supplied, it is usually assumed that a 1 was entered for the repeat count.&nbsp;
As long as the setting <A HREF="#repeatinfo">repeatinfo</A> is enabled, the number that is typed appears in a special window
called the <A HREF="#COUNTWINDOW">COUNTWINDOW</A>.
<BR><BR>Other commands may be preceded with a copy buffer name, which is indicated with a<B> &lt;&quot;?&gt;</B>.&nbsp; If
you do not want the result of the operation to be copied into the active buffer, then an alternate buffer may be specified.
&nbsp;The double quotes (&quot;) are required (this indicates that an alternate buffer is being specified), and then a buffer
'1'-'9' or 'a'-'z' is specified.&nbsp; See the section <A HREF="#Copy_Buffers">Copy Buffers</A> for more information.
<H3 ID="Movement"> Movement </H3>
<BR>The following are command mode commands that cause movement in the current edit buffer.
<DL>
<DT>&lt;n&gt;| (or bar) 
<DD>Move to the column number specified by<B> &lt;n&gt;</B>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>|</TT>
<BR><BR>Move to column 1 of the current line.
<BR><BR><TT>15|</TT>
<BR><BR>Move to column 15 of the current line.
</DL>
<DT>`&lt;?&gt; (back quote) 
<DD>Moves to the mark position (line and column) specified by<B> &lt;?&gt;</B> See the section <A HREF="#Marks">Marks</A> for
more information.
<BR><BR>Also see the<B> command line</B> command <A HREF="#MARK">MARK</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>`a</TT>
<BR><BR>Move to the line and column with mark<B> a</B>.
</DL>
<DT>'&lt;?&gt; (front quote) 
<DD>Move to the start of line with the mark<B> &lt;?&gt;</B>.&nbsp; See the section <A HREF="#Marks">Marks</A> for more information.
<BR><BR>Also see the<B> command line</B> command <A HREF="#MARK">MARK</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>'z</TT>
<BR><BR>Move to the start of the line with mark<B> z</B>.
</DL>
<DT>% (percent) 
<DD>Moves to matching brace or other defined match string.&nbsp; Defaults are &quot;{&quot;,&quot;}&quot; and &quot;(&quot;,&quot;)&quot;.
&nbsp;For example, by pressing<B> %</B> while on the first opening brace ('(') on the line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; if( ( i=foo( x ) ) ) return;</TT>
<BR><BR>moves the cursor to the last closing brace (')') on the line.&nbsp; It is possible to set arbitrary pairs of match
strings using the command line command <A HREF="#MATCH">MATCH</A>.
<DT>$ (dollar) 
<DD>Moves the cursor to the last character on the current line.
<DT>^ (caret) 
<DD>Moves the cursor to the first non-whitespace character on the current line.
<DT>; (semi-colon) 
<DD>Repeats the last<B> f</B>,<B> F</B>,<B> t</B> or<B> T</B> movement commands.
<DT>, (comma) 
<DD>Repeats the last<B> f</B>,<B> F</B>,<B> t</B> or<B> T</B> movement commands, but the search is done in the opposite direction.
<BR><BR>If the last movement command was an<B> F</B> then an<B> f</B> movement command is executed.&nbsp; If the last movement
command was a<B> t</B> then a<B> T</B> movement command is executed.
<BR><BR>Similarly, if the last movement command was an<B> f</B> then an<B> F</B> movement command is executed.&nbsp; If the
last movement command was a<B> t</B> then a<B> T</B> movement command is executed.
<DT>&lt;n&gt;- (dash) 
<DD>Moves the cursor to the start of the previous line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved
up<B> &lt;n&gt;</B> lines.
<DT>&lt;n&gt;+ (plus) 
<DD>Moves the cursor to the start of the next line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved
down<B> &lt;n&gt;</B> lines.
<DT>0 
<DD>Moves the cursor the first character of the current line.
<DT>CTRL_PAGEUP 
<DD>Moves to the first non-white space character on the first line of the current edit buffer.
<DT>CTRL_PAGEDOWN 
<DD>Moves to the last character on the last line of the current edit buffer.
<DT>&lt;n&gt;DOWN 
<DD>Move the cursor down one line.<B>&nbsp; &lt;n&gt;</B> is specified, the cursor moves down<B> &lt;n&gt;</B> lines.
<DT>END 
<DD>Moves the cursor to the last character on the current line.
<DT>&lt;n&gt;ENTER 
<DD>Moves the cursor to the start of the next line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then the cursor is
moved down<B> &lt;n&gt;</B> lines.
<DT>HOME 
<DD>Moves the cursor the first character of the current line.
<DT>&lt;n&gt;LEFT 
<DD>Move the cursor left one character.&nbsp; If<B> &lt;n&gt;</B> is specified, the cursor moves left<B> &lt;n&gt;</B> characters.
<DT>&lt;n&gt;PAGEDOWN 
<DD>Moves forwards one page.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved ahead<B> &lt;n&gt;</B>
pages.&nbsp; The number of lines of context maintained is controlled by the <A HREF="#pagelinesexposed">pagelinesexposed</A>
setting.
<DT>&lt;n&gt;PAGEUP 
<DD>Moves backwards one page.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved back<B> &lt;n&gt;</B>
pages.&nbsp; The number of lines of context maintained is controlled by the <A HREF="#pagelinesexposed">pagelinesexposed</A>
setting.
<DT>&lt;n&gt;RIGHT 
<DD>Move the cursor right one character.&nbsp; If<B> &lt;n&gt;</B> is specified, the cursor moves right<B> &lt;n&gt;</B> characters.
<DT>&lt;n&gt;SHIFT_TAB 
<DD>Moves the cursor left by <A HREF="#tabamount">tabamount</A> characters.&nbsp; A repeat count<B> &lt;n&gt;</B> multiplies this.
<DT>&lt;n&gt;TAB 
<DD>Moves the cursor right by <A HREF="#tabamount">tabamount</A> characters.&nbsp; A repeat count<B> &lt;n&gt;</B> multiplies
this.
<DT>&lt;n&gt;UP 
<DD>Move the cursor up one line.<B>&nbsp; &lt;n&gt;</B> is specified, the cursor moves up<B> &lt;n&gt;</B> lines.
<DT>&lt;n&gt;CTRL_B 
<DD>Moves backwards one page.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved back<B> &lt;n&gt;</B>
pages.&nbsp; The number of lines of context maintained is controlled by the <A HREF="#pagelinesexposed">pagelinesexposed</A>
setting.
<DT>&lt;n&gt;CTRL_D 
<DD>Move down a certain number of lines.&nbsp; The default is to move down half a page.&nbsp; If the repeat count<B> &lt;n&gt;</B>
is specified, then that becomes the number of lines moved from then on.&nbsp; Also see the<B> CTRL_U</B> key.
<DT>&lt;n&gt;CTRL_E 
<DD>Expose the line below the last line in the current edit window, leaving the cursor on the same line if possible.&nbsp; If
a repeat count<B> &lt;n&gt;</B> is specified, then that many lines are exposed.
<DT>&lt;n&gt;CTRL_F 
<DD>Moves forwards one page.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved ahead<B> &lt;n&gt;</B>
pages.&nbsp; The number of lines of context maintained is controlled by the <A HREF="#pagelinesexposed">pagelinesexposed</A>
setting.
<DT>&lt;n&gt;CTRL_N 
<DD>Move the cursor to the next line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved down<B> &lt;n&gt;</B>
lines.
<DT>&lt;n&gt;CTRL_P 
<DD>Move the cursor to the previous line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then you are moved up<B> &lt;n&gt;</B>
lines.
<DT>&lt;n&gt;CTRL_U 
<DD>Move up a certain number of lines.&nbsp; The default is to move up half a page.&nbsp; If the repeat count<B> &lt;n&gt;</B>
is specified, then that becomes the number of lines moved from then on.&nbsp; Also see the<B> CTRL_D</B> key.
<DT>&lt;n&gt;CTRL_Y 
<DD>Expose the line above the first line in the current edit window, leaving the cursor on the same line if possible.&nbsp; If
a repeat count<B> &lt;n&gt;</B> is specified, then that many lines are exposed.
<DT>&lt;n&gt;B 
<DD>Moves the cursor backwards to the start of previous space delimited word on the current line.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>B</TT>
<BR><BR>If the cursor was on the right parenthesis (')') of
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the<B> f</B> in<B> foo</B>.
<BR><BR><TT>2B</TT>
<BR><BR>If the cursor was on the right parenthesis (')') of
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the<B> =</B> sign.
</DL>
<DT>&lt;n&gt;b 
<DD>Moves the cursor backwards to the start of the previous word on the current line.&nbsp; A word is defined using the <A HREF="#word">word</A>
setting.&nbsp; The default is that any characters in the set (<B> _</B>,<B> a-z</B>,<B> A-Z</B>,<B> 0-9</B> ) are considered
part of a word, and all other characters (except for whitespace) are delimiters.&nbsp; Groups of delimiters are considered
to be a word as well.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>b</TT>
<BR><BR>If the cursor was on the right parenthesis (')') of
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the letter<B> a</B> in<B> abc</B>.
<BR><BR><TT>2b</TT>
<BR><BR>If the cursor was on the right parenthesis (')') of
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to left parenthesis<B> (</B>.
</DL>
<DT>&lt;n&gt;E 
<DD>Moves the cursor to the end of the next space delimited word on the current line.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>E</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the right parenthesis<B> )</B>.
<BR><BR><TT>2E</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the<B> +</B> sign.
</DL>
<DT>&lt;n&gt;e 
<DD>Moves the cursor to the end of the next word on the current line.&nbsp; A word is defined using the <A HREF="#word">word</A>
setting.&nbsp; The default is that any characters in the set (<B> _</B>,<B> a-z</B>,<B> A-Z</B>,<B> 0-9</B> ) are considered
part of a word, and all other characters (except for whitespace) are delimiters.&nbsp; Groups of delimiters are considered
to be a word as well.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>e</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the second letter<B> o</B> in<B> foo</B>.
<BR><BR><TT>2e</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the left parenthesis<B> (</B>.
</DL>
<DT>&lt;n&gt;F&lt;?&gt; 
<DD>Moves the cursor backwards from its current position to the character<B> &lt;?&gt;</B> on the current line.&nbsp; If a repeat
count<B> &lt;n&gt;</B> is specified, then the nth occurrence of the character<B> &lt;?&gt;</B> is moved to.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>F+</TT>
<BR><BR>If the cursor is on the semi-colon (';') in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the<B> +</B> sign.
<BR><BR><TT>2Fo</TT>
<BR><BR>If the cursor is on the semi-colon (';') in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the first<B> o</B> in<B> foo</B>.
</DL>
<DT>&lt;n&gt;f&lt;?&gt; 
<DD>Moves the cursor forwards from its current position to the character<B> &lt;?&gt;</B> on the current line.&nbsp; If a repeat
count<B> &lt;n&gt;</B> is specified, then the<B> nth</B> occurrence of the character<B> &lt;?&gt;</B> is moved to.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>f+</TT>
<BR><BR>If the cursor is on the character<B> x</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the<B> +</B> sign.
<BR><BR><TT>2fo</TT>
<BR><BR>If the cursor is on the character<B> x</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the second<B> o</B> in<B> foo</B>.
</DL>
<DT>&lt;n&gt;G 
<DD>Goes to the line specified by the repeat count<B> &lt;n&gt;</B>.&nbsp; If no repeat count is specified, you move the the last
line in the current edit buffer.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>100G</TT>
<BR><BR>Moves to line 100 in the current edit buffer.
<BR><BR><TT>G</TT>
<BR><BR>Moves to the last line in the current edit buffer.
</DL>
<DT>&lt;n&gt;h 
<DD>Move the cursor left one character.&nbsp; If<B> &lt;n&gt;</B> is specified, the cursor moves left<B> &lt;n&gt;</B> characters.
<DT>&lt;n&gt;H 
<DD>Moves to the line at the top of the current file window.&nbsp; If a repeat count is specified, then you are moved to that
line relative to the top of the current file window.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>2H</TT>
<BR><BR>Moves to the second line from the top of the current file window.
<BR><BR><TT>H</TT>
<BR><BR>Moves to the line at the top of the current file window.
</DL>
<DT>&lt;n&gt;j 
<DD>Move the cursor down one line.<B>&nbsp; &lt;n&gt;</B> is specified, the cursor moves down<B> &lt;n&gt;</B> lines.
<DT>&lt;n&gt;k 
<DD>Move the cursor up one line.<B>&nbsp; &lt;n&gt;</B> is specified, the cursor moves up<B> &lt;n&gt;</B> lines.
<DT>&lt;n&gt;L 
<DD>Moves to the line at the bottom of the current file window.&nbsp; If a repeat count is specified, then you are moved to that
line relative from the bottom of the current file window.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>2L</TT>
<BR><BR>Moves to the second line from the bottom of the current file window.
<BR><BR><TT>L</TT>
<BR><BR>Moves to the line at the bottom of the current file window.
</DL>
<DT>&lt;n&gt;l 
<DD>Move the cursor right one character.&nbsp; If<B> &lt;n&gt;</B> is specified, the cursor moves right<B> &lt;n&gt;</B> characters.
<DT>M 
<DD>Moves the cursor to the line in the middle of the current file window.
<DT>&lt;n&gt;T&lt;?&gt; 
<DD>Moves the cursor backwards from its current position to the character after the character<B> &lt;?&gt;</B> on the current
line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then the the character after the nth occurrence of the character<B>
&lt;?&gt;</B> is moved to.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>T+</TT>
<BR><BR>If the cursor is on the semi-colon (';') in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the space after the<B> +</B> sign.
<BR><BR><TT>2To</TT>
<BR><BR>If the cursor is on the semi-colon (';') in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the second<B> o</B> in<B> foo</B>.
</DL>
<DT>&lt;n&gt;t&lt;?&gt; 
<DD>Moves the cursor forwards from its current position to the character before the character<B> &lt;?&gt;</B> on the current
line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then the the character before the nth occurrence of the character<B>
&lt;?&gt;</B> is moved to.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>t+</TT>
<BR>If the cursor is on the character<B> x</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the space before<B> +</B> sign.
<BR><BR><TT>2to</TT>
<BR><BR>If the cursor is on the character<B> x</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>The the cursor is moved to the first<B> o</B> in<B> foo</B>.
</DL>
<DT>&lt;n&gt;W 
<DD>Moves the cursor forward to the start of the next space delimited word on the current line.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>W</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the<B> +</B> sign.
<BR><BR><TT>2W</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the number<B> 3</B>.
</DL>
<DT>&lt;n&gt;w 
<DD>Moves the cursor forward to the start of the next word on the current line.&nbsp; A word is defined using the <A HREF="#word">word</A>
setting.&nbsp; The default is that any characters in the set (<B> _</B>,<B> a-z</B>,<B> A-Z</B>,<B> 0-9</B> ) are considered
part of a word, and all other characters (except for whitespace) are delimiters.&nbsp; Groups of delimiters are considered
to be a word as well.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>w</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the left parenthesis<B> (</B>.
<BR><BR><TT>2w</TT>
<BR><BR>If the cursor was on the letter<B> f</B> in
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; x = foo(abc) + 3;</TT>
<BR><BR>then the cursor moves to the letter<B> a</B> in<B> abc</B>.
</DL>
</DL>
<H3 ID="Undoing_Changes"> Undoing Changes </H3>
<BR>Vi keeps an undo history of all changes made to an edit buffer.&nbsp; There is no limit on the number of undos, as long
as there is enough memory to save the undo information.&nbsp; If there is not enough memory to save undo information for the
current action, then the oldest undo information is removed until enough memory has been released.
<BR><BR>There is also an undo-undo (redo) history:&nbsp; as you issue undo commands, the information to redo the undo is kept.
&nbsp;However, once you modify the file other than by doing an undo, the redo history is lost.
<BR><BR>As you issue undo commands, a message indicating how many undos are remaining.&nbsp; The message could look like:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 16 items left on undo stack</TT>
<BR><BR>This lets you know how many undos it would take to restore the edit buffer to its original condition.&nbsp; Once there
are no more undos, you will see the message:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; undo stack is empty</TT>
<BR><BR>Once you undo all changes, then the file changes state from modified to unmodified.&nbsp; However, if some undo changes
have had to be discarded because of low memory, the file will still be in a modified state.
<BR><BR>The keystrokes for doing undo and redo are:
<DL>
<DT>u 
<DD>Undo last change.
<DT>U 
<DD>Redo last undo.
</DL>
<BR>Also see the<B> command line</B> command <A HREF="#UNDO_LcommandR">UNDO (command)</A>.
<H3 ID="Marks"> Marks </H3>
<BR>Text marks are used to memorize a position in the edit buffer that you may want to return to later.&nbsp; Each file may
have up to 26 marks in it (identified via the letters 'a' through 'z').&nbsp; Marks may also be set with the command line
command <A HREF="#MARK">MARK</A>.
<BR><BR>Mark commands are:
<DL>
<DT>m&lt;?&gt; 
<DD>Allows the setting of mark<B> &lt;?&gt;</B>.
<BR><BR>If<B> &lt;?&gt;</B> is an exclamation mark ('!') instead of a letter, it clears all marks on the current line.
<BR><BR>If<B> &lt;?&gt;</B> is a dot ('.') instead of a letter, it puts Vi in<B> memorize mode</B>.&nbsp; All characters typed
are memorized until another dot ('.') is pressed.&nbsp; The memorized keystrokes may be repeated by pressing a dot ('.').
&nbsp;See the dot ('.') command mode command later in this chapter.
<BR><BR>If<B> &lt;?&gt;</B> is an equals sign ('=') instead of a letter, it puts Vi in alternate<B> memorize mode</B>.&nbsp;
All characters typed are memorized until another equals sign ('=') is pressed.&nbsp; The memorized keystrokes may be repeated
by pressing an equals sign ('=').&nbsp; See the equals sign ('=') command mode command later in this chapter.
<BR><BR>Also see the<B> command line</B> command <A HREF="#MARK">MARK</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>ma</TT>
<BR><BR>Sets the mark a at the current cursor position
<BR><BR><TT>m.</TT>
<BR><BR>Enter memorize mode
<BR><BR><TT>m!</TT>
<BR><BR>Clear any marks set on the current line.
</DL>
<DT>'&lt;?&gt; (front quote) 
<DD>Move to the start of the line with the mark<B> &lt;?&gt;</B>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>'a</TT>
<BR><BR>Moves to the first column of the line with mark<B> a</B>.
<BR><BR><TT>''</TT>
<BR><BR>Moves to the first column of line of the last position before the last non-linear movement command was issued.
</DL>
<DT>`&lt;?&gt; (back quote) 
<DD>Move to the position in the edit buffer with the mark<B> &lt;?&gt;</B>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>`a</TT>
<BR><BR>Moves to the column and line with mark<B> a</B>.
<BR><BR><TT>``</TT>
<BR><BR>Moves to the last position before the last non-linear movement command was issued.
</DL>
</DL>
<BR>Pressing<B> ``</B> and<B> ''</B> take you to the last position you were at before you used a non-linear movement command
(', `, ?, /, G, n, and N commands).&nbsp; So, if you are at line 5 column 10 and type<B> /foo</B>, pressing<B> ``</B> will
first move you back to line 5 column 10.&nbsp; Pressing<B> ``</B> again will move you to the occurrence of foo, since the
previous `` command was a non-linear movement command.
<H3 ID="Copy_Buffers"> Copy Buffers </H3>
<BR>A copy buffer is a buffer where copied or deleted data is kept.&nbsp; There are a number of these buffers available.&nbsp;
There are 9 default buffers that text is placed into when it is deleted/yanked (see the command line commands <A HREF="#DELETE">DELETE</A>
and <A HREF="#YANK">YANK</A>, along with the sections <A HREF="#Deleting_Text">Deleting Text</A> and <A HREF="#Copying_Text">Copying Text</A>
later in this chapter).&nbsp; These buffers are numbered 1 through 9, and any of these buffers may be the active copy buffer.
<BR><BR>The active copy buffer may be selected using function keys.&nbsp; CTRL_F1 through CTRL_F9 select buffers 1 through
9 respectively.&nbsp; When a buffer is selected, information about its contents is displayed in the message window.&nbsp;
This buffer becomes the active copy buffer.&nbsp; All yanked/deleted text is copied into this buffer.
<BR><BR>When text is yanked/deleted into the active copy buffer, the contents of the the buffers are cascaded forward from
the active buffer into the next one, with the last numbered copy buffer losing its contents.&nbsp; Any buffers that are before
the active copy buffer have their contents preserved.&nbsp; For example, if buffer 3 is the active buffer, then a deletion
will cascade buffer 3 to buffer 4, buffer 4 to buffer 5, and so on, with the contents of buffer 9 being lost.&nbsp; Buffers
1 and 2 remain untouched, and buffer 3 gets a copy of the deleted text.
<BR><BR>There are several command mode commands that add text to buffers; they are
<DL>
<DT>&lt;&quot;?&gt;&lt;n&gt;d&lt;oper&gt;
<DD>Deletes text in various ways.
<DT>&lt;n&gt;DEL
<DD>Deletes the character at the current cursor position.
<DT>D
<DD>Deletes text from the current cursor position to the end of the current line.
<DT>&lt;n&gt;x
<DD>Deletes the character at the current cursor position.
<DT>&lt;n&gt;X
<DD>Deletes the character before the current cursor position.
<DT>&lt;&quot;?&gt;&lt;n&gt;y&lt;oper&gt;
<DD>Yanks (copies) text in various ways.
<DT>&lt;n&gt;Y
<DD>Yanks (copies) the current line.
</DL>
<BR>There is more information on these command mode commands later in this chapter.
<BR>Text may be yanked/deleted into a specific copy buffer by typing &quot;[1-9] before the appropriate command.&nbsp; As
well, there are 26 named buffers that may be used, 'a'-'z'.&nbsp; When text is yanked or deleted into a named buffer, it remains
there for the life of the editing session (or until replaced).
<BR><BR>To retrieve the contents of a buffer, use:
<DL>
<DT>&lt;&quot;?&gt;SHIFT_INS 
<DD>Puts (pastes) the contents of the active copy buffer after the cursor position in the current edit buffer.
<BR><BR>Also see the<B> command line</B> command <A HREF="#PUT">PUT</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>&quot;aSHIFT_INS</TT>
<BR><BR>Copy the data in the named buffer<B> a</B> after the current position in the file.
<BR><BR><TT>SHIFT_INS</TT>
<BR><BR>Copy the data in the active buffer after the current position in the file.
</DL>
<DT>&lt;&quot;?&gt;p 
<DD>Puts (pastes) the contents of the active copy buffer after the cursor position in the current edit buffer.
<BR><BR>Also see the<B> command line</B> command <A HREF="#PUT">PUT</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>p</TT>
<BR><BR>Copies the data in the active buffer after the current position in the file.
<BR><BR><TT>&quot;5p</TT>
<BR><BR>Copies the data in the numbered buffer<B> 5</B> after the current position in the file.
</DL>
<DT>&lt;&quot;?&gt;P 
<DD>Puts (pastes) the contents of the active copy buffer before the cursor position in the current edit buffer.
<BR><BR>Also see the<B> command line</B> command <A HREF="#PUT">PUT</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>&quot;aP</TT>
<BR><BR>Copy the data in the named buffer<B> a</B> before the current position in the file.
<BR><BR><TT>P</TT>
<BR><BR>Copy the data in the active buffer before the current position in the file.
</DL>
</DL>
<BR>Without a<B> &quot;?</B>&nbsp; prefix, these commands retrieve the contents of the active buffer.
<BR><BR>The contents of a copy buffer may be executed, as if the contents were typed from the keyboard.&nbsp; See the<B> @</B>
command mode command later in this chapter.
<H3 ID="Searching"> Searching </H3>
<BR>The following command mode commands are used for searching for text:
<DL>
<DT>/ (forward slash) 
<DD>Enter a regular expression to search for from current position forwards.
<DT>?&nbsp; (question mark) 
<DD>Enter a regular expression to search for from current position backwards.
<DT>n 
<DD>Repeat last search command, in the direction of the last search.
<DT>N 
<DD>Repeat last search command, in the opposite direction of the last search.
</DL>
<BR>For more information on regular expressions, see <A HREF="#Regular_Expressions">Regular Expressions</A>.
<BR><BR>Once you press the<B> /</B> or the<B> ?</B>&nbsp; keys, a search string entry window will appear:
<BR><BR><TT><IMG SRC="vi022.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 26.</I></B><B><I></I></B><B> Search String Entry Window</B>
<BR><BR>This position and size of the search string entry window are controlled using the <A HREF="#COMMANDWINDOW">COMMANDWINDOW</A>
windowing command.&nbsp; Search strings may be up to 512 bytes in length; the search string window scrolls.
<BR><BR>The search string window has a history associated with it; the size of this search string history is controlled using
the <A HREF="#maxfindhistory">maxfindhistory</A> setting.&nbsp; As well, the search string history is preserved across sessions
of Vi if the <A HREF="#historyfile">historyfile</A> parameter is set.
<BR><BR>If the first letter of a search string is a CTRL_A (entered by typing a CTRL_V followed by a CTRL_A) then that search
string will not be added to the search string history.
<H4 ID="Special_Keys_In_The_Search_String_Window"> Special Keys In The Search String Window </H4>
<BR>Once in the search string window, a number of keys have special meaning:
<DL>
<DT>CTRL_V
<DD>Insert next keystroke directly; do not process as a special character.
<DT>CTRL_Q
<DD>Insert next keystroke directly; do not process as a special character.
<DT>CTRL_O
<DD>Insert the current input string after current line in the edit buffer.
<DT>ALT_O
<DD>Insert the current input string before current line in the edit buffer.
<DT>ALT_L
<DD>Adds the current line in the current edit buffer, from the current column to the end of the line, to the input string.
<DT>CTRL_E
<DD>Adds the current space delimited word in the current edit buffer to the input string.
<DT>CTRL_L
<DD>Adds the current line in the current edit buffer to the input string.
<DT>CTRL_R
<DD>Adds the currently selected column range in the current edit buffer to the input string.
<DT>CTRL_W
<DD>Adds the current word in the current edit buffer to the input string.
<DT>CTRL_INS
<DD>Restores last thing typed in the input window (one level undo).
<DT>UP
<DD>Scroll backwards through the history.
<DT>DOWN
<DD>Scroll forwards through the history.
<DT>ALT_TAB
<DD>Command completion.&nbsp; Looks backwards through the history for first item starting with what is already entered.&nbsp;
Subsequent presses of ALT_TAB get the 2nd last matching item, and so on.
<DT>RIGHT
<DD>Move cursor right through input string.
<DT>LEFT
<DD>Move cursor left through input string.
<DT>CTRL_END
<DD>Delete to end of the input string.
<DT>END
<DD>Move to end of the input string.
<DT>HOME
<DD>Move to start of the input string.
<DT>INSERT
<DD>Toggle between insertion and overstrike of text.
<DT>BS
<DD>Backspace in the input string, deleting the previous character.
<DT>DELETE
<DD>Delete current character.
<DT>ENTER
<DD>Do the search.
<DT>ESC
<DD>Cancel the search request.
<DT>TAB
<DD>Try to complete the file name based on the current string.
<BR><BR>The first match is completed, and a window with possible choices is displayed.&nbsp; Subsequent presses of TAB will
scroll forward through the list of possible matches, and pressing SHIFT_TAB will scroll backwards through the list of possible
matches.&nbsp; Cursor keys may also be used, and so may the mouse.
<BR><TT><IMG SRC="vi024.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 27.</I></B><B><I></I></B><B> File Name Completion Window</B>
</DL>
<H3 ID="Inserting_Text"> Inserting Text </H3>
<BR>The following commands cause Vi to go from command mode directly into text insertion mode:
<DL>
<DT>INS 
<DD>Starts inserting text before the current character in the edit buffer.
<DT>a 
<DD>Starts appending (inserting) text after the current character in the edit buffer.
<DT>A 
<DD>Starts appending (inserting) text after the last character on the current line in the edit buffer.
<DT>g 
<DD>Enters<B> text insertion mode</B> at the current cursor position.&nbsp; This sets you up in<B> overstrike</B> or<B> insert</B>
mode, depending on the mode you were in last time you were in<B> text insertion mode</B>.
<BR><BR>This key is useful to <A HREF="#KEYADD">KEYADD</A> in a<B> script</B>, to return to the exact same type of<B> text
insertion mode</B> the user was in before leaving<B> text insertion mode</B>.
<DT>i 
<DD>Starts inserting text before the current character in the edit buffer.
<DT>I 
<DD>Starts inserting text before the first non-white space character in the edit buffer.
<DT>o 
<DD>Opens a line after the current line, and enters text insertion mode.
<DT>O 
<DD>Opens a line before the current line, and enters text insertion mode.
</DL>
<BR>Once you are in text insertion mode, you can toggle back and forth between insert and overstrike using the<B> INS</B>
key.&nbsp; You exit text insertion mode by pressing the<B> ESC</B> key.&nbsp; See the previous section, <A HREF="#Text_Insertion_Mode">Text Insertion Mode</A>,
for more information on manipulating text in text insertion mode.
<H3 ID="Replacing_Text"> Replacing Text </H3>
<BR>The following commands are used to replace text:
<DL>
<DT>g 
<DD>Enters<B> text insertion mode</B> at the current cursor position.&nbsp; This sets you up in<B> overstrike</B> or<B> insert</B>
mode, depending on the mode you were in last time you were in<B> text insertion mode</B>.
<BR><BR>This key is useful to <A HREF="#KEYADD">KEYADD</A> in a<B> script</B>, to return to the exact same type of<B> text
insertion mode</B> the user was in before leaving<B> text insertion mode</B>.
<DT>R 
<DD>Starts overstriking text at the current character in the edit buffer.&nbsp; Once you are overstriking text, you can toggle
back and forth between overstrike and insert using the<B> INS</B> key.&nbsp; You exit text insertion mode by pressing the<B>
ESC</B> key.&nbsp; See the previous section, <A HREF="#Text_Insertion_Mode">Text Insertion Mode</A>, for more information
on manipulating text in text insertion mode.
<DT>&lt;n&gt;r&lt;?&gt; 
<DD>Replaces the current character with the next character typed,<B> &lt;?&gt;</B>.&nbsp; If a repeat count is specified, then
the next<B> &lt;n&gt;</B> characters are replaced with the character<B> &lt;?&gt;</B>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>ra</TT>
<BR><BR>Replaces the current character with the letter<B> a</B>.
<BR><BR><TT>10rZ</TT>
<BR><BR>Replaces the next 10 characters with the letter<B> Z</B>.
</DL>
</DL>
<H3 ID="Deleting_Text"> Deleting Text </H3>
<BR>The commands in this section are for deleting text in an edit buffer.&nbsp; All deleted text is copied into a copy buffer
for later use, see the section <A HREF="#Copy_Buffers">Copy Buffers</A>.
<DL>
<DT>&lt;&quot;?&gt;D 
<DD>Deletes the characters from the current position to the end of line.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>&quot;aD</TT>
<BR><BR>Deletes characters from current position to the end of line into the named buffer<B> a</B>.
</DL>
<DT>&lt;n&gt;&lt;&quot;?&gt;X 
<DD>Delete the character before the current cursor position.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>X</TT>
<BR><BR>Delete the previous character.
<BR><BR><TT>10X</TT>
<BR><BR>Delete the 10 previous characters.
<BR><BR><TT>&quot;z5X</TT>
<BR><BR>Delete the 5 previous characters into the named buffer<B> z</B>.
</DL>
<DT>&lt;n&gt;&lt;&quot;?&gt;x 
<DD>Delete the character at the current cursor position.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>x</TT>
<BR><BR>Delete the current character.
<BR><BR><TT>3x</TT>
<BR><BR>Delete the next 3 characters.
<BR><BR><TT>&quot;217x</TT>
<BR><BR>Delete the next 17 characters into the numbered buffer<B> 2</B>.
</DL>
<DT>&lt;n&gt;&lt;&quot;?&gt;DEL 
<DD>Delete the character at the current cursor position.&nbsp; This behaves the same as the command mode command<B> x</B>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>DEL</TT>
<BR><BR>Delete the current character.
<BR><BR><TT>12DEL</TT>
<BR><BR>Delete the next 12 characters.
<BR><BR><TT>&quot;a5DEL</TT>
<BR><BR>Delete the next 5 characters into the named buffer<B> a</B>.
</DL>
</DL>
<BR>The<B> &lt;oper&gt;</B> notation in the following command indicates some sort of operator that the command will act on.<B>
&nbsp;&lt;oper&gt;</B> may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;&lt;&quot;?&gt;d&lt;oper&gt; 
<DD>Delete text from the current position in the file to the position specified by<B> &lt;oper&gt;</B>.&nbsp; A copy of the text
is placed into the specified copy buffer<B> &lt;&quot;?&gt;</B>.&nbsp; If no buffer is specified, then the text is placed
into the active buffer.&nbsp; A repeat count<B> &lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units
of the<B> &lt;oper&gt;</B> command to be deleted.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> d</B>, which causes a single line to be deleted.
<BR><BR>Also see the<B> command line</B> command <A HREF="#DELETE">DELETE</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>dr</TT>
<BR><BR>Deletes the current selected (highlighted) region in the edit buffer.&nbsp; A copy is placed into the active copy
buffer.
<BR><BR><TT>&quot;zdd</TT>
<BR><BR>Deletes the current line.&nbsp; A copy is placed into the named copy buffer<B> z</B>.
<BR><BR><TT>95dd</TT>
<BR><BR>Deletes 95 lines, starting at the current.&nbsp; A copy of the lines is placed into the active buffer.
<BR><BR><TT>&quot;cdfa</TT>
<BR><BR>Deletes the characters from the current column up to and including the first<B> a</B> on the current line.&nbsp; A
copy of the text is placed in the named buffer<B> c</B>.
<BR><BR><TT>&quot;5d'a</TT>
<BR><BR>Deletes the lines from the current line to the line with mark<B> m</B> into the numbered buffer<B> 5</B>.
<BR><BR><TT>dG</TT>
<BR><BR>Deletes all lines from the current line to the end of the current edit buffer.
</DL>
</DL>
<H3 ID="Copying_Text"> Copying Text </H3>
<BR>This section describes commands that are for yanking (copying) text.&nbsp; This text is placed into a copy buffer, see
the section <A HREF="#Copy_Buffers">Copy Buffers</A> for more information.
<DL>
<DT>&lt;n&gt;Y 
<DD>Yank (copy) the current line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then<B> &lt;n&gt;</B> lines are copied.
<BR><BR>This command is the same as typing<B> yy</B>.
</DL>
<BR>The<B> &lt;oper&gt;</B> notation in the following command indicates some sort of operator that the command will act on.<B>
&nbsp;&lt;oper&gt;</B> may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;&lt;&quot;?&gt;y&lt;oper&gt; 
<DD>Yanks (copies) text from the current position in the file to the position specified by<B> &lt;oper&gt;</B>.&nbsp; Text is
placed into the specified copy buffer<B> &lt;&quot;?&gt;</B>.&nbsp; If no buffer is specified, then the text is placed into
the active buffer.&nbsp; A repeat count<B> &lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units of the<B>
&lt;oper&gt;</B> command to be copied.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> y</B>, which causes a single line to be yanked.
<BR><BR>Also see the<B> command line</B> command <A HREF="#DELETE">DELETE</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>yy</TT>
<BR><BR>Yanks (copies) the current line into the active copy buffer.
<BR><BR><TT>10yy</TT>
<BR><BR>Copies 10 lines, starting at the current, into the active buffer.
<BR><BR><TT>y$</TT>
<BR><BR>Copies the characters from the current column to the end of the current line into the active buffer.
<BR><BR><TT>&quot;ay'm</TT>
<BR><BR>Yanks the lines from the current line to the line with mark<B> m</B> into the named buffer<B> a</B>.
<BR><BR><TT>y/foo</TT>
<BR><BR>Copies:
<UL>
<LI>the part of the current line from the current position to the end of the line
<LI>all lines between the current line and the first line containing the string<B> foo</B>
<LI>the part of the line containing<B> foo</B> from the start of the line to the first letter in the string<B> foo</B>
</UL>
</DL>
</DL>
<H3 ID="Changing_Text"> Changing Text </H3>
<BR>The following commands are for changing text.&nbsp; If a range of lines is being changed, the lines are deleted and Vi
enters text insertion mode.
<BR><BR>If the change is taking place on the single line, the range of characters being changed is highlighted, and the last
character in the range is indicated with a dollar sign ('$').&nbsp; If the<B> ESC</B> key is pressed, and <A HREF="#changelikevi">changelikevi</A>
is not set, then the change command is cancelled.&nbsp; If <A HREF="#changelikevi">changelikevi</A> is set, then the highlighted
area is deleted.&nbsp; If anything other than the<B> ESC</B> key is pressed, the highlighted area is deleted and Vi enters
text insertion mode.
<DL>
<DT>C 
<DD>This command changes the characters on the current line from the current character to the end of the line.&nbsp; The character
range is highlighted, and once a character is typed, the highlighted text is deleted, and text insertion mode is entered.
<BR><BR>This command is the same as typing<B> c$</B>.
<DT>&lt;n&gt;S 
<DD>This command substitutes the current line with text.&nbsp; The text on the current line is deleted, and text insertion mode
is entered.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then<B> &lt;n&gt;</B> lines are deleted.
<BR><BR>This command is the same as typing<B> cc</B>.
<DT>&lt;n&gt;s 
<DD>This command substitutes the current character with text.&nbsp; If<B> &lt;n&gt;</B> is specified, then<B> &lt;n&gt;</B> characters
are substituted.
<BR><BR>This command is the same as typing<B> cl</B>,<B> cRIGHT</B>, or<B> cSPACE</B>.
</DL>
<BR>The<B> &lt;oper&gt;</B> notation in the following command indicates some sort of operator that the command will act on.<B>
&nbsp;&lt;oper&gt;</B> may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;c&lt;oper&gt; 
<DD>Change text from the current position in the file to the position specified by<B> &lt;oper&gt;</B>.&nbsp; A repeat count<B>
&lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units of the<B> &lt;oper&gt;</B> command to be changed.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> c</B>, which causes a single line to be changed.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>cr</TT>
<BR><BR>Changes the current selected (highlighted) region in the edit buffer.
<BR><BR><TT>cc</TT>
<BR><BR>Change the current line.&nbsp; The current line is deleted, and text insertion mode is entered.
<BR><BR><TT>95cc</TT>
<BR><BR>Changes 95 lines, starting at the current.&nbsp; The lines are deleted, and text insertion mode is entered.
<BR><BR><TT>cw</TT>
<BR><BR>Change the current word.&nbsp; The current word is highlighted, and once a character other than<B> ESC</B> is typed,
the word is deleted and text insertion mode is entered.
<BR><BR><TT>c$</TT>
<BR><BR>Changes from the current column to the end of the current line.&nbsp; The column range is highlighted, and once a
character other than<B> ESC</B> is typed, the column range is deleted and text insertion mode is entered.
<BR><BR><TT>2cfa</TT>
<BR><BR>Changes from the current column to the second letter a on the current line.&nbsp; The column range is highlighted,
and once a character other than<B> ESC</B> is typed, the column range is deleted and text insertion mode is entered.
</DL>
</DL>
<H3 ID="Shifting_Text"> Shifting Text </H3>
<BR>The following commands are used to shift lines to the right or left, inserting or deleting leading whitespace.&nbsp; The<B>
&lt;oper&gt;</B> notation in the following commands indicates some sort of operator that the command will act on.<B>&nbsp;
&lt;oper&gt;</B> may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;&gt;&lt;oper&gt; (right angle bracket) 
<DD>This is the shift right command.&nbsp; It shifts the specified lines to the right <A HREF="#shiftwidth">shiftwidth</A> spaces,
inserting necessary leading tabs if <A HREF="#realtabs">realtabs</A> is specified.
<BR><BR>A repeat count<B> &lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units of the<B> &lt;oper&gt;</B>
command to be shifted to the right.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> &gt;</B>, which causes a single line to be shifted to the right.
<BR><BR>Also see the<B> command line</B> command <A HREF="#Y">&gt;</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>10&gt;&gt;</TT>
<BR><BR>Shifts the current line and the next 9 lines to the right <A HREF="#shiftwidth">shiftwidth</A> spaces.
<BR><BR><TT>&gt;'a</TT>
<BR><BR>Shifts all lines from the current line to the line with mark<B> a</B> to the right <A HREF="#shiftwidth">shiftwidth</A>
spaces.
<BR><BR><TT>&gt;r</TT>
<BR><BR>Shifts all lines in the selected (highlighted) region to the right <A HREF="#shiftwidth">shiftwidth</A> spaces.
</DL>
<DT>&lt;n&gt;&lt;&lt;oper&gt; (left angle bracket) 
<DD>This is the shift left command.&nbsp; It shifts the specified lines to the left <A HREF="#shiftwidth">shiftwidth</A> spaces.
<BR><BR>A repeat count<B> &lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units of the<B> &lt;oper&gt;</B>
command to be shifted to the left <A HREF="#shiftwidth">shiftwidth</A> spaces.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> &lt;</B>, which causes a single line to be shifted to the left <A HREF="#shiftwidth">shiftwidth</A>
spaces.
<BR><BR>Also see the<B> command line</B> command <A HREF="#X">&lt;</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>&lt;&lt;</TT>
<BR><BR>Shifts the current line to the left <A HREF="#shiftwidth">shiftwidth</A> spaces.
<BR><BR><TT>&lt;G</TT>
<BR><BR>Shifts all lines from the current line to the last line in the edit buffer to the left <A HREF="#shiftwidth">shiftwidth</A>
spaces.
<BR><BR><TT>10&lt;j</TT>
<BR><BR>Shifts the current line and the next 10 lines to the left <A HREF="#shiftwidth">shiftwidth</A> spaces.
</DL>
</DL>
<H3 ID="Case_Toggling"> Case Toggling </H3>
<BR>The case toggle command mode command switches upper case letters to lower case, and lower case letters to upper case.
&nbsp;An example of its behaviour is changing the line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; This Is A Line Of Text.</TT>
<BR><BR>to
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; tHIS iS a lINE oF tEXT.</TT>
<BR><BR>The<B> &lt;oper&gt;</B> notation in the following command indicates some sort of operator that the command will act
on.<B>&nbsp; &lt;oper&gt;</B> may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;~&lt;oper&gt; (tilde) 
<DD>This is the case toggle command.&nbsp; This command only works if the<B> togglecaselikevi</B> setting is not turned on.&nbsp;
If<B> togglecaselikevi</B> is set, then pressing<B> ~</B> only changes the case of the current character, and advances the
cursor to the next character.
<BR><BR>However, if<B> togglecaselikevi</B> is not set, then this command toggles the case of the characters over the range
specified by<B> &lt;oper&gt;</B>
<BR><BR>A repeat count<B> &lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units of the<B> &lt;oper&gt;</B>
command to be case toggled.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> ~</B>, which causes a single line to be have its case toggled.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>~r</TT>
<BR><BR>Toggles the case of the currently selected (highlighted) range.
<BR><BR><TT>~$</TT>
<BR><BR>Toggles the case of all characters from the current column of the current line to the last character of the current
line.
<BR><BR><TT>~w</TT>
<BR><BR>Toggles the case of the current word.
<BR><BR><TT>10~~</TT>
<BR><BR>Toggles the case of the current line and the 9 lines following.
</DL>
</DL>
<H3 ID="Filters"> Filters </H3>
<BR>The command mode filter command has the same functionality as the command line command<B> filter</B>.&nbsp; The<B> &lt;oper&gt;</B>
notation in the following command indicates some sort of operator that the command will act on.<B>&nbsp; &lt;oper&gt;</B>
may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;!&lt;oper&gt; (exclamation mark) 
<DD>Filter text.&nbsp; The line range specified by<B> &lt;oper&gt;</B> are run through a specified filter.&nbsp; A repeat count<B>
&lt;n&gt;</B> may precede the command, this causes<B> &lt;n&gt;</B> units of the<B> &lt;oper&gt;</B> command to be run through
the filter.
<BR><BR><B>&lt;oper&gt;</B> may be specified as<B> !</B>, which causes a single line to be run through the filter.
<BR><BR>The lines specified are run through a specified system command (filter).&nbsp; Once the filter range has been specified,
a window is displayed, prompting for a system command:
<BR><BR><TT><IMG SRC="vi025.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 28.</I></B><B><I></I></B><B> Filter System Command Prompt</B>
<BR><BR>The system command must take input from standard in and put its output to standard out.&nbsp; The lines specified
are replaced with the output of the the command.
<BR><BR>There is a filter command history in the filter command prompt, the size of which is controlled with the <A HREF="#maxfilterhistory">maxfilterhistory</A>
setting.
<BR><BR>Also see the<B> command line</B> command <A HREF="#_">!</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>!r</TT>
<BR><BR>Runs the current selected (highlighted) region in the edit buffer through a specified filter.
<BR><BR><TT>!!</TT>
<BR><BR>Runs the current line through a specified filter
<BR><BR><TT>!G</TT>
<BR><BR>Runs all lines from the current line to the end of the edit buffer through a specified filter.
</DL>
</DL>
<H3 ID="Text_Selection"> Text Selection </H3>
<BR>Text may be selected with the mouse.&nbsp; However, if you do not wish to use the mouse, there is a keyboard interface
to allow you to accomplish the same thing.
<BR><BR>Once text selection has been started, any movement command adds to the selected region.&nbsp; The selected region
may be cleared, and text selection ended, by pressing the<B> ESC</B> key.
<BR><BR>A selected region is highlighted by exchanging the foreground and background the colors of the line.&nbsp; A selected
region could look as follows:
<BR><BR><TT><IMG SRC="vi026.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 29.</I></B><B><I></I></B><B> Selected Text Region</B>
<BR><BR>The following are the command mode commands for selecting text and manipulating selected text.
<DL>
<DT>CTRL_R 
<DD>Starts text selection, if no text is selected.&nbsp; The current character is highlighted.
<BR><BR>If region is already selected, then cancel the selected region.
<DT>&lt;n&gt;SHIFT_UP 
<DD>Starts selection (if not already started) and moves up to the previous line.&nbsp; The previous line and the current line
are selected.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then the cursor moves up<B> &lt;n&gt;</B> lines, and
all the lines between the starting and ending position are selected.
<DT>&lt;n&gt;SHIFT_DOWN 
<DD>Starts selection (if not already started) and moves down to the next line.&nbsp; The next line and the current line are selected.
&nbsp;If a repeat count<B> &lt;n&gt;</B> is specified, then the cursor moves down<B> &lt;n&gt;</B> lines, and all the lines
between the starting and ending position are selected.
<DT>&lt;n&gt;SHIFT_LEFT 
<DD>Starts selection (if not already started) and move left to the previous character.&nbsp; The current character and the previous
character are selected.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then the cursor moves left<B> &lt;n&gt;</B>
characters, and all the characters between the starting and ending position are selected.
<DT>&lt;n&gt;SHIFT_RIGHT 
<DD>Starts selection (if not already started) and move right to the next character.&nbsp; The current character and the next character
are selected.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, then the cursor moves right<B> &lt;n&gt;</B> characters,
and all the characters between the starting and ending position are selected.
<DT>&lt;&quot;?&gt;SHIFT_DEL 
<DD>Deletes the currently selected region.&nbsp; If the copy buffer<B> &lt;&quot;?&gt;</B> is specified, the region is copied
into that buffer, otherwise the data is copied into the active buffer.
<DT>_ (underscore) 
<DD>Simulates the right mouse being clicked at the current cursor position.&nbsp; If a region is not selected, then the current
word will be selected.&nbsp; The word is defined using the command line command <A HREF="#word">word</A>.
</DL>
<H3 ID="Miscellaneous_Keys"> Miscellaneous Keys </H3>
<DL>
<DT>CTRL_C 
<DD>Exits the editor if no files have been modified.&nbsp; If files have been modified, a prompt is displayed asking you to verify
that you really want to discard the modified file(s).&nbsp; If you do not respond with a 'y', then the command is cancelled.
<BR><BR>Also see the<B> command line</B> command <A HREF="#QUITALL">QUITALL</A>.
<DT>CTRL_G 
<DD>Display information about the current file in the edit window.&nbsp; The information includes:
<UL>
<LI>the file name.
<LI>a special indicator if the file is read-only.
<LI>a special indicator if the file is view-only.
<LI>a special indicator if the file has been modified.
<LI>the current line number, and the last line number.
<LI>The percentage of the way through the file.
</UL>
<BR>Some sample results are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &quot;test.c&quot; [modified] line 5 of 100&nbsp; -- 5% --</TT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp; &quot;..\c\file.c&quot; [read only] line 100 of 100&nbsp; -- 100% --
<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp; &quot;\autoexec.bat&quot; line 1 of 100&nbsp; -- 1% --
<DT>CTRL_L 
<DD>Redraws the current screen.
<DT>CTRL_V 
<DD>Displays the current version of Vi in the message window.
<BR><BR>Also see the<B> command line</B> command <A HREF="#VERSION">VERSION</A>.
<DT>CTRL_X 
<DD>Displays the hex value (and the decimal value) of the current character.&nbsp; A sample of the output in the message window
is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Char 'e': 0x65 (101)</TT>
<DT>CTRL_] (control right square bracket) 
<DD>Go to the tag given by the current word.&nbsp; The word is defined using the command line command <A HREF="#word">word</A>.
<BR><BR>Also see the<B> command line</B> command <A HREF="#TAG">TAG</A>.
<BR>See the appendix <A HREF="#CTAGS">CTAGS</A> for more information.
<DT>ALT_W 
<DD>Activates the current edit window's menu.&nbsp; This menu is defined using the<B> windowgadgetmenu</B> <A HREF="#MENU">MENU</A>.
&nbsp;See the chapter <A HREF="#Windows_and_Menus">Windows and Menus</A> for more information on setting this menu.
<DT>ALT_X 
<DD>Insert a character, at the current cursor position.&nbsp; When<B> ALT_X</B> is pressed, a prompt is displayed:
<BR><BR><TT><IMG SRC="vi027.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 30.</I></B><B><I></I></B><B> Character Insertion Prompt</B>
<BR><BR>Enter either a decimal or a hex number.&nbsp; That character will be inserted directly into the edit buffer.
<DT>:&nbsp; (colon) 
<DD>Allows entry of a command line.&nbsp; See the chapter <A HREF="#Editor_Commands">Editor Commands</A> for full details on command
line commands.
<DT>@&lt;?&gt; (at sign) 
<DD>This command executes the copy buffer<B> &lt;?&gt;</B>.&nbsp; Vi behaves as if the contents of the buffer were being typed
at the keyboard.
<DT>&lt;n&gt;J 
<DD>Joins the next line to the current line.&nbsp; If a repeat count<B> &lt;n&gt;</B> is specified, the next<B> &lt;n&gt;</B>
lines are joined to the current line.&nbsp; (lines are concatenated one after another).
<BR><BR>Also see the<B> command line</B> command <A HREF="#JOIN">JOIN</A>.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>J</TT>
<BR><BR>Joins the next line to the current line.
<BR><BR><TT>3J</TT>
<BR><BR>Joins the next 3 lines to the current line.
</DL>
<DT>Q 
<DD>Enters<B> EX mode</B>.<B>&nbsp; EX mode</B> is a line-oriented mode of Vi.&nbsp; To exit<B> EX mode</B>, use the <A HREF="#VISUAL">VISUAL</A>
command.
<DT>Z&lt;Z&gt; 
<DD>Used when you are finished with the current edit buffer.&nbsp; If the current edit buffer has been modified, it is saved.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>ZZ</TT>
<BR><BR>Finished with current edit buffer.
</DL>
<DT>&lt;n&gt;z&lt;?&gt; 
<DD>Reorients the current screen position.&nbsp; The current line moves as follows, depending on the value of<B> &lt;?&gt;</B>:
<DL>
<DT>ENTER
<DD>Moves the current line to the top of the screen.
<DT>.&nbsp; (dot)
<DD>Moves the current line to the center of the screen.
<DT>- (dash)
<DD>Moves the current line to the bottom of the screen.
</DL>
<BR>If a repeat count<B> &lt;n&gt;</B> is specified, then<B> &lt;n&gt;</B> is made the current line.
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>z-</TT>
<BR><BR>Move the current line to the bottom of the screen.
<BR><BR><TT>100zENTER</TT>
<BR><BR>Makes line 100 the current line, and puts line 100 at the top of the screen.
<BR><BR><TT>25z.</TT>
<BR><BR>Makes line 25 the current line, and puts line 25 at the center of the screen.
</DL>
<DT>F1 
<DD>Move forward through the file list to the next file.
<BR><BR>Also see the<B> command line</B> command <A HREF="#NEXT">NEXT</A>.
<DT>F2 
<DD>Move backwards through the file list to the previous file.
<BR><BR>Also see the<B> command line</B> command <A HREF="#PREV">PREV</A>.
<DT>F11 
<DD>Push the current file and position.&nbsp; If you press<B> F12</B>, you will be restored to this position.&nbsp; These positions
are stacked up, up to a maximum of <A HREF="#maxpush">maxpush</A>.
<BR><BR>Also see the<B> command line</B> command <A HREF="#PUSH">PUSH</A>.
<DT>F12 
<DD>Restore the last pushed file and position.
<BR><BR>Also see the<B> command line</B> command <A HREF="#POP">POP</A>.
<DT>.&nbsp; (dot) 
<DD>Repeat the last command mode command that changed text in the edit buffer.&nbsp; It is also possible to memorize more than
just one command for '.' by using<B> memorize mode</B>:
<OL>
<LI>Type &quot;<B> m.</B>&quot;.&nbsp; (Vi enters memorize mode).
<LI>Enter keystrokes.
<LI>Type &quot;<B> .</B>&quot;
</OL>
<BR>Now, whenever you press dot ('.'), all the entered keystrokes will be executed.
<DT>= (equals sign) 
<DD>Performs the last alternate memorized command sequence.&nbsp; The<B> alternate memorize mode</B> is used as follows:
<OL>
<LI>Type &quot;<B> m=</B>&quot;.&nbsp; (Vi enters<B> alternate memorize mode</B>).
<LI>Enter keystrokes.
<LI>Type &quot;<B> =</B>&quot;
</OL>
<BR>Now, whenever you press the equals sign ('='), all the entered keystrokes will be executed as if you typed them again
from the keyboard.
<BR><BR>This memorized keystroke sequence will last until you memorize another, unlike using &quot;<B> m.</B>&quot;.
<DT>ALT_M 
<DD>Display current memory state.&nbsp; Shows the total amount of memory, the amount of memory for use by Vi, and how much extended
memory and/or disk space is available.
</DL>
<H1 ID="Editor_Commands"> Editor Commands </H1>
<BR>This chapter describes the various editor commands that may be entered.&nbsp; A command is entered by pressing the colon
(':') key while in command mode, or by selecting the<B> Enter command</B> option in the<B> File</B> menu.
<BR><BR>To ensure that you are in command mode, press<B> ESC</B> until the mode indicator says
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Mode: command</TT>
<BR><BR>Once you press the ':' key, the command entry window will appear:
<BR><BR><TT><IMG SRC="vi028.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 31.</I></B><B><I></I></B><B> Command Entry Window</B>
<BR><BR>This position and size of the command entry window are controlled using the <A HREF="#COMMANDWINDOW">COMMANDWINDOW</A>
windowing command (character mode versions of the editor only).&nbsp; Commands may be up to 512 bytes in length; the command
window scrolls.
<BR><BR>There are a special set of commands that may be entered at the command line for controlling the various windows and
menus of Vi.&nbsp; These commands are discussed in the next chapter, <A HREF="#Windows_and_Menus">Windows and Menus</A>.
<BR><BR>The command line has a command history associated with it; the size of this command history is controlled using the
<A HREF="#maxclhistory">maxclhistory</A> setting.&nbsp; As well, the command history is preserved across sessions of Vi if
the <A HREF="#historyfile">historyfile</A> parameter is set.
<BR><BR>If a command is being executed through a mapped key (see the <A HREF="#MAP">MAP</A> and <A HREF="#MAPBASE">MAPBASE</A>
commands later in this chapter), then it can be useful to keep the command from being added to the history.&nbsp; By having
a &quot;\h&quot; as the first characters after the ':' character, the command will not be added to the command history.
<H2 ID="Special_Keys_In_The_Command_Window"> Special Keys In The Command Window </H2>
<BR>Once in the command window, a number of keys have special meaning:
<DL>
<DT>CTRL_V
<DD>Insert next keystroke directly; do not process as a special character.
<DT>CTRL_Q
<DD>Insert next keystroke directly; do not process as a special character.
<DT>CTRL_O
<DD>Insert the current input string after current line in the edit buffer.
<DT>ALT_O
<DD>Insert the current input string before current line in the edit buffer.
<DT>ALT_L
<DD>Adds the current line in the current edit buffer, from the current column to the end of the line, to the input string.
<DT>CTRL_E
<DD>Adds the current space delimited word in the current edit buffer to the input string.
<DT>CTRL_L
<DD>Adds the current line in the current edit buffer to the input string.
<DT>CTRL_R
<DD>Adds the currently selected column range in the current edit buffer to the input string.
<DT>CTRL_W
<DD>Adds the current word in the current edit buffer to the input string.
<DT>CTRL_INS
<DD>Restores last thing typed in the input window (one level undo).
<DT>UP
<DD>Scroll backwards through the history.
<DT>DOWN
<DD>Scroll forwards through the history.
<DT>ALT_TAB
<DD>Command completion.&nbsp; Looks backwards through the history for first item starting with what is already entered.&nbsp;
Subsequent presses of ALT_TAB get the 2nd last matching item, and so on.
<DT>RIGHT
<DD>Move cursor right through input string.
<DT>LEFT
<DD>Move cursor left through input string.
<DT>CTRL_END
<DD>Delete to end of the input string.
<DT>END
<DD>Move to end of the input string.
<DT>HOME
<DD>Move to start of the input string.
<DT>INSERT
<DD>Toggle between insertion and overstrike of text.
<DT>BS
<DD>Backspace in the input string, deleting the previous character.
<DT>DELETE
<DD>Delete current character.
<DT>ENTER
<DD>Process the command.
<DT>ESC
<DD>Cancel the command.
<DT>TAB
<DD>Try to complete the file name based on the current string.
<BR><BR>The first match is completed, and a window with possible choices is displayed.&nbsp; Subsequent presses of TAB will
scroll forward through the list of possible matches, and pressing SHIFT_TAB will scroll backwards through the list of possible
matches.&nbsp; Cursor keys may also be used, and so may the mouse.
<BR><TT><IMG SRC="vi029.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 32.</I></B><B><I></I></B><B> File Name Completion Window</B>
</DL>
<H2 ID="Line_Addresses"> Line Addresses </H2>
<BR>Some commands take a line address range and/or a line address.&nbsp; A line address is composed of a line number or a
special symbol.&nbsp; As well, '+' and '-' may be used to add or subtract from the current address; e.g.:
<DL>
<DT>5+7
<DD>Indicates line 13
<DT>100-5
<DD>indicates line 95
<DT>99-11+6
<DD>indicates line 94
</DL>
<BR>Special symbols are:
<DL>
<DT>.&nbsp; (dot)
<DD>Represents the current line number.
<DT>$ (dollar)
<DD>Represents the last line number.
<DT>% (percent)
<DD>Represents the address range 1,$ (the entire file)
<DT># (pound)
<DD>Represents the current selected region
<DT>'a (front quote)
<DD>Indicates the line with the mark 'a' set; marks 'a' through 'z' may be used.
<DT>/regexp/
<DD>Indicates the first line following the current line that has the regular expression<B> regexp</B>.&nbsp; If<B> regexp</B>
is not specified, then the last regular expression search is used.
<DT>?regexp?
<DD>Indicates the first line previous to the current line that has the regular expression<B> regexp</B>.&nbsp; If<B> regexp</B>
is not specified, then the last regular expression search is used.
</DL>
<BR>For more information on regular expressions, see the chapter <A HREF="#Regular_Expressions">Regular Expressions</A>.
<BR><BR>If a line address is not specified, then the current line is assumed.&nbsp; If + or - are the first character, then
they are assumed to operate on the current line number; e.g.&nbsp; specifying +1 takes you forward one line in the file.
<BR><BR>A line address range is two line addresses separated by a comma; these indicate the start and end of the line address
range.
<H3 ID="Line_Address_Examples"> Line Address Examples </H3>
<DL>
<DT>.-5
<DD>5 lines before the current line
<DT>1,5
<DD>lines 1 to 5.
<DT>.-10,.+10
<DD>10 lines before the current line to 10 lines past the current line
<DT>$-5
<DD>5 lines before the last line in the file
<DT>%
<DD>all lines
<DT>#
<DD>all lines in the currently selected region
<DT>'a,.
<DD>line with mark 'a' to current line.
<DT>/foo/
<DD>the first line after the current line containing 'foo'
<DT>'z+5,$-10
<DD>5 lines past line with mark 'z' to 10 lines before the end of the file.
<DT>/foo/+5,/bar/-1
<DD>5 lines past line next line containing 'foo' to 1 line before the line containing 'bar'.
</DL>
<H2 ID="Commands"> Commands </H2>
<BR>The following command descriptions show items within angle brackets (&lt;&gt;).&nbsp; The angle brackets are there to
indicate items that you may supply.&nbsp; You are not required to type the brackets.&nbsp; For example, &lt;filename&gt; simply
means that in the corresponding place in the command you should enter the name of a file.&nbsp; For example, &lt;filename&gt;
may be replaced with
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test.c</TT>
<BR><BR>and the brackets are not entered.
<BR><BR>The command descriptions also show items inside double quotes (&quot;).&nbsp; The double quotes are used to indicate
a literal option that you may supply.&nbsp; You are not required to type the quotes.&nbsp; For example, &quot;-c&quot; indicates
that in the corresponding place in the command you may enter<B> -c</B>.
<BR><BR>In the syntax model for each command, the upper-case characters represent the minimal truncation of the command.&nbsp;
For example, in its syntax model, the edit command is specified as &quot;Edit&quot;, indicating that the &quot;e&quot;, &quot;ed&quot;,
&quot;edi&quot;, and &quot;edit&quot; are acceptable abbreviations (and that &quot;e&quot; is the shortest of them).
<BR><BR>Some commands are noted as &quot;EX mode only&quot;.&nbsp; This means that the command is not available from the normal
command line; it may only be used from an editor<B> script</B> or from<B> EX mode</B> (which is entered by pressing 'Q' in
command mode).
<H3 ID="Y"> &gt; </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; &gt;
</DL>
<DL>
<DT>Description:
<DD>This command shifts the specified line range<B> &lt;line_range&gt;</B> to the right <A HREF="#shiftwidth">shiftwidth</A> spaces,
inserting necessary leading tabs if <A HREF="#realtabs">realtabs</A> is specified.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>1,.&nbsp; &gt;</TT>
<BR><BR>Shifts from first line to current line to the right <A HREF="#shiftwidth">shiftwidth</A> spaces.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#X">&lt;</A>
</DL>
<H3 ID="X"> &lt; </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; &lt;
</DL>
<DL>
<DT>Description:
<DD>This command shifts the specified line range<B> &lt;line_range&gt;</B> to the left <A HREF="#shiftwidth">shiftwidth</A> spaces.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>.,$ &lt;</TT>
<BR><BR>Shifts entire file <A HREF="#shiftwidth">shiftwidth</A> spaces to the left.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#Y">&gt;</A>
</DL>
<H3 ID="_"> ! </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; !&nbsp; &lt;cmd&gt;
</DL>
<DL>
<DT>Description:
<DD>If<B> &lt;line_range&gt;</B> is specified, then the lines are run through the specified system command<B> &lt;cmd&gt;</B>
(the command must get its input from standard in and write its output to standard out) and replaces the lines with the output
of the command.
<BR><BR>If no range is specified, then the system command<B> &lt;cmd&gt;</B> is run.&nbsp; If<B> &lt;cmd&gt;</B> is not specified,
then an operating system shell is started.
<BR><BR>The global variable %(Sysrc) contains the return code from the last system command, and %(Syserr) contains the errno
value.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>1,$ !&nbsp; sort</TT>
<BR><BR>Takes all lines in the current edit buffer and runs them through the<B> sort</B> command.&nbsp; The lines are then
replaced with the output of the sort command.
<BR><BR><TT>!&nbsp; dir</TT>
<BR><BR>Executes the system<B> dir</B> command.&nbsp; After<B> dir</B> is finished executing, you are prompted to press a
key before returning to the editor.
<BR><BR><TT>!</TT>
<BR><BR>Temporarily leaves Vi and enters an operating system command shell.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#SHELL">SHELL</A>
</DL>
<H3 ID="ABBREV"> ABBREV </H3>
<DL>
<DT>Syntax:
<DD>ABbrev &lt;short&gt; &lt;long&gt;
</DL>
<DL>
<DT>Description:
<DD>Create an abbreviation of<B> &lt;short&gt;</B> for<B> &lt;long&gt;</B>.&nbsp; Whenever<B> &lt;short&gt;</B> is typed as a
word during text insertion mode, it is expanded to<B> &lt;long&gt;</B>.&nbsp; <A HREF="#UNABBREV">UNABBREV</A> is used to
remove the abbreviation.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>abbrev wh while(</TT>
<BR><BR>Whenever<B> wh</B> is entered as a word, the word<B> while(</B> is substituted.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#UNABBREV">UNABBREV</A>
</DL>
<H3 ID="ALIAS"> ALIAS </H3>
<DL>
<DT>Syntax:
<DD>ALias &lt;alias&gt; &lt;data&gt;
</DL>
<DL>
<DT>Description:
<DD>Creates an command line alias of<B> &lt;alias&gt;</B> for<B> &lt;data&gt;</B>.&nbsp; Whenever<B> &lt;alias&gt;</B> is typed
on the command line, the full command<B> &lt;data&gt;</B> is substituted.&nbsp; <A HREF="#UNALIAS">UNALIAS</A> is used to
remove the abbreviation.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>alias ai set autoindent</TT>
<BR><BR>Whenever<B> ai</B> is entered on the command line, the command<B> set autoindent</B> is executed.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#UNALIAS">UNALIAS</A>
</DL>
<H3 ID="APPEND"> APPEND </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_num&gt; Append
</DL>
<DL>
<DT>Description:
<DD>Appends source lines after line<B> &lt;line_num&gt;</B>.&nbsp; Append is terminated when a line with nothing but a dot ('.')
is entered.
<DL>
<DT>Notes:
<DD>Only valid in<B> EX mode</B>.
</DL>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CHANGE">CHANGE</A>, <A HREF="#INSERT">INSERT</A>
</DL>
<H3 ID="CASCADE"> CASCADE </H3>
<DL>
<DT>Syntax:
<DD>CASCADE
</DL>
<DL>
<DT>Description:
<DD>Causes all edit buffer windows to cascade (overlap each other with top border of each visible).
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#MAXIMIZE">MAXIMIZE</A>, <A HREF="#MINIMIZE">MINIMIZE</A>, <A HREF="#MOVEWIN">MOVEWIN</A>, <A HREF="#RESIZE">RESIZE</A>,
<A HREF="#SIZE">SIZE</A>, <A HREF="#TILE">TILE</A>
</DL>
<H3 ID="CD"> CD </H3>
<DL>
<DT>Syntax:
<DD>CD &lt;dir&gt;
</DL>
<DL>
<DT>Description:
<DD>Changes current working directory to<B> &lt;dir&gt;</B>.&nbsp; If<B> &lt;dir&gt;</B> is not specified, then the current directory
is displayed in the message window.<B>&nbsp; &lt;dir&gt;</B> may be specified with drive and path.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>cd c:\tmp</TT>
<BR><BR>Changes to the \tmp directory of the c drive
<BR><BR><TT>cd</TT>
<BR><BR>Display the current working directory
</DL>
<H3 ID="CHANGE"> CHANGE </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Change
</DL>
<DL>
<DT>Description:
<DD>Deletes the line range , and replaces the range with inputted source lines.&nbsp; The input of text is terminated when a line
with nothing on it but a dot ('.') is entered.
<DL>
<DT>Notes:
<DD>Only valid in<B> EX mode</B>.
</DL>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#APPEND">APPEND</A>, <A HREF="#INSERT">INSERT</A>
</DL>
<H3 ID="COMPILE"> COMPILE </H3>
<DL>
<DT>Syntax:
<DD>COMPile &quot;-a&quot; &quot;-A&quot; &lt;script&gt; &lt;result&gt;
</DL>
<DL>
<DT>Description:
<DD>Compiles the editor script<B> &lt;script&gt;</B>.
<BR><BR>If<B> -a</B> is specified, all local variables are translated at compile time (rather than at run time) - this is
useful for the<B> configuration script</B>.
<BR><BR>If<B> -A</B> is specified, all variables (both local and global) are translated at compile time.
<BR><BR>The file will be compiled into a file with the same name as the script and the extension ._vi., unless<B> &lt;result&gt;</B>
is specified.
<BR><BR>For information on editor<B> scripts</B>, see the chapter <A HREF="#Editor_Script_Language">Editor Script Language</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>comp -a ed.cfg</TT>
<BR><BR>Compiles the default<B> configuration script</B><TT> ed.cfg</TT> and expands all local variables to any values assigned
to them in the script.&nbsp; The compiled script file<TT> ed._vi</TT> is generated.
<BR><BR>If any errors occur while compiling, a file with the the same name as the script and the extension .err is created.
<BR><BR><TT>comp test.vi test.out</TT>
<BR><BR>Compiles the script<TT> test.vi</TT> and generates the compiled script file<TT> test.out</TT>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#LOAD">LOAD</A>, <A HREF="#SOURCE">SOURCE</A>
</DL>
<H3 ID="COMPRESS"> COMPRESS </H3>
<DL>
<DT>Syntax:
<DD>COMpress
</DL>
<DL>
<DT>Description:
<DD>Replaces spaces in the current edit buffer with tabs.&nbsp; Single spaces are not replaced with a tab, and spaces inside a
quoted string are not replaced with a tab.
</DL>
<H3 ID="COPY"> COPY </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; COpy &lt;line_number&gt;
</DL>
<DL>
<DT>Description:
<DD>Copies the specified range of lines<B> &lt;line_range&gt;</B> after the line<B> &lt;line_number&gt;</B>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>% copy $</TT>
<BR><BR>Copies the entire file and places the lines after the last line in the file.
<BR><BR><TT>1,.&nbsp; copy .</TT>
<BR><BR>Copies all lines from the beginning of the file to the current line and places the lines after the current line.
</DL>
<H3 ID="DATE"> DATE </H3>
<DL>
<DT>Syntax:
<DD>DAte
</DL>
<DL>
<DT>Description:
<DD>Display the current time and date in the message window.
</DL>
<H3 ID="DELETE"> DELETE </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Delete &lt;buffer&gt;
</DL>
<DL>
<DT>Description:
<DD>Deletes the specified line range<B> &lt;line_range&gt;</B>.
<BR><BR>If<B> &lt;buffer&gt;</B> is not specified, the text is deleted into the active copy buffer.
<BR><BR>If<B> &lt;buffer&gt;</B> ('1'-'9', or 'a'-'z') is specified, the text is deleted into that copy buffer.
<BR><BR>The <A HREF="#PUT">PUT</A> command may be used to place contents of a copy buffer into the file.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>% d</TT>
<BR><BR>Deletes all lines into the active copy buffer.
<BR><BR><TT>1,10 d a</TT>
<BR><BR>Deletes lines 1 to 10 into the named copy buffer<B> a</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#MOVE">MOVE</A>, <A HREF="#PUT">PUT</A>, <A HREF="#YANK">YANK</A>
</DL>
<H3 ID="ECHO"> ECHO </H3>
<DL>
<DT>Syntax:
<DD>ECHO &lt;line&gt; &lt;msg&gt;
</DL>
<DL>
<DT>Description:
<DD>Echos the message<B> &lt;msg&gt;</B> on line<B> &lt;line&gt;</B> of the message window.
<BR><BR>If<B> &lt;line&gt;</B> is specified as<B> off</B>, then nothing is echoed into the message window from then on.
<BR><BR>If<B> &lt;line&gt;</B> is specified as<B> on</B>, messages will start to appear in the message window again.
<BR><BR><B>&lt;msg&gt;</B> may be surrounded by double quotes (&quot;) or a forward slash (/) if it contains any spaces.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>echo 1 &quot;hello world&quot;</TT>
<BR><BR>The words<B> hello world</B> will appear on line 1 of the message window.
<BR><BR><TT>echo off</TT>
<BR><BR>Disables output to the message window.
<BR><BR><TT>echo on</TT>
<BR><BR>Enables output to the message window.
<BR><BR><TT>echo 2 /Line 2 message/</TT>
<BR><BR>The words<B> Line 2 message</B> will appear on line 2 of the message window.
</DL>
<H3 ID="EDIT"> EDIT </H3>
<DL>
<DT>Syntax:
<DD>Edit &quot;!&quot; &lt;files&gt;
</DL>
<DL>
<DT>Description:
<DD>Edits the specified files<B> &lt;files&gt;</B>.<B>&nbsp; &lt;files&gt;</B> may be a single file or a list of files.
<BR><BR>Each file name may contain file regular expressions, see the section <A HREF="#File_Matching_Regular_Expressions">File Matching Regular Expressions</A>
in the chapter <A HREF="#Regular_Expressions">Regular Expressions</A> for more information.
<BR><BR>If<B> &quot;!&quot;</B> is specified, then the current file is discarded before editing the new file(s).
<BR><BR>If a file is already being edited, then control is simply transferred to the window with that file.&nbsp; If the file
is already being edited and you specified a different path, then a new copy of the file is read from the disk and is edited,
unless <A HREF="#samefilecheck">samefilecheck</A> is set.&nbsp; If <A HREF="#samefilecheck">samefilecheck</A> is set, then
control is transferred to the window with the original copy of the file.
<BR><BR>If you wish to have have multiple views on the same file, the <A HREF="#OPEN">OPEN</A> command is available.
<BR><BR>If<B> &lt;files&gt;</B> is not specified, then a window containing a list of files in the current directory is opened.
&nbsp;From this listing, you may pick a file, another directory, or another drive (the available drives are at the end of
the listing).&nbsp; A directory is indicated by the leading backslash ('\').&nbsp; If a directory is chosen in this window,
then the list of files in that directory is displayed.&nbsp; This list also contains all the drives available (which are enclosed
in square brackets, e.g.&nbsp; [c:]).&nbsp; If you select a drive, the list of files in the current directory on that drive
is displayed.
<BR><BR>For files and directories, each line indicates the file name, the various attributes of the file ([d]irectory, [a]rchive,
[h]idden, [s]ystem, [r]eadable, [w]riteable, e[x]ecutable), the file size in bytes, the date and time of the last file update.
&nbsp;Some sample lines are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test.c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a--rw-&nbsp;&nbsp;&nbsp; 25586
&nbsp;08/16/92&nbsp; 08:14</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bar.c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a--r--&nbsp;&nbsp;&nbsp;
&nbsp; 639&nbsp; 02/27/92&nbsp; 13:25</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \tmpdir&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d---rw-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; 0&nbsp; 08/16/92&nbsp; 19:05</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [c:]</TT>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>edit test.c</TT>
<BR><BR>Edits the file test.c.
<BR><BR><TT>edit!&nbsp; test2.c</TT>
<BR><BR>Discards the current file, and edits test2.c.
<BR><BR><TT>edit test.(c|h)</TT>
<BR><BR>Edits the file test.c if it exists, and the file test.h if it exists.
<BR><BR><TT>edit ([a-c])*.c</TT>
<BR><BR>Edits all files in the current directory that start with the letters a, b or c and have the extension .c.
<BR><BR><TT>edit *</TT>
<BR><BR>Edits all files in the current directory.
<BR><BR><TT>edit</TT>
<BR><BR>Gives a file selection display:
<BR><BR><TT><IMG SRC="vi016.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 33.</I></B><B><I></I></B><B> File Selection Display</B>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#OPEN">OPEN</A>, <A HREF="#READ">READ</A>, <A HREF="#VIEW">VIEW</A>, <A HREF="#VISUAL">VISUAL</A>
</DL>
<H3 ID="EGREP"> EGREP </H3>
<DL>
<DT>Syntax:
<DD>EGRep &lt;regexp&gt; &lt;files&gt;
</DL>
<DL>
<DT>Description:
<DD>Searches the file list<B> &lt;files&gt;</B> for the regular expression<B> &lt;regexp&gt;</B>.
<BR><BR><B>&lt;regexp&gt;</B> may be surrounded by double quotes (&quot;) or a forward slash (/) if it contains any spaces.
<BR><BR><B>&lt;files&gt;</B> may be a single file, a directory, or a list of files.<B>&nbsp; &lt;files&gt;</B> may contain
file regular expressions, see the section <A HREF="#File_Matching_Regular_Expressions">File Matching Regular Expressions</A>
in the chapter <A HREF="#Regular_Expressions">Regular Expressions</A> for more information.
<BR><BR>If<B> &lt;files&gt;</B> is not specified, it defaults to the setting of <A HREF="#grepdefault">grepdefault</A>.&nbsp;
If a directory is specified for<B> &lt;files&gt;</B>, then the files in that directory are searched, based on the setting
of <A HREF="#grepdefault">grepdefault</A>.
<BR><BR>When all matches are found, a selection window is presented with all the files that contained<B> &lt;regexp&gt;</B>.
<BR><BR>If you are not using regular expressions, the <A HREF="#FGREP">FGREP</A> command is much faster.&nbsp; For more information
on regular expressions, see the chapter <A HREF="#Regular_Expressions">Regular Expressions</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>egrep ((if)|(while)) *.c</TT>
<BR><BR>Searches all files in the current directory ending in the extension .c for the regular expression<B> ((if)|(while))</B>.
<BR><BR><TT>egrep [a-z]a+</TT>
<BR><BR>Searches all files specified by <A HREF="#grepdefault">grepdefault</A> for the regular expression<B> [a-z]a+</B>.
<BR><BR><TT>egrep [a-z]a+ ..\c</TT>
<BR><BR>Searches all files in the directory ..\c specified by <A HREF="#grepdefault">grepdefault</A> for the regular expression<B>
[a-z]a+</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FGREP">FGREP</A>
</DL>
<H3 ID="EVAL"> EVAL </H3>
<DL>
<DT>Syntax:
<DD>EVAL &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>Evalutes a given mathematical expression, and displays the result on line 1 of the message window.&nbsp; For a full explanation
of the rules for formulating the expression<B> &lt;expr&gt;</B>, see the chapter <A HREF="#Editor_Script_Language">Editor Script Language</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>eval 5+7*3</TT>
<BR><BR>Evaluates<B> 5+7*3</B> and displays the result (26) in the message window.
<BR><BR><TT>eval (5+7)*3</TT>
<BR><BR>Evaluates<B> (5+7)*3</B> and displays the result (36) in the message window.
<BR><BR><TT>eval ((12+3)*100)/50-3</TT>
<BR><BR>Evaluates<B> ((12+3)*100)/50-3</B> and displays the result (27) in the message window.
</DL>
<H3 ID="EXECUTE"> EXECUTE </H3>
<DL>
<DT>Syntax:
<DD>EXECUTE &lt;str&gt;
</DL>
<DL>
<DT>Description:
<DD>Execute the string<B> &lt;str&gt;</B>.&nbsp; This causes the editor to behave as if the string<B> &lt;str&gt;</B> was typed
at the keyboard.
<BR><BR>Special keys in the string are indicated as follows:
<DL>
<DT>\&lt;&quot;key&quot;&gt;
<DD>Any special key may be inserted for<B> &quot;key&quot;</B>.&nbsp; The angle brackets are required.&nbsp; There are a number
of pre-defined keys symbols that are recognized.&nbsp; These are described in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
<DT>\e
<DD>Short form for the escape key (rather than \&lt;ESC&gt;).
<DT>\n
<DD>Short form for the enter key (rather than \&lt;ENTER&gt;).
<DT>\h
<DD>If a command line command is used in the sequence, and it follows the colon (':'), the command is not added to the history.
&nbsp;For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :\hdate\n</TT>
<BR><BR>will display the current date and time, but the command will not enter the command history.
<DT>\x
<DD>If a command line command is used in the sequence, then this stops the command window from opening.&nbsp; This prevents the
&quot;flashing&quot; of the command window as it is opened then closed.&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; \x:date\n</TT>
<BR><BR>will display the current date and time, but the command window will not be displayed.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>execute dd</TT>
<BR><BR>Acts as if<B> dd</B> were typed, and the current line gets deleted.
<BR><BR><TT>execute :eval 5*3\n</TT>
<BR><BR>Acts as if<B> :eval 5*3&lt;ENTER&gt;</B> was typed, and the number 15 gets displayed in the message window.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#KEYADD">KEYADD</A>, <A HREF="#MAP">MAP</A>, <A HREF="#MAPBASE">MAPBASE</A>
</DL>
<H3 ID="EXITALL"> EXITALL </H3>
<DL>
<DT>Syntax:
<DD>EXITALL
</DL>
<DL>
<DT>Description:
<DD>Exits all files.&nbsp; For each file that has been modified, you are prompted as to whether you want to save the file or not.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#QUITALL">QUITALL</A>
</DL>
<H3 ID="EXPAND"> EXPAND </H3>
<DL>
<DT>Syntax:
<DD>EXPAND
</DL>
<DL>
<DT>Description:
<DD>Replaces all tabs in the current edit buffer with spaces.
</DL>
<H3 ID="FGREP"> FGREP </H3>
<DL>
<DT>Syntax:
<DD>FGRep &quot;-c&quot; &quot;-u&quot; &lt;string&gt; &lt;files&gt;
</DL>
<DL>
<DT>Description:
<DD>Searches the file list<B> &lt;files&gt;</B> for the string<B> &lt;string&gt;</B>.
<BR><BR>The search is by default case insensitive, unless<B> -c</B> is specified, which forces the search to be case sensitive.
&nbsp;Specifying<B> -u</B> causes the setting of <A HREF="#caseignore">caseignore</A> to determine whether or not to be case
sensitive in the search.
<BR><BR><B>&lt;string&gt;</B> may be surrounded by double quotes (&quot;) or a forward slash (/) if it contains any spaces.
<BR><BR><B>&lt;files&gt;</B> may be a single file or a list of files.&nbsp; Each file name may contain file regular expressions,
see the section <A HREF="#File_Matching_Regular_Expressions">File Matching Regular Expressions</A> in the chapter <A HREF="#Regular_Expressions">Regular Expressions</A>
for more information.
<BR><BR>If<B> &lt;files&gt;</B> is not specified, it defaults to the setting of <A HREF="#grepdefault">grepdefault</A>.
<BR><BR>While searching for the item, Vi displays a window that shows all files being searched.&nbsp; When all matches are
found, a selection window is presented with all the files that contained<B> &lt;files&gt;</B>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>fgrep window *.c</TT>
<BR><BR>Searches all files in the current directory ending in the extension .c for the string<B> window</B>.&nbsp; This will
produce out similar to the following:
<BR><BR><TT><IMG SRC="vi023.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 34.</I></B><B><I></I></B><B> Grep Result display</B>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EGREP">EGREP</A>
</DL>
<H3 ID="FILES"> FILES </H3>
<DL>
<DT>Syntax:
<DD>Files
</DL>
<DL>
<DT>Description:
<DD>Opens a window with the a list of all files current being edited.&nbsp; Files that have been modified will have a '*' beside
them.&nbsp; A file may be selected from this list either with the keyboard or with the mouse.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>files</TT>
<BR><BR>Displays following screen
<BR><BR><TT><IMG SRC="vi017.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 35.</I></B><B><I></I></B><B> Current file list</B>
</DL>
<H3 ID="FLOATMENU"> FLOATMENU </H3>
<DL>
<DT>Syntax:
<DD>FLOATMENU &lt;id&gt; &lt;slen&gt; &lt;x1&gt; &lt;y1&gt;
</DL>
<DL>
<DT>Description:
<DD>Activates the floating (popup) menu<B> &lt;id&gt;</B> (<B> &lt;id&gt;</B> may be 0, 1, 2 or 3).
<BR><BR>The floating menus are defined using the command line command <A HREF="#MENU">MENU</A> (See the section <A HREF="#Menu_Commands">Menu Commands</A>
).
<BR><BR><B>&lt;x1&gt;</B>,<B> &lt;y1&gt;</B> specify the coordinates of the upper left hand corner of the floating menu.&nbsp;
(0,0) specifies the upper left hand corner of the screen.
<BR><BR><B>&lt;slen&gt;</B> defines the length of a string that the menu is around the floating menu will try to appear around
the string (<B> &lt;id&gt;</B> may be 0).&nbsp; This is useful if you wish to pop up a menu around some selected characters
on a line, for example.
<BR><BR>If<B> &lt;slen&gt;</B> is non-zero, then the coordinates is assumed to be the lower right-hand side of the string
that the menu is popping up around.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>float 0 0 10 10</TT>
<BR><BR>Bring up floating menu 0 at location (10,10) on the screen.&nbsp; There is no string, so the menu position will simply
cycle around (10,10) in an attempt to position itself.
<BR><BR><TT>float 0 6 50 20</TT>
<BR><BR>Bring up floating menu 0 at location (50,20) on the screen.&nbsp; This is assumed to be on the lower right hand side
of a string of length 5 (i.e., it is assumed that the string is on line 19 and starts at column 45).&nbsp; If the menu cannot
fit by opening at (50,20), it will try to open at all other corners of the string.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#MENU">MENU</A>, <A HREF="#INPUT">INPUT</A>, <A HREF="#GET">GET</A>
</DL>
<H3 ID="GENCONFIG"> GENCONFIG </H3>
<DL>
<DT>Syntax:
<DD>GENCONFIG &lt;filename&gt;
</DL>
<DL>
<DT>Description:
<DD>Writes the current editor configuration out to the file<B> &lt;filename&gt;</B>.&nbsp; If<B> &lt;filename&gt;</B> is not specified,
then the file name &quot;ed.cfg&quot; is assumed.
</DL>
<H3 ID="GLOBAL"> GLOBAL </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Global '&quot;!&quot;' /&lt;regexp&gt;/ &lt;cmd&gt;
</DL>
<DL>
<DT>Description:
<DD>For each line in the range<B> &lt;line_range&gt;</B> that matches the regular expression<B> &lt;regexp&gt;</B>, the editor
command<B> &lt;cmd&gt;</B> is executed.<B>&nbsp; &lt;cmd&gt;</B> may contain replacement expressions, see the chapter <A HREF="#Regular_Expressions">Regular Expressions</A>
for more information.
<BR><BR>If<B> &quot;!&quot;</B> is specified, then the command<B> &lt;cmd&gt;</B> is executed on every line that does NOT
match the regular expression<B> &lt;regexp&gt;</B>.
<BR><BR>If<B> &lt;line_range&gt;</B> is not specified, then the<B> global</B> command operates on the entire line range of
the current edit buffer.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>g/printf/d</TT>
<BR><BR>Deletes all lines in the current edit buffer that have the word<B> printf</B>.
<BR><BR><TT>g!/[a-c]123/ d</TT>
<BR><BR>Deletes all lines in the current edit buffer that DO not match the regular expression<B> [a-c]123</B>.
<BR><BR><TT>g/(abc)*/ execute Iabc\e</TT>
<BR><BR>For every line that matches the regular expression<B> (abc)*</B>, execute the keystrokes<B> Iabc&lt;ESC&gt;</B> (this
will insert the characters abc at the start of the line).
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#SUBSTITUTE">SUBSTITUTE</A>
</DL>
<H3 ID="HELP"> HELP </H3>
<DL>
<DT>Syntax:
<DD>HELP &lt;topic&gt;
</DL>
<DL>
<DT>Description:
<DD>Starts a view-only edit buffer on help for a specified topic.&nbsp; Possible topics are:
<DL>
<DT>COMmandline
<DD>All command line commands.
<DT>KEYS
<DD>What different keystrokes do in command mode.
<DT>REGularexpressions
<DD>How to use regular expressions.
<DT>SETtings
<DD>Everything that can be modified with the <A HREF="#SET">SET</A> command line command.
<DT>SCRipts
<DD>Vi<B> script</B> guide.
<DT>STARTing
<DD>How to start the editor:&nbsp; switches, required files.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>help com</TT>
<BR><BR>Gives help on command line commands.
<BR><BR><TT>help</TT>
<BR><BR>Gives list of help topics.
</DL>
<H3 ID="INSERT"> INSERT </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_number&gt; Insert
</DL>
<DL>
<DT>Description:
<DD>Inserts text after a the specified line number<B> &lt;line_number&gt;</B>.&nbsp; Insert is terminated when a line with nothing
but a '.' is entered.
<DL>
<DT>Notes:
<DD>Only valid in<B> EX mode</B>.
</DL>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#APPEND">APPEND</A>, <A HREF="#CHANGE">CHANGE</A>
</DL>
<H3 ID="JOIN"> JOIN </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Join
</DL>
<DL>
<DT>Description:
<DD>Joins the lines in the specified range<B> &lt;line_range&gt;</B> into a single line (lines are concatenated one after another).
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>.,.+2 join</TT>
<BR><BR>Joins the current line and the next 2 lines into a single line.
</DL>
<H3 ID="KEYADD"> KEYADD </H3>
<DL>
<DT>Syntax:
<DD>KEYAdd &lt;string&gt;
</DL>
<DL>
<DT>Description:
<DD>Adds a set of keystrokes<B> &lt;string&gt;</B> to the key buffer just as if they were typed by the user.&nbsp; The processing
of these keystrokes is deferred until Vi finishes its current processing, and is ready to process keystrokes again.&nbsp;
This is different than the <A HREF="#EXECUTE">EXECUTE</A> command, which processes the keystrokes immediately.
<BR><BR><A HREF="#KEYADD">KEYADD</A> is useful in a script, because it allows keystrokes to be executed after the script is
exited.&nbsp; This prevents re-entrance of a script that is being executed by a mapped key in input mode, for example.
<BR><BR>Keys are processed in FIFO order.&nbsp; Multiple <A HREF="#KEYADD">KEYADD</A> commands cause more keys to queue up
for processing.
<BR><BR>If you need to use one or more special keys (e.g.&nbsp; ENTER, F1, etc) in<B> &lt;string&gt;</B>, they may specified
as follows:
<DL>
<DT>\&lt;&quot;key&quot;&gt;
<DD>Any special key may be inserted for<B> &quot;key&quot;</B>.&nbsp; The angle brackets are required.&nbsp; There are a number
of pre-defined keys symbols that are recognized.&nbsp; These are described in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
<DT>\e
<DD>Short form for the escape key (rather than \&lt;ESC&gt;).
<DT>\n
<DD>Short form for the enter key (rather than \&lt;ENTER&gt;).
<DT>\h
<DD>If a command line command is used in the sequence, and it follows the colon (':'), the command is not added to the history.
&nbsp;For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :\hdate\n</TT>
<BR><BR>will display the current date and time, but the command will not enter the command history.
<DT>\x
<DD>If a command line command is used in the sequence, then this stops the command window from opening.&nbsp; This prevents the
&quot;flashing&quot; of the command window as it is opened then closed.&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; \x:date\n</TT>
<BR><BR>will display the current date and time, but the command window will not be displayed.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>keyadd dd</TT>
<BR><BR>Acts as if<B> dd</B> were typed, and the current line gets deleted.
<BR><BR><TT>keyadd :eval 5*3\n</TT>
<BR><BR>Acts as if<B> :eval 5*3&lt;ENTER&gt;</B> was typed, and the number 15 gets displayed in the message window.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EXECUTE">EXECUTE</A>, <A HREF="#MAP">MAP</A>, <A HREF="#MAPBASE">MAPBASE</A>
</DL>
<H3 ID="LIST"> LIST </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; List
</DL>
<DL>
<DT>Description:
<DD>Lists lines in the specified line range.
<DL>
<DT>Notes:
<DD>Only valid in<B> EX mode</B>.
</DL>
</DL>
<H3 ID="LOAD"> LOAD </H3>
<DL>
<DT>Syntax:
<DD>LOAD &lt;script&gt;
</DL>
<DL>
<DT>Description:
<DD>Loads a script into memory for the life of the edit session.&nbsp; This allows for much faster access to the script, since
the data structures for the script do not have to be built every time the script is invoked.&nbsp; This is especially important
for a<B> hook script</B>.
<BR><BR>For information on editor scripts, see the chapter <A HREF="#Editor_Script_Language">Editor Script Language</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>load rdme._vi</TT>
<BR><BR>Loads the script<TT> rdme._vi</TT> and makes it resident.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#COMPILE">COMPILE</A>, <A HREF="#SOURCE">SOURCE</A>
</DL>
<H3 ID="MAP"> MAP </H3>
<DL>
<DT>Syntax:
<DD>MAP &quot;!&quot; &lt;key&gt; &lt;string&gt;
</DL>
<DL>
<DT>Description:
<DD>Tells the editor to run the string of keys<B> &lt;string&gt;</B> whenver the key<B> &lt;key&gt;</B> is pressed in command
mode.
<BR><BR>If<B> &quot;!&quot;</B> is specified, then the string of keys<B> &lt;string&gt;</B> is executed whenever<B> &lt;key&gt;</B>
is pressed in text insertion mode.
<BR><BR>When a mapped key is pressed, it acts is if the characters in<B> &lt;string&gt;</B> are being typed at the keyboard.
&nbsp;Recursion does not occur; if a key that is mapped is executed after it has been executed as a mapped key, then the default
behaviour for that key is used, e.g.:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; map a 0a</TT>
<BR><BR>will cause the editor to move to column 1, and then start appending after the character in column 1.
<BR><BR>If you need to specify a special key (e.g.&nbsp; ENTER, F1, etc) in<B> &lt;key&gt;</B>, you specify a symbolic name
for that key.&nbsp; There are a number of pre-defined keys symbols that are recognized when specifying which key is being
mapped/unmapped.&nbsp; These are described in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
<BR><BR>If you need to use one or more special keys (e.g.&nbsp; ENTER, F1, etc) in<B> &lt;string&gt;</B>, then you may enter:
<DL>
<DT>\&lt;&quot;key&quot;&gt;
<DD>Any special key may be inserted for<B> &quot;key&quot;</B>.&nbsp; The angle brackets are required.&nbsp; There are a number
of pre-defined keys symbols that are recognized.&nbsp; These are described in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
<DT>\e
<DD>Short form for the escape key (rather than \&lt;ESC&gt;).
<DT>\n
<DD>Short form for the enter key (rather than \&lt;ENTER&gt;).
<DT>\h
<DD>If a command line command is used in the sequence, and it follows the colon (':'), the command is not added to the history.
&nbsp;For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; :\hdate\n</TT>
<BR><BR>will display the current date and time, but the command will not enter the command history.
<DT>\x
<DD>If a command line command is used in the sequence, then this stops the command window from opening.&nbsp; This prevents the
&quot;flashing&quot; of the command window as it is opened then closed.&nbsp; For example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; \x:date\n</TT>
<BR><BR>will display the current date and time, but the command window will not be displayed.
</DL>
<BR>To remove a mapping, use the <A HREF="#UNMAP">UNMAP</A> command.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>map K \x:next\n</TT>
<BR><BR>Whenever K is pressed in command mode, the <A HREF="#NEXT">NEXT</A> command is executed.&nbsp; The command window
will not be displayed, because of the<B> \x</B>.
<BR><BR><TT>map CTRL_T \x:\hda\n</TT>
<BR><BR>Whenever CTRL_T is pressed in command mode, the current date is displayed.&nbsp; The command window will not be displayed,
because of the<B> \x</B>.&nbsp; The command will not be added to the command history, because of the<B> \h</B>.
<BR><BR><TT>map CTRL_W \x:fgrep \&lt;CTRL_W&gt;\n</TT>
<BR><BR>Whenever CTRL_W is pressed in command mode, an fgrep command, searching for the current word, is executed.&nbsp; The<B>
\x</B> keeps the command window from opening.<B>&nbsp; \&lt;CTRL_W&gt;</B> simulates CTRL_W being pressed, so the current
word is inserted into the command line.
<BR><BR><TT>map!&nbsp; CTRL_W \edwi</TT>
<BR><BR>Whenever CTRL_W is pressed in text insertion mode, text insertion mode is exited (\e simulates the ESC key being pressed),
the current word is deleted, and text insertion mode is re-entered.&nbsp; This has the effect of deleting the current word
in text insertion mode and appearing to remain in text insertion mode.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EXECUTE">EXECUTE</A>, <A HREF="#KEYADD">KEYADD</A>, <A HREF="#UNMAP">UNMAP</A>
</DL>
<H3 ID="MAPBASE"> MAPBASE </H3>
<DL>
<DT>Syntax:
<DD>MAPBASE &lt;key&gt; &lt;string&gt;
</DL>
<DL>
<DT>Description:
<DD>Tells the editor to run the string of keys whenver the key<B> &lt;string&gt;</B> is pressed in command mode.
<BR><BR>This works the same as the <A HREF="#MAP">MAP</A> command, only all characters in<B> &lt;string&gt;</B> work as their
base meaning that is, all key mappings are ignored and the keys have their default behaviour.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EXECUTE">EXECUTE</A>, <A HREF="#KEYADD">KEYADD</A>, <A HREF="#MAP">MAP</A>, <A HREF="#UNMAP">UNMAP</A>
</DL>
<H3 ID="MARK"> MARK </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_number&gt; MArk &lt;markname&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the<B> text mark &lt;markname&gt;</B> on the line<B> &lt;line_number&gt;</B>.&nbsp; The mark name is a single letter
from<B> a</B> to<B> z</B>.&nbsp; This mark may then be referred to on the command line or in command mode by using a front
quote (') before the mark name, e.g.:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 'a</TT>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>mark a</TT>
<BR><BR>Sets the mark<B> a</B> on the current line.&nbsp; Typing the command<B> 'a</B> will return you to that mark.
<BR><BR><TT>100 mark z</TT>
<BR><BR>Sets the mark<B> z</B> on line 100.
</DL>
<H3 ID="MATCH"> MATCH </H3>
<DL>
<DT>Syntax:
<DD>match /&lt;rx1&gt;/&lt;rx2&gt;/
</DL>
<DL>
<DT>Description:
<DD>Set what is matched by the '%' command mode command.&nbsp; Defaults are &quot;{&quot;,&quot;}&quot; and &quot;(&quot;,&quot;)&quot;.
&nbsp;For example, by pressing the percent key ('%') when the cursor is on the first open bracket ('(') in the line:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( ( i=foo( x ) ) ) return;</TT>
<BR><BR>moves the cursor to the last ')' in the line.
<BR><BR>This command allows you to extend what is matched to general regular expressions.<B>&nbsp; &lt;rx1&gt;</B> is the
regular expression that opens a match,<B> &lt;rx2&gt;</B> is the regular expression that closes a match.
<BR><BR>Note that in the matching regular expressions, <A HREF="#magic">magic</A> is set (special characters automatically
have their meaning, and do not need to be escaped).
<BR><BR>For more information on regular expressions, see the chapter <A HREF="#Regular_Expressions">Regular Expressions</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>match /# *if/# *endif/</TT>
<BR><BR>This adds the matching of all<B> #if and #endif</B> commands (an arbitrary number of spaces is allowed to occur between
the '#' sign and the<B> if</B> or<B> endif</B> words.&nbsp; If '%' is pressed while over a<B> #if</B> statement, the cursor
is moved to the corresponding<B> #endif</B> statement.
</DL>
<H3 ID="MAXIMIZE"> MAXIMIZE </H3>
<DL>
<DT>Syntax:
<DD>MAXimize
</DL>
<DL>
<DT>Description:
<DD>Maximizes the current edit buffer window.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CASCADE">CASCADE</A>, <A HREF="#MINIMIZE">MINIMIZE</A>, <A HREF="#MOVEWIN">MOVEWIN</A>, <A HREF="#RESIZE">RESIZE</A>,
<A HREF="#SIZE">SIZE</A>, <A HREF="#TILE">TILE</A>
</DL>
<H3 ID="MINIMIZE"> MINIMIZE </H3>
<DL>
<DT>Syntax:
<DD>MINimize
</DL>
<DL>
<DT>Description:
<DD>Minimizes the current edit buffer window.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CASCADE">CASCADE</A>, <A HREF="#MAXIMIZE">MAXIMIZE</A>, <A HREF="#MOVEWIN">MOVEWIN</A>, <A HREF="#RESIZE">RESIZE</A>,
<A HREF="#SIZE">SIZE</A>, <A HREF="#TILE">TILE</A>
</DL>
<H3 ID="MOVE"> MOVE </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Move &lt;line_number&gt;
</DL>
<DL>
<DT>Description:
<DD>Deletes the specified range of lines<B> &lt;line_range&gt;</B> and places them after the line<B> &lt;line_number&gt;</B>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>1,10 move $</TT>
<BR><BR>Moves the first 10 lines of the file after the last line in the file.
<BR><BR><TT>1,.&nbsp; move .+1</TT>
<BR><BR>Deletes all lines from the beginning of the file to the current line and places the lines one line after the current
line.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#DELETE">DELETE</A>
</DL>
<H3 ID="MOVEWIN"> MOVEWIN </H3>
<DL>
<DT>Syntax:
<DD>MOVEWin
</DL>
<DL>
<DT>Description:
<DD>Enter window movement mode.&nbsp; The cursor keys are then used to move the current edit buffer window.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CASCADE">CASCADE</A>, <A HREF="#MAXIMIZE">MAXIMIZE</A>, <A HREF="#MINIMIZE">MINIMIZE</A>, <A HREF="#RESIZE">RESIZE</A>,
<A HREF="#SIZE">SIZE</A>, <A HREF="#TILE">TILE</A>
</DL>
<H3 ID="NEXT"> NEXT </H3>
<DL>
<DT>Syntax:
<DD>Next
</DL>
<DL>
<DT>Description:
<DD>Moves to the next file in the list of files being edited.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#PREV">PREV</A>
</DL>
<H3 ID="OPEN"> OPEN </H3>
<DL>
<DT>Syntax:
<DD>Open &lt;file&gt;
</DL>
<DL>
<DT>Description:
<DD>Opens a new window on the specified file.&nbsp; If no file is specified, then a new window is opened on the current edit buffer.
&nbsp;These new windows are different views on the same edit buffer.
<BR><BR>Once multiple views on an edit buffer are opened, the window border contains a number indicating which view of the
edit buffer is associated with that file:
<BR><BR><TT><IMG SRC="vi030.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 36.</I></B><B><I></I></B><B> Two views of the same file</B>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EDIT">EDIT</A>, <A HREF="#VIEW">VIEW</A>, <A HREF="#VISUAL">VISUAL</A>
</DL>
<H3 ID="POP"> POP </H3>
<DL>
<DT>Syntax:
<DD>POP
</DL>
<DL>
<DT>Description:
<DD>Restores the last pushed file position.
<BR><BR>The setting <A HREF="#maxpush">maxpush</A> controls the maximum number of push commands that will be remembered.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#PUSH">PUSH</A>, <A HREF="#TAG">TAG</A>
</DL>
<H3 ID="PREV"> PREV </H3>
<DL>
<DT>Syntax:
<DD>Prev
</DL>
<DL>
<DT>Description:
<DD>Moves to the previous file in the list of files being edited.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#NEXT">NEXT</A>
</DL>
<H3 ID="PUSH"> PUSH </H3>
<DL>
<DT>Syntax:
<DD>PUSH
</DL>
<DL>
<DT>Description:
<DD>Saves the current file position.&nbsp; The next <A HREF="#POP">POP</A> command will cause a return to this position.
<BR><BR>The setting <A HREF="#maxpush">maxpush</A> controls the maximum number of push commands that will be remembered.
<BR><BR>The <A HREF="#TAG">TAG</A> command does an implicit push.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#POP">POP</A>, <A HREF="#TAG">TAG</A>
</DL>
<H3 ID="PUT"> PUT </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_number&gt; PUt '&quot;!&quot;' &lt;buffer&gt;
</DL>
<DL>
<DT>Description:
<DD>Puts (pastes) the copy buffer<B> &lt;buffer&gt;</B> ('1'-'9', or 'a'-'z') after the line<B> &lt;line_number&gt;</B>.
<BR><BR>If<B> &lt;buffer&gt;</B> is not specified, the active copy buffer is assumed.
<BR><BR>If<B> &quot;!&quot;</B> is specified, then the lines are put before the line<B> &lt;line_number&gt;</B>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>put</TT>
<BR><BR>Pastes the active copy buffer after the current line.
<BR><BR><TT>1 put!</TT>
<BR><BR>Pastes the active copy buffer before the first line in the edit buffer.
<BR><BR><TT>$ put a</TT>
<BR><BR>Pastes named copy buffer<B> a</B> after the last line in the file.
<BR><BR><TT>put!&nbsp; 4</TT>
<BR><BR>Pastes numbered copy buffer before the current line.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#DELETE">DELETE</A>, <A HREF="#YANK">YANK</A>
</DL>
<H3 ID="QUIT"> QUIT </H3>
<DL>
<DT>Syntax:
<DD>Quit &quot;!&quot;
</DL>
<DL>
<DT>Description:
<DD>Quits the current file.&nbsp; <A HREF="#QUIT">QUIT</A> will not quit a modified file, unless<B> &quot;!&quot;</B> is specified,
in which case all changes are discarded and the file is exited.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>q!</TT>
<BR><BR>Quits the current file, discarding all modifications since the last write.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#WRITE">WRITE</A>, <A HREF="#WQ">WQ</A>, <A HREF="#XIT">XIT</A>
</DL>
<H3 ID="QUITALL"> QUITALL </H3>
<DL>
<DT>Syntax:
<DD>QUITAll
</DL>
<DL>
<DT>Description:
<DD>Exits the editor if no files have been modified.&nbsp; If files have been modified, a prompt is displayed asking to you verify
that you really want to discard the modified file(s).&nbsp; If you do not respond with a 'y', then the command is cancelled.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>quitall</TT>
<BR><BR>If files have been modified, the following prompt is displayed:
<BR><BR><TT><IMG SRC="vi003.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 37.</I></B><B><I></I></B><B> Really Exit prompt</B>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EXITALL">EXITALL</A>
</DL>
<H3 ID="READ"> READ </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_number&gt; Read &lt;file_name&gt;
</DL>
<DL>
<DT>Description:
<DD>Reads the text from file<B> &lt;file_name&gt;</B> into the current edit buffer.&nbsp; The lines are placed after line specified
by<B> &lt;line_number&gt;</B>.&nbsp; If<B> &lt;line_number&gt;</B> is not specified, the current line is assumed.
<BR><BR>Line 0 may be specified as<B> &lt;line_number&gt;</B> in order to read a file in before the first line of the current
edit buffer.
<BR><BR>Each file name<B> &lt;file_name&gt;</B> may contain file regular expressions, see the section <A HREF="#File_Matching_Regular_Expressions">File Matching Regular Expressions</A>
in the chapter <A HREF="#Regular_Expressions">Regular Expressions</A> for more information.
<BR><BR>If<B> &lt;file_name&gt;</B> is not specified, then a window containing a list of files in the current directory is
opened, from which a file may be selected.
<BR><BR>If the first character of<B> &lt;file_name&gt;</B> is a dollar sign ('$'), then this indicates that a directory is
to be read in.&nbsp; If nothing follows, then the current directory is read.&nbsp; Otherwise, all characters that follow the
dollar sign are treated as a file regular expression, which is used to read in the directory.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>0 read test.c</TT>
<BR><BR>Reads the file test.c into the current edit buffer and places the text before the first line of the file.
<BR><BR><TT>r test.c</TT>
<BR><BR>Reads the file test.c into the current edit buffer and places the text after the current line.
<BR><BR><TT>r $</TT>
<BR><BR>Reads the current directory and places the data after the current line.
<BR><BR><TT>r $*.c</TT>
<BR><BR>Reads the current directory, matching only files with .c extensions, and places the data after the current line.
<BR><BR><TT>r $..\c\*.*</TT>
<BR><BR>Reads the ..\c directory, and places the data after the current line.
<BR><BR><TT>read</TT>
<BR><BR>Gives a file selection display:
<BR><BR><TT><IMG SRC="vi016.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 38.</I></B><B><I></I></B><B> File Selection display</B>
</DL>
<H3 ID="RESIZE"> RESIZE </H3>
<DL>
<DT>Syntax:
<DD>RESize
</DL>
<DL>
<DT>Description:
<DD>Allows resizing of the current edit window with the keyboard.&nbsp; The cursor keys are used as follows:
<DL>
<DT>UP
<DD>move top border up
<DT>DOWN
<DD>move top border down
<DT>LEFT
<DD>move right border left
<DT>RIGHT
<DD>move right border right
<DT>SHIFT_UP
<DD>move bottom border up
<DT>SHIFT_DOWN
<DD>move bottom border down
<DT>SHIFT_LEFT
<DD>move left border left
<DT>SHIFT_RIGHT
<DD>move left border right
</DL>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CASCADE">CASCADE</A>, <A HREF="#MAXIMIZE">MAXIMIZE</A>, <A HREF="#MINIMIZE">MINIMIZE</A>, <A HREF="#MOVEWIN">MOVEWIN</A>,
<A HREF="#SIZE">SIZE</A>, <A HREF="#TILE">TILE</A>
</DL>
<H3 ID="SET"> SET </H3>
<DL>
<DT>Syntax:
<DD>SEt &lt;variable&gt; &lt;value&gt;
</DL>
<DL>
<DT>Description:
<DD>Certain variables within Vi may be changed after Vi is executing.<B>&nbsp; &lt;value&gt;</B> is assigned to<B> &lt;variable&gt;</B>.
<BR><BR>If<B> &lt;variable&gt;</B> and<B> &lt;value&gt;</B> are not specified, the a window containing a list of all boolean
values is displayed.
<BR><BR>If<B> &lt;variable&gt;</B> is specified as a<B> 2</B>, then a window containing all other values is displayed.
<BR><BR>From the selection window, a variable may be selected (with ENTER or double clicking the mouse), and a new value entered.
&nbsp;If the variable was boolean, then pressing ENTER or double clicking toggles the value.
<BR><BR>If a variable is a boolean variable, then it is be set via
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set var&nbsp;&nbsp;&nbsp; - set var to TRUE</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set novar&nbsp; - set var to FALSE</TT>
<BR><BR>Variables other than boolean variables are set via
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set var = test&nbsp; - set var to 'test'</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set var&nbsp; test&nbsp;&nbsp; - set var to 'test'</TT>
<BR><BR>Note that the '=' operator is optional.
<BR><BR>For information on all the different settable options, see the chapter <A HREF="#Editor_Settings">Editor Settings</A>.
</DL>
<H3 ID="SETCOLOR"> SETCOLOR </H3>
<DL>
<DT>Syntax:
<DD>SETCOLOR &lt;c&gt; &lt;r&gt; &lt;g&gt; &lt;b&gt;
</DL>
<DL>
<DT>Description:
<DD>Set the color number<B> &lt;c&gt;</B> to have the RGB value<B> &lt;r&gt;</B>,<B> &lt;g&gt;</B>,<B> &lt;b&gt;</B>.<B>&nbsp;
&lt;c&gt;</B> may have a value of 0 to 15.<B>&nbsp; &lt;c&gt;</B>,<B> &lt;r&gt;</B>, and<B> &lt;g&gt;</B> may have values
from 0 to 63.
<BR><BR>This command only has an affect under operating systems where it is possible to remap the colors in some way (DOS).
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>setcolor 1 63 0 38</TT>
<BR><BR>This remaps color number 1 to a pink color.
<BR><BR><TT>setcolor 15 25 40 38</TT>
<BR><BR>This remaps color number 15 to a pale green color.
</DL>
<H3 ID="SHELL"> SHELL </H3>
<DL>
<DT>Syntax:
<DD>SHell
</DL>
<DL>
<DT>Description:
<DD>Escapes to an operating system shell.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#_">!</A>
</DL>
<H3 ID="SIZE"> SIZE </H3>
<DL>
<DT>Syntax:
<DD>SIZE &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;
</DL>
<DL>
<DT>Description:
<DD>Resizes the current edit buffer window to have upper left-hand corner at (<B> &lt;x1&gt;</B>,<B> &lt;y1&gt;</B>) and lower
right-hand corner at (<B> &lt;x2&gt;</B>,<B> &lt;y2&gt;</B>).
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>SIZE 0 0 10 10</TT>
<BR><BR>Changes the size of the current edit buffer window to have upper left-hand corner at (0,0) and lower right-hand corner
at (10,10).
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CASCADE">CASCADE</A>, <A HREF="#MAXIMIZE">MAXIMIZE</A>, <A HREF="#MINIMIZE">MINIMIZE</A>, <A HREF="#MOVEWIN">MOVEWIN</A>,
<A HREF="#RESIZE">RESIZE</A>, <A HREF="#TILE">TILE</A>
</DL>
<H3 ID="SOURCE"> SOURCE </H3>
<DL>
<DT>Syntax:
<DD>SOurce &lt;script&gt; &lt;p1&gt; &lt;p2&gt; ...&nbsp; &lt;pn&gt;
</DL>
<DL>
<DT>Description:
<DD>Execute Vi source script file<B> &lt;script&gt;</B>.&nbsp; Optional parameters<B> &lt;p1&gt;</B> to<B> &lt;pn&gt;</B> may
be specified, these are passed to the specified script.
<BR><BR>If &quot;.&quot; is specified as the script name, the current file being edited is run as a script.
<BR><BR>For information on editor scripts, see the chapter <A HREF="#Editor_Script_Language">Editor Script Language</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>source foo.vi abc</TT>
<BR><BR>Executes the script<B> foo.vi</B>, passing it the parm<B> abc</B>.
<BR><BR><TT>source .</TT>
<BR><BR>Executes the current edit buffer as a script.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#COMPILE">COMPILE</A>, <A HREF="#LOAD">LOAD</A>
</DL>
<H3 ID="SUBSTITUTE"> SUBSTITUTE </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Substitute /&lt;regexp&gt;/&lt;replexp&gt;/&lt;g&gt;&lt;i&gt;
</DL>
<DL>
<DT>Description:
<DD>Over the line range<B> &lt;line_range&gt;</B>, replace each occurrence of regular expression<B> &lt;regexp&gt;</B> with the
replacement expression<B> &lt;replexp&gt;</B>.
<BR><BR>Only the first occurrence on each line is replaced, unless<B> &lt;g&gt;</B> is specified, in which case all occurrences
on a line are replaced.
<BR><BR>If<B> &lt;i&gt;</B> is specified, each replacement is verified before it is performed.
<BR><BR>See the chapter <A HREF="#Regular_Expressions">Regular Expressions</A> for more information on regular expression
matching and substitution.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>%s/foo/bar/</TT>
<BR><BR>Changes the first occurrence of<B> foo</B> to<B> bar</B> on each line of the entire file.
<BR><BR><TT>1,.s/(([a-z]bc)*)/Abc\2/g</TT>
<BR><BR>Changes all occurrences of the regular expression<B> (([a-z]bc)*)</B> to the substitution expression<B> Abc\2</B>.
&nbsp;The changes are only applied on lines 1 to the current line of the current edit buffer.
<BR><BR><TT>'a,'b/^abc//i</TT>
<BR><BR>Any line that starts with<B> abc</B> has the<B> abc</B> changed to the null string.&nbsp; The user is prompted before
each change.&nbsp; The changes are only applied from the line containing mark<B> a</B> to the line containing mark<B> b</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#GLOBAL">GLOBAL</A>
</DL>
<H3 ID="TAG"> TAG </H3>
<DL>
<DT>Syntax:
<DD>TAG &lt;tagname&gt;
</DL>
<DL>
<DT>Description:
<DD>Searches for the tag<B> &lt;tagname&gt;</B>.&nbsp; Tags are kept in a special file, which must be located somewhere in your
path.&nbsp; This file is controlled with the <A HREF="#tagfilename">tagfilename</A> setting; the default for this setting
is<B> tags</B>.&nbsp; The tags file contains a collection of procedure names and typedefs, along with the file in which they
are located and a search command/line number with which to exactly locate the tag.
<BR><BR>See the appendix <A HREF="#CTAGS">CTAGS</A> for more information.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>tag MyFunc</TT>
<BR><BR>Locates the tag<B> MyFunc</B> in the tags file, edits the source file that contains the function<B> MyFunc</B>, and
moves the cursor to the definition of the function in the source file.
</DL>
<H3 ID="TILE"> TILE </H3>
<DL>
<DT>Syntax:
<DD>TILE &quot;h&quot; | &quot;v&quot; | &lt;x&gt; &lt;y&gt;
</DL>
<DL>
<DT>Description:
<DD>Tile all current file windows.&nbsp; The tiling layout is specified as an<B> &lt;x&gt;</B> by<B> &lt;y&gt;</B> grid.&nbsp;
The or bars ('|') in the command syntax indicate that only one of the options may be used.
<BR><BR>If no parameters are specified, <A HREF="#maxwindowtilex">maxwindowtilex</A> and <A HREF="#maxwindowtiley">maxwindowtiley</A>
are used (this is the default tile grid).
<BR><BR>If<B> &quot;h&quot;</B> is specified, then files are tiled horizontally (as many as will fit).
<BR><BR>If<B> &quot;v&quot;</B> is specified, then files are tiled vertically (as many as will fit).
<BR><BR>Specifying<B> &lt;x&gt; &lt;y&gt;</B> overrides the default tile grid.&nbsp; As a special case, specifying<B> &lt;x&gt;
&lt;y&gt;</B> as 1 1 causes all windows to be restored.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>tile 3 5</TT>
<BR><BR>Tile windows 3 across and 5 high.
<BR><BR><TT>tile 1 1</TT>
<BR><BR>Untile windows.
<BR><BR><TT>tile h</TT>
<BR><BR>Tile windows horizontally.
<BR><BR><TT>tile</TT>
<BR><BR>Tile windows according to default tile grid.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CASCADE">CASCADE</A>, <A HREF="#MAXIMIZE">MAXIMIZE</A>, <A HREF="#MINIMIZE">MINIMIZE</A>, <A HREF="#RESIZE">RESIZE</A>,
<A HREF="#SIZE">SIZE</A>, <A HREF="#MOVEWIN">MOVEWIN</A>
</DL>
<H3 ID="UNABBREV"> UNABBREV </H3>
<DL>
<DT>Syntax:
<DD>UNABbrev &lt;abbrev&gt;
</DL>
<DL>
<DT>Description:
<DD>Removes the abbreviation<B> &lt;abbrev&gt;</B>.&nbsp; See the <A HREF="#ABBREV">ABBREV</A> command for how to set an abbreviation.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>unabbrev wh</TT>
<BR><BR>Remove the abbreviation<B> wh</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#ABBREV">ABBREV</A>
</DL>
<H3 ID="UNALIAS"> UNALIAS </H3>
<DL>
<DT>Syntax:
<DD>UNALias &lt;alias&gt;
</DL>
<DL>
<DT>Description:
<DD>Removes the command line alias<B> &lt;alias&gt;</B>.&nbsp; See the <A HREF="#ALIAS">ALIAS</A> command for how to set a command
line alias.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>unalias ai</TT>
<BR><BR>Remove the command line alias<B> ai</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#ALIAS">ALIAS</A>
</DL>
<H3 ID="UNDO_LcommandR"> UNDO (command) </H3>
<DL>
<DT>Syntax:
<DD>Undo &quot;!&quot;
</DL>
<DL>
<DT>Description:
<DD>Undo the last change.&nbsp; There is no limit on the number of undo's that can be saved, except for memory.&nbsp; Continuing
to issue undo commands walks you backwards through your edit history.
<BR><BR>Specifying<B> &quot;!&quot;</B> undoes the last undo (redo).&nbsp; Again, there are no restrictions on this.&nbsp;
However, once you modify the file, you can longer undo the last undo.
</DL>
<H3 ID="UNMAP"> UNMAP </H3>
<DL>
<DT>Syntax:
<DD>UNMAP &quot;!&quot; &lt;key&gt;
</DL>
<DL>
<DT>Description:
<DD>Removes the mapping of the key<B> &lt;key&gt;</B> for command mode.&nbsp; If<B> &quot;!&quot;</B> is specified, then the key
mapping is removed for text insertion mode.&nbsp; See the <A HREF="#MAP">MAP</A> command for details on mapping keys.
<BR><BR>There are a number of pre-defined symbols that are recognized for<B> &quot;!&quot;</B>.&nbsp; These are described
in the Appendix <A HREF="#Symbolic_Keystrokes">Symbolic Keystrokes</A>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>unmap CTRL_W</TT>
<BR><BR>Removes the mapping of CTRL_W for command mode.&nbsp; Pressing CTRL_W in command mode will now do the default action.
<BR><BR><TT>unmap!&nbsp; F1</TT>
<BR><BR>Removes the mapping of F1 for text insertion mode.&nbsp; Typing F1 in text insertion mode will now do the default
action.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#MAP">MAP</A>, <A HREF="#MAPBASE">MAPBASE</A>
</DL>
<H3 ID="VERSION"> VERSION </H3>
<DL>
<DT>Syntax:
<DD>VERsion
</DL>
<DL>
<DT>Description:
<DD>Displays the current version of Vi in the message window.
</DL>
<H3 ID="VIEW"> VIEW </H3>
<DL>
<DT>Syntax:
<DD>VIEw &quot;!&quot; &lt;file_name&gt;
</DL>
<DL>
<DT>Description:
<DD>Functions the same as the <A HREF="#EDIT">EDIT</A> command, except that it causes the file edited to be a &quot;view only&quot;
file (no modification commands work).
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>view test.c</TT>
<BR><BR>Edits the file<B> test.c</B> in view-only mode.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EDIT">EDIT</A>, <A HREF="#OPEN">OPEN</A>, <A HREF="#VISUAL">VISUAL</A>
</DL>
<H3 ID="VISUAL"> VISUAL </H3>
<DL>
<DT>Syntax:
<DD>VIsual &lt;file_name&gt;
</DL>
<DL>
<DT>Description:
<DD>Causes Vi to re-enter visual mode (full screen editing mode) if Vi is in<B> EX mode</B>.&nbsp; If the filename<B> &lt;file_name&gt;</B>
is specified, this functions just like the <A HREF="#EDIT">EDIT</A> command.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>vi test.c</TT>
<BR><BR>Return to full screen editing mode (if in<B> EX mode</B>) and edit the file test.c
<BR><BR><TT>vi</TT>
<BR><BR>Return to full screen editing mode (if in<B> EX mode</B>).
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EDIT">EDIT</A>, <A HREF="#OPEN">OPEN</A>, <A HREF="#VIEW">VIEW</A>
</DL>
<H3 ID="WRITE"> WRITE </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Write '&quot;!&quot;' &lt;file_name&gt;
</DL>
<DL>
<DT>Description:
<DD>Writes the specified range of lines<B> &lt;line_range&gt;</B> to the file<B> &lt;file_name&gt;</B>.
<BR><BR>If no line range is specified, then all lines are written.
<BR><BR>If<B> &lt;file_name&gt;</B> is not specified, then the current file is written.&nbsp; If<B> &lt;file_name&gt;</B>
exists, and is not the name of the file that you are writing, then the write will fail.
<BR><BR>Specifying<B> &quot;!&quot;</B> forces an overwrite of an existing file.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>1,10 w!&nbsp; test.c</TT>
<BR><BR>Write the first 10 lines of the current file to the file<B> test.c</B>, and overwrite<B> test.c</B> if it already
exists.
<BR><BR><TT>w</TT>
<BR><BR>Write out the current file.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#QUIT">QUIT</A>, <A HREF="#WQ">WQ</A>, <A HREF="#XIT">XIT</A>
</DL>
<H3 ID="WQ"> WQ </H3>
<DL>
<DT>Syntax:
<DD>WQ
</DL>
<DL>
<DT>Description:
<DD>Writes current file, and exits.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#QUIT">QUIT</A>, <A HREF="#WRITE">WRITE</A>, <A HREF="#XIT">XIT</A>
</DL>
<H3 ID="YANK"> YANK </H3>
<DL>
<DT>Syntax:
<DD>&lt;line_range&gt; Yank &lt;buffer&gt;
</DL>
<DL>
<DT>Description:
<DD>Yank (make a copy of) the specified line range<B> &lt;line_range&gt;</B>.
<BR><BR>If<B> &lt;buffer&gt;</B> is not specified, the text is yanked (copied) into the active copy buffer.
<BR><BR>If<B> &lt;buffer&gt;</B> ('1'-'9', or 'a'-'z') is specified, the text is yanked into that copy buffer.
<BR><BR>The <A HREF="#PUT">PUT</A> command may be used to place the contents of a copy buffer into the file.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>% y</TT>
<BR><BR>Yanks (copies) all lines into the active copy buffer.
<BR><BR><TT>.,$ y z</TT>
<BR><BR>Yanks the lines from the current line to the last line in the file into the copy buffer<B> z</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#DELETE">DELETE</A>, <A HREF="#PUT">PUT</A>
</DL>
<H3 ID="XIT"> XIT </H3>
<DL>
<DT>Syntax:
<DD>Xit
</DL>
<DL>
<DT>Description:
<DD>Exits the current file, saving it if it has been modified.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#QUIT">QUIT</A>, <A HREF="#WRITE">WRITE</A>, <A HREF="#WQ">WQ</A>
</DL>
<H1 ID="Windows_and_Menus"> Windows and Menus </H1>
<BR>This chapter describes the command line commands devoted to configuring the Open Watcom Vi Editor's windows and menus.
&nbsp;All windows are fully configurable:&nbsp; dimension, colors, existence of borders.&nbsp; The menus are fully configurable:
&nbsp;all menu topics and menu items are user settable.
<BR><BR>A window is configured first by specifying a window.&nbsp; Once the a window is specified, a number of properties
may be set.&nbsp; These properties are described in the following section.
<H2 ID="Window_Properties"> Window Properties </H2>
<BR>Some of the following command line commands accept colors as parameters.&nbsp; These colors may be numbers in the range
0 through 15.&nbsp; As well, Vi has symbolic names for these colors, they are:
<UL>
<LI>black
<LI>blue
<LI>green
<LI>cyan
<LI>red
<LI>magenta
<LI>brown
<LI>white
<LI>dark_gray
<LI>light_blue
<LI>light_green
<LI>light_cyan
<LI>light_red
<LI>light_magenta
<LI>yellow
<LI>bright_white
</UL>
<H3 ID="BORDER"> BORDER </H3>
<DL>
<DT>Syntax:
<DD>BORDER &lt;hasbord&gt; &lt;fg_clr&gt; &lt;bg_clr&gt;
</DL>
<DL>
<DT>Description:
<DD>This command specifies the type of border and its colors.
<BR><BR><B>&lt;hasbord&gt;</B> describes the type of border:&nbsp; if<B> &lt;hasbord&gt;</B> is set to -1, there is no border,
if<B> &lt;hasbord&gt;</B> is set to 1, there is a border.
<BR><BR><B>&lt;fg_clr&gt;</B> is used to specify the foreground color of the border (0-15).&nbsp; It is ignored for<B> &lt;hasbord&gt;</B>
of -1.
<BR><BR><B>&lt;bg_clr&gt;</B> is used to specify the background color of the border (0-15).&nbsp; It is ignored for<B> &lt;hasbord&gt;</B>
of -1.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>border -1</TT>
<BR><BR>The currently selected window has no border.
<BR><BR><TT>border 1 yellow black</TT>
<BR><BR>The currently selected window has a yellow border with a black background.
</DL>
<H3 ID="DIMENSION"> DIMENSION </H3>
<DL>
<DT>Syntax:
<DD>DIMENSION &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;
</DL>
<DL>
<DT>Description:
<DD>(<B> &lt;x1&gt;</B>,<B> &lt;y1&gt;</B>) specifies the coordinates of the upper left-hand corner of the window, and (<B> &lt;x2&gt;</B>,<B>
&lt;y2&gt;</B>) specifies the coordinates of the lower right-hand corner of the window.
<BR><BR>Open Watcom Vi Editor editor automatically senses the number of lines and columns available.&nbsp; The global variables
%(SW) (screen width) and %(SH) (screen height) are always set.&nbsp; These are useful for coding dimensions that are relative
to the size of the screen.&nbsp; All parameters may be coded as expressions.
<BR><BR>All coordinates are 0-based.&nbsp; The top left corner of the screen is (0,0).&nbsp; The bottom right corner of the
screen is (%(SW)-1,%(SH)-1).
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>dimension 0 1 %(SW)-1 %(SH)-3</TT>
<BR><BR>Makes the currently selected window the full width of the screen.&nbsp; Its y dimensions are from the second line
of the screen and to the third last line of the screen.
<BR><BR><TT>dimension %(SW)-10 5 %(SW)-1 10</TT>
<BR><BR>Makes the currently selected window's x dimension start at the tenth column from the right of the screen and end at
the rightmost column of the screen.&nbsp; Its y dimensions range from the fifth line to the tenth line of the screen.
</DL>
<H3 ID="ENDWINDOW"> ENDWINDOW </H3>
<DL>
<DT>Syntax:
<DD>ENDWindow
</DL>
<DL>
<DT>Description:
<DD>Ends entry of properties for the currently selected window.&nbsp; The currently selected window is then redrawn with the new
properties, if it was previously visible.
</DL>
<H3 ID="HILIGHT"> HILIGHT </H3>
<DL>
<DT>Syntax:
<DD>HILIGHT &lt;fg_clr&gt; &lt;bg_clr&gt;
</DL>
<DL>
<DT>Description:
<DD><B> &lt;fg_clr&gt;</B> sets the foreground color and<B> &lt;bg_clr&gt;</B> sets the background color of highlighted text in
the currently selected window.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>hilight bright_white black</TT>
<BR><BR>Sets the highlighted color of the currently selected window to be bright white text with a black background.
</DL>
<H3 ID="TEXT"> TEXT </H3>
<DL>
<DT>Syntax:
<DD>TEXT &lt;fg_clr&gt; &lt;bg_clr&gt;
</DL>
<DL>
<DT>Description:
<DD><B> &lt;bg_clr&gt;</B> sets the foreground color and sets the background color of text in the currently selected window.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>text white black</TT>
<BR><BR>Sets the text color of the currently selected window to be white text with a black background.
</DL>
<H2 ID="Window_Types"> Window Types </H2>
<BR>This section describes all possible windows that may be selected.&nbsp; These command line commands select the window
to start setting properties.&nbsp; See the previous section for properties that may be set.
<H3 ID="COMMANDWINDOW"> COMMANDWINDOW </H3>
<DL>
<DT>Syntax:
<DD>COMMANDWindow
</DL>
<DL>
<DT>Description:
<DD>This is the window that is displayed whenever Open Watcom Vi Editor is prompting for a command line, a search string, a filter
command or any other command or data.
</DL>
<H3 ID="COUNTWINDOW"> COUNTWINDOW </H3>
<DL>
<DT>Syntax:
<DD>COUNTWindow
</DL>
<DL>
<DT>Description:
<DD>Window that opens when repeat counts are entered.&nbsp; This window is disabled if <A HREF="#repeatinfo">repeatinfo</A> is
not set.
</DL>
<H3 ID="DEFAULTWINDOW"> DEFAULTWINDOW </H3>
<DL>
<DT>Syntax:
<DD>DEFAULTWindow
</DL>
<DL>
<DT>Description:
<DD>When the<B> defaultwindow</B> is selected, all windows get the properties that are set.&nbsp; Note that this is best defined
first to provide the default behaviour, and all other windows that you want to be different from the default can be specified
after.
</DL>
<H3 ID="DIRWINDOW"> DIRWINDOW </H3>
<DL>
<DT>Syntax:
<DD>DIRWindow
</DL>
<DL>
<DT>Description:
<DD>This is the window that you select a file from whenever no file is specified from the command line commands <A HREF="#EDIT">EDIT</A>
or <A HREF="#READ">READ</A>.
</DL>
<H3 ID="EDITWINDOW"> EDITWINDOW </H3>
<DL>
<DT>Syntax:
<DD>EDITWindow
</DL>
<DL>
<DT>Description:
<DD>This is the window that files are edited from.
</DL>
<H3 ID="EXTRAINFOWINDOW"> EXTRAINFOWINDOW </H3>
<DL>
<DT>Syntax:
<DD>EXTRAINFOWindow
</DL>
<DL>
<DT>Description:
<DD>This window contains extra information about possible things that may be done.&nbsp; It is displayed when selecting results
from the command line commands <A HREF="#FGREP">FGREP</A>, <A HREF="#EGREP">EGREP</A>, and <A HREF="#FILES">FILES</A>.
</DL>
<H3 ID="FILEWINDOW"> FILEWINDOW </H3>
<DL>
<DT>Syntax:
<DD>FILEWindow
</DL>
<DL>
<DT>Description:
<DD>The window in which list of files currently being edited is displayed.&nbsp; This is displayed when the command line command
<A HREF="#FILES">FILES</A> is executed.
</DL>
<H3 ID="FILECWINDOW"> FILECWINDOW </H3>
<DL>
<DT>Syntax:
<DD>FILECWindow
</DL>
<DL>
<DT>Description:
<DD>This window contains list of possible file choices when file completion cannot match one specific file.&nbsp; It is displayed
whenever the<B> TAB</B> key is pressed in a command window.
</DL>
<H3 ID="LINENUMBERWINDOW"> LINENUMBERWINDOW </H3>
<DL>
<DT>Syntax:
<DD>LINENUMBERWindow
</DL>
<DL>
<DT>Description:
<DD>This is the window that line numbers are displayed in.&nbsp; The dimension of this window is ignored, the absolute position
of the window is decided by the position of the edit window that it is associated with.
<BR><BR>This window is disabled if <A HREF="#linenumbers">linenumbers</A> is not set.
</DL>
<H3 ID="MENUWINDOW"> MENUWINDOW </H3>
<DL>
<DT>Syntax:
<DD>MENUWindow
</DL>
<DL>
<DT>Description:
<DD>This sets the properties of the windows that open whenever a menu is activated.&nbsp; Any <A HREF="#DIMENSION">DIMENSION</A>
given with this window is ignored; the position of each menu is variable.
</DL>
<H3 ID="MENUBARWINDOW"> MENUBARWINDOW </H3>
<DL>
<DT>Syntax:
<DD>MENUBARWindow
</DL>
<DL>
<DT>Description:
<DD>This window is the menu bar.&nbsp; This is where all menus set up with the command line <A HREF="#MENU">MENU</A> are displayed.
</DL>
<H3 ID="MESSAGEWINDOW"> MESSAGEWINDOW </H3>
<DL>
<DT>Syntax:
<DD>MESSAGEWindow
</DL>
<DL>
<DT>Description:
<DD>The window in which all all editor feedback is reported.&nbsp; The <A HREF="#HILIGHT">HILIGHT</A> color is the color that
errors are reported in.
<BR><BR>This window needs to have two lines in order to view Open Watcom Vi Editor feedback; however, very few messages use
two lines, so you can get by with a message window that is only one line high.
</DL>
<H3 ID="SETWINDOW"> SETWINDOW </H3>
<DL>
<DT>Syntax:
<DD>SETWindow
</DL>
<DL>
<DT>Description:
<DD>The window in which Open Watcom Vi Editor settings are displayed.&nbsp; This window is displayed when the command line <A HREF="#SET">SET</A>
command is entered without parameters or with<B> 2</B> as its only parameter.
</DL>
<H3 ID="SETVALWINDOW"> SETVALWINDOW </H3>
<DL>
<DT>Syntax:
<DD>SETVALWindow
</DL>
<DL>
<DT>Description:
<DD>The window in which the new value of an editor setting is entered.&nbsp; This window is displayed if a value change is requested
after entering the command line <A HREF="#SET">SET</A> with<B> 2</B> as the parameter.
</DL>
<H3 ID="STATUSWINDOW"> STATUSWINDOW </H3>
<DL>
<DT>Syntax:
<DD>STATUSWindow
</DL>
<DL>
<DT>Description:
<DD>This is the window where the current line and column are reported.&nbsp; The current line number is displayed in the first
line of the window, and the current column is displayed in the second line of the window.&nbsp; This window is disabled if
<A HREF="#statusinfo">statusinfo</A> is not set.
</DL>
<H2 ID="Sample_Window_Settings"> Sample Window Settings </H2>
<BR>The following examples are sample settings of the different types of windows.&nbsp; These commands may be issued from
the command line one at at time, or may be executed from a Open Watcom Vi Editor script.&nbsp; Typically, these commands will
be found in the Open Watcom Vi Editor<B> configuration script</B>.
<BR><BR><B>Commandwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; commandwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 2 %(SH)-7 %(SW)-3 %(SH)-5</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blud) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Countwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; countwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 28 %(SH)-5 43 %(SH)-3</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Dirwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; dirwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 15 2 %(SW)-12 %(SH)-7</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Editwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; editwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 0 1 %(SW)-1 %(SH)-2</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 %(white) %(black)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(yellow) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; whitespace %(white) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selection %(yellow) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eoftext %(white) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyword %(highwhite) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; octal %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; integer %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; preprocessor %(yellow) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; symbol %(white) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; invalidtext %(yellow) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identifier %(white) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jumplabel %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment %(lightcyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string %(cyan) %(black) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Extrainfowindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; extrainfowindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 0 1 %(SW)-1 %(SH)-3</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(purple) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Filecwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; filecwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 4 7 %(SW)-5 %(SH)-9</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Filewindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; filewindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 26 2 %(SW)-2 %(SH)-7</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Messagewindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; messagewindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 18 %(SH)-1 %(SW)-1 %(SH)-1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border -1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(yellow) %(blue) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Menuwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menuwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 0 1 %(SW)-1 %(SH)-3</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 14 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(highwhite) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(yellow) %(blue) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Menubarwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menubarwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 0 0 %(SW)-1 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border -1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(highwhite) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(yellow) %(blue) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Setvalwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; setvalwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 46 6 %(SW)-7 9</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Setwindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; setwindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 12 2 43 %(SH)-4</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border 1 7 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(highwhite) %(cyan) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<BR><BR><B>Statuswindow</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; statuswindow</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dimension 0 %(SH)-1 17 %(SH)-1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border -1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text %(white) %(blue) 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilight %(yellow) %(blue) 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwindow</TT>
<H2 ID="Menu_Commands"> Menu Commands </H2>
<BR>Vi menus are set dynamically.&nbsp; Any menu will automatically be added to the menu bar when created, and removed when
destroyed.&nbsp; There are some reserved menus:
<DL>
<DT>windowgadget
<DD>This menu is the one that appears when the upper left hand corner of an edit window is clicked.
<DT>float&lt;0-3&gt;
<DD>These are floating (popup) menus.&nbsp; They are made to appear when the script command <A HREF="#FLOATMENU">FLOATMENU</A>
is used.&nbsp; There are 4 floating menus,<B> float0</B> through<B> float3</B>.
</DL>
<BR>Menus will attempt to open up where they are told to; however, if the menu cannot fit, then it will try to open above
the position that it was told to, to the left of the position that it was told to, and above and to the left of the position
that it was told to.
<BR><BR>The following sections describe each of the command line commands for controlling menus.
<H3 ID="ADDMENUITEM"> ADDMENUITEM </H3>
<DL>
<DT>Syntax:
<DD>ADDMENUItem &lt;menuname&gt; &lt;itemname&gt; &lt;cmd&gt;
</DL>
<DL>
<DT>Description:
<DD>Adds a new item to a previously created menu<B> &lt;menuname&gt;</B>.&nbsp; The item<B> &lt;itemname&gt;</B> is added to the
menu.
<BR><BR>This command is similar to the command line command <A HREF="#MENUITEM">MENUITEM</A>, only the <A HREF="#MENUITEM">MENUITEM</A>
command is used when first defining a menu.
<BR><BR><B>&lt;menuname&gt;</B> may be a quoted string, if the parameter contains spaces.&nbsp; If<B> &lt;menuname&gt;</B>
is specified as &quot;&quot;, then a solid bar is displayed in the menu.
<BR><BR>A character in<B> &lt;itemname&gt;</B> preceded with an '&amp;' will be the hot key for activating the menu, e.g.
&nbsp;&amp;Control would have 'C' as the hot key.
<BR><BR>The command<B> &lt;cmd&gt;</B> may be any Open Watcom Vi Editor command line command, and is run whenever the item
is selected.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#MENUITEM">MENUITEM</A>
</DL>
<H3 ID="DELETEMENU"> DELETEMENU </H3>
<DL>
<DT>Syntax:
<DD>DELETEMENU &lt;menuname&gt;
</DL>
<DL>
<DT>Description:
<DD>Destroys menu with name<B> &lt;menuname&gt;</B>.
</DL>
<H3 ID="DELETEMENUITEM"> DELETEMENUITEM </H3>
<DL>
<DT>Syntax:
<DD>DELETEMENUItem &lt;menuname&gt; &lt;index&gt;
</DL>
<DL>
<DT>Description:
<DD>Deletes item number<B> &lt;index&gt;</B> from menu<B> &lt;menuname&gt;</B>.&nbsp; The item number<B> &lt;index&gt;</B> is
0 based.
<BR><BR>If<B> &lt;index&gt;</B> is specified as -1, then the last item is removed from the menu.
</DL>
<H3 ID="ENDMENU"> ENDMENU </H3>
<DL>
<DT>Syntax:
<DD>ENDMENU
</DL>
<DL>
<DT>Description:
<DD>Finishes the creation of a new menu.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#MENU">MENU</A>
</DL>
<H3 ID="MENU"> MENU </H3>
<DL>
<DT>Syntax:
<DD>MENU &lt;menuname&gt;
</DL>
<DL>
<DT>Description:
<DD>Starts the creation of a new menu<B> &lt;menuname&gt;</B>.&nbsp; If a menu exists with the name already, it is destroyed and
re-created.&nbsp; A character preceded with an ampersand ('&amp;') will be the hot key for activating the menu, e.g.&nbsp;
&amp;Control would have 'C' as the hot key.
<BR><BR><B>&lt;menuname&gt;</B> may be a reserved name:&nbsp; windowgadget, float0, float1, float2, or float3
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#ENDMENU">ENDMENU</A>, <A HREF="#MENUITEM">MENUITEM</A>
</DL>
<H3 ID="MENUITEM"> MENUITEM </H3>
<DL>
<DT>Syntax:
<DD>MENUITEM &lt;itemname&gt; &lt;cmd&gt;
</DL>
<DL>
<DT>Description:
<DD>Adds the item<B> &lt;itemname&gt;</B> to the last menu started with the <A HREF="#MENU">MENU</A> command.&nbsp; Menu items
may be added until the command line command <A HREF="#ENDMENU">ENDMENU</A> has been issued.
<BR><BR><B>&lt;itemname&gt;</B> may be a quoted string, if the parameter contains spaces.&nbsp; If<B> &lt;itemname&gt;</B>
is specified as &quot;&quot;, then a solid bar is displayed in the menu.
<BR><BR>A character in<B> &lt;itemname&gt;</B> preceded with an ampersand ('&amp;') will be the hot key for activating the
menu item, e.g.&nbsp; &amp;Exit would have 'E' as the hot key.
<BR><BR>The command<B> &lt;cmd&gt;</B> may be any Open Watcom Vi Editor command line command, and is run whenever the item
is selected.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#ADDMENUITEM">ADDMENUITEM</A>, <A HREF="#ENDMENU">ENDMENU</A>, <A HREF="#MENU">MENU</A>
</DL>
<H2 ID="Sample_Menus"> Sample Menus </H2>
<BR>The following examples are sample menu setups.&nbsp; These commands may be issued from the command line one at at time,
or may be contained in a<B> script</B> and executed in the script.&nbsp; Typically, these commands will be found in the Open
Watcom Vi Editor<B> configuration script</B>.
<BR><BR>This configures the menu that is popped up whenever the top left-hand corner of an edit window is clicked with the
mouse.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu windowgadget</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Maximize&quot; maximize</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;M&amp;inimize&quot; minimize</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Open another view&quot; open</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Save&quot; write</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Save &amp; close&quot; keyadd ZZ</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;Close &amp;no save&quot; quit!</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Close&quot; quit</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures one of the floating (popup) menus.&nbsp; This menu could be displayed whenever a word is selected
with the mouse.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu float0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Open&quot; edit %1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Change&quot; keyadd cr</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Delete&quot; keyadd dr</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Yank&quot; keyadd yr</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Fgrep&quot; fgrep &quot;%1&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Tag&quot; tag %1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures a menu bar menu item called File.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu &amp;File</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Open new file ...&quot; edit</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Next file&quot; next</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Read file ...&quot; read</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;File list ...&quot; file</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Save current file&quot; write</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;Save &amp;current file &amp; close&quot; wq</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;En&amp;ter command ...&quot; keyadd \&lt;CTRL_K&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;S&amp;ystem&quot; shell</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;E&amp;xit&quot; exitall</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures a menu bar menu item called Edit.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu &amp;Edit</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Delete region&quot; keyadd \&lt;SHIFT_DEL&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Copy (yank) region&quot; keyadd yr</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Paste (put)&quot; put</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Insert Text&quot; keyadd i</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Overstrike Text&quot; keyadd R</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Undo&quot; undo</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Redo&quot; undo!</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures a menu bar menu item called Position.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu &amp;Position</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Start of file&quot; 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;End of file&quot; $</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;Line &amp;number&quot; so lnum._vi</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;S&amp;tart of line&quot; keyadd 0</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;En&amp;d of line&quot; keyadd $</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&quot;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;Search &amp;forwards&quot; keyadd /</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;Search &amp;backwards&quot; keyadd ?</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Last search&quot; keyadd n</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Reverse last search&quot; keyadd N</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures a menu bar menu item called Window.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu &amp;Window</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Tile windows&quot; tile</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Cascade windows&quot; cascade</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Reset windows&quot; tile 1 1</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuwindowlist</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures a menu bar menu item called Options.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu &amp;Options</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Settings ...&quot; set</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<BR><BR>This configures a menu bar menu item called Help.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; menu &amp;Help</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Command Line&quot; help com</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Key Strokes&quot; help keys</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Regular Expressions&quot; help reg</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;&amp;Scripts&quot; help scr</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;S&amp;ettings&quot; help set</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menuitem &quot;Starting &amp;Up&quot; help start</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endmenu</TT>
<H1 ID="Editor_Settings"> Editor Settings </H1>
<BR>This chapter describes the various options that may be controlled using the Open Watcom Vi Editor's <A HREF="#SET">SET</A>
command.&nbsp; Options are typically set in the<B> configuration script</B> however, options are settable at execution time
as well.
<BR><BR>If you know the option you wish to set, you may just issue the <A HREF="#SET">SET</A> command directly at the command
prompt, e.g.:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set nocaseignore</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set autosaveinterval=10</TT>
<BR><BR>A boolean option is set in the following way:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set autoindent&nbsp;&nbsp; - turns on autoindent</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set noautoindent - turns off autoindent</TT>
<BR><BR>Short forms may also be used; for example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set ai&nbsp;&nbsp; - turns on autoindent</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set noai - turns off autoindent</TT>
<BR><BR>A non-boolean option may be set in the following way:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set filename=test.c&nbsp; - sets current filename to 'test.c'</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set filename test2.c - sets current filename to 'test2.c'</TT>
<BR><BR>Note that the assignment operator '=' is optional.
<BR><BR>If you do not know the boolean option you wish to set, you may issue the set command with no option at the command
prompt, e.g.:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set</TT>
<BR><BR>This will cause a menu of all possible settings to appear.&nbsp; These values may be changed by either cursoring to
the desired one and pressing enter, or by double clicking on the desired one with the mouse.&nbsp; Boolean settings will toggle
between TRUE and FALSE.&nbsp; Selecting any other setting will cause a window to pop up, displaying the old value and prompting
you for the new value.&nbsp; This window may be cancelled by pressing the ESC key.
<BR><BR><TT><IMG SRC="vi031.bmp" ALIGN=MIDDLE></TT>
<BR><B><I>Figure 39.</I></B><B><I></I></B><B> Vi Settings Selection list</B>
<BR><BR>When you are finished with the settings menus, you may close the window by pressing the<B> ESC</B> key.
<H2 ID="Boolean_Settings"> Boolean Settings </H2>
<BR>The section contains descriptions of the boolean settings.
<H3 ID="autoindent"> autoindent </H3>
<DL>
<DT>Syntax:
<DD>autoindent [ai]
</DL>
<DL>
<DT>Description:
<DD>In text insertion mode, autoindent causes the cursor to move to start of previous line when a new line is started.&nbsp; In
command mode, autoindent causes the cursor to go to the first non white-space when ENTER is pressed.
</DL>
<H3 ID="automessageclear"> automessageclear </H3>
<DL>
<DT>Syntax:
<DD>automessageclear [ac]
</DL>
<DL>
<DT>Description:
<DD>Automatically erases the message window when a key is typed in command mode.
</DL>
<H3 ID="beepflag"> beepflag </H3>
<DL>
<DT>Syntax:
<DD>beepflag [bf]
</DL>
<DL>
<DT>Description:
<DD>Vi normally beeps when an error is encountered.&nbsp; Setting nobeepflag disables the beeping.
</DL>
<H3 ID="caseignore"> caseignore </H3>
<DL>
<DT>Syntax:
<DD>caseignore [ci]
</DL>
<DL>
<DT>Description:
<DD>Causes all searches to be case insensitive if set.
</DL>
<H3 ID="changelikevi"> changelikevi </H3>
<DL>
<DT>Syntax:
<DD>changelikevi [cv]
</DL>
<DL>
<DT>Description:
<DD>If set, then the change command behaves like UNIX Vi, i.e.&nbsp; if ESC is pressed when no change has been made, the text
is deleted.&nbsp; Normally, pressing ESC cancels the change without deleting the text.
</DL>
<H3 ID="cmode"> cmode </H3>
<DL>
<DT>Syntax:
<DD>cmode [cm]
</DL>
<DL>
<DT>Description:
<DD>When cmode is set, certain things will happen when you are entering text:
<UL>
<LI>After entering a line ending in '{', the next line will be indented a <A HREF="#shiftwidth">shiftwidth</A> further than
the current one.
<LI>After entering a line ending in '}', the current line is shifted to match the indentation of the line with the matching
'{'.&nbsp; The cursor will flash for a brief instant on the matching '{' if <A HREF="#showmatch">showmatch</A> is set.
<LI>All lines entered will have trailing white space trimmed off.
<LI>&quot;case&quot; and &quot;default&quot; statements are shifted to be aligned with switch statements.
</UL>
<BR>Each file has its own cmode setting; so setting cmode in one file and not in another (during the same editing session)
will work.
<BR><BR>One thing that is useful is to add the following lines to your read<B> hook script</B>:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if %E == .c</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set cmode</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set nocmode</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif</TT>
<BR><BR>This will cause cmode to be set if the file has a .c extension, and not to be set for any other type of file.
</DL>
<H3 ID="columninfilestatus"> columninfilestatus </H3>
<DL>
<DT>Syntax:
<DD>columninfilestatus [cs]
</DL>
<DL>
<DT>Description:
<DD>Causes the current column to be added to file status display (obtained when typing CTRL_G).
</DL>
<H3 ID="currentstatus"> currentstatus </H3>
<DL>
<DT>Syntax:
<DD>currentstatus [ct]
</DL>
<DL>
<DT>Description:
<DD>Enables the display of the current status on the menu bar.&nbsp; The position on the menu bar is controlled with <A HREF="#currentstatuscolumn">currentstatuscolumn</A>.
</DL>
<H3 ID="drawtildes"> drawtildes </H3>
<DL>
<DT>Syntax:
<DD>drawtildes [dt]
</DL>
<DL>
<DT>Description:
<DD>If drawtildes is true, then the all lines displayed that do not have any data associated with them will have a tilde ('~')
displayed on the line.&nbsp; If drawtildes is false, then no tidles will be displayed and the string <A HREF="#fileendstring">fileendstring</A>
will be displayed after the last line with data.
</DL>
<H3 ID="eightbits"> eightbits </H3>
<DL>
<DT>Syntax:
<DD>eightbits [eb]
</DL>
<DL>
<DT>Description:
<DD>If eightbits is set, then all characters are displayed as normal.&nbsp; If noeightbits is set then non-printable ASCII will
be displayed as control characters.
</DL>
<H3 ID="escapemessage"> escapemessage </H3>
<DL>
<DT>Syntax:
<DD>escapemessage [em]
</DL>
<DL>
<DT>Description:
<DD>Display the current file status whenever the<B> ESC</B> key is pressed in command mode.
</DL>
<H3 ID="extendedmemory"> extendedmemory </H3>
<DL>
<DT>Syntax:
<DD>extendedmemory [xm]
</DL>
<DL>
<DT>Description:
<DD>If extendedmemory is set, extended memory is used if it is present (standard extended, EMS, XMS).&nbsp; This option applies
to the real-mode DOS version of Vi only.
</DL>
<H3 ID="ignorectrlz"> ignorectrlz </H3>
<DL>
<DT>Syntax:
<DD>ignorectrlz [iz]
</DL>
<DL>
<DT>Description:
<DD>Normally, a CTRL_Z in a file acts as an end-of-file indicator.&nbsp; Setting ignorectrlz causes Vi to treat CTRL_Z as just
another character in the file.&nbsp; This option may also be selected using the '-z' option when invoking Vi.
</DL>
<H3 ID="ignoretagcase"> ignoretagcase </H3>
<DL>
<DT>Syntax:
<DD>ignoretagcase [it]
</DL>
<DL>
<DT>Description:
<DD>When using the &quot;-t&quot; command line option of Vi, the tag that is matched is normally case sensitive.&nbsp; Setting
ignoretagcase causes the tag matching to be case insensitive.
</DL>
<H3 ID="magic"> magic </H3>
<DL>
<DT>Syntax:
<DD>magic [ma]
</DL>
<DL>
<DT>Description:
<DD>If magic is set, then all special characters in a regular expression are treated as &quot;magic&quot;, and must be escaped
to be used in an ordinary fashion.&nbsp; If nomagic is set, then any special characters in <A HREF="#magicstring">magicstring</A>
are NOT treated as magic characters by the regular expression handler, and must be escaped to have special meaning.
<BR><BR>Magic characters are:<TT>&nbsp; ^$.[()|?+*\@</TT>
</DL>
<H3 ID="pauseonspawnerr"> pauseonspawnerr </H3>
<DL>
<DT>Syntax:
<DD>pauseonspawnerr [ps]
</DL>
<DL>
<DT>Description:
<DD>This option, if set, causes Vi to pause after spawning (running a system command) if there was an error, even if the system
command was spawned from a script.&nbsp; Normally, a command spawned from a script does not pause when control returns to
the editor.
</DL>
<H3 ID="quiet"> quiet </H3>
<DL>
<DT>Syntax:
<DD>quiet [qu]
</DL>
<DL>
<DT>Description:
<DD>When running in quiet mode, Vi does not update the screen.&nbsp; This is useful when running a complex script, so that the
activity of the editor is hidden.&nbsp; This option may be selected when invoking Vi by using the '-q' switch, causing Vi
to run in a 'batch mode'.
</DL>
<H3 ID="quitmovesforward"> quitmovesforward </H3>
<DL>
<DT>Syntax:
<DD>quitmovesforward [qf]
</DL>
<DL>
<DT>Description:
<DD>If this option is set, then when a file is quit, the next file in the list of files is moved to.&nbsp; Otherwise, the previous
file in the list of files is moved to.
</DL>
<H3 ID="readentirefile"> readentirefile </H3>
<DL>
<DT>Syntax:
<DD>readentirefile [rf]
</DL>
<DL>
<DT>Description:
<DD>If readentirefile is set, then the entire file is read into memory when it is edited.&nbsp; This is the default setting.&nbsp;
However, if noreadentirefile is set, then the file is only read into memory as it is needed.&nbsp; This option is useful when
you only want to look at the first few pages of a large file.&nbsp; This option may be selected when invoking Vi by using
the '-n' switch.
</DL>
<H3 ID="readonlycheck"> readonlycheck </H3>
<DL>
<DT>Syntax:
<DD>readonlycheck [rc]
</DL>
<DL>
<DT>Description:
<DD>This option causes Vi to complain about modifications to read-only files every time the file is modified.
</DL>
<H3 ID="realtabs"> realtabs </H3>
<DL>
<DT>Syntax:
<DD>realtabs [rt]
</DL>
<DL>
<DT>Description:
<DD>If norealtabs is set, then tabs are expanded to spaces when the file is read.
</DL>
<H3 ID="regsubmagic"> regsubmagic </H3>
<DL>
<DT>Syntax:
<DD>regsubmagic [rm]
</DL>
<DL>
<DT>Description:
<DD>If noregsubmagic is set, then escaped characters have no meaning in regular expression substitution expressions.
</DL>
<H3 ID="samefilecheck"> samefilecheck </H3>
<DL>
<DT>Syntax:
<DD>samefilecheck [sc]
</DL>
<DL>
<DT>Description:
<DD>Normally, Vi just warns you if you edit a file twice (with a different path).&nbsp; If samefilecheck is set, then if you edit
a file that is the same as a file already being edited (only you specified a different path), then that file will be brought
up, rather than a new copy being read in.
</DL>
<H3 ID="saveconfig"> saveconfig </H3>
<DL>
<DT>Syntax:
<DD>saveconfig [sn]
</DL>
<DL>
<DT>Description:
<DD>If this option is set, then the editor's configuration (fonts, colors, settings, etc) is saved when the editor is exited.
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H3 ID="saveposition"> saveposition </H3>
<DL>
<DT>Syntax:
<DD>saveposition [so]
</DL>
<DL>
<DT>Description:
<DD>If this option is set, then the editor's position and size is saved when the editor is exited, and restored the next time
the editor is started.
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H3 ID="searchwrap"> searchwrap </H3>
<DL>
<DT>Syntax:
<DD>searchwrap [sw]
</DL>
<DL>
<DT>Description:
<DD>When searching a file, Vi normally wraps around the top or bottom of the file.&nbsp; If nosearchwrap is set, then Vi terminates
its searches once it reaches the top or bottom of the file.
</DL>
<H3 ID="showmatch"> showmatch </H3>
<DL>
<DT>Syntax:
<DD>showmatch [sm]
</DL>
<DL>
<DT>Description:
<DD>If showmatch is set, the Vi briefly moves the cursor to a matching '(' whenever a ')' is typed while entering text.&nbsp;
Also, the matching '{' is shown if a '}' is typed if <A HREF="#cmode">cmode</A> is set.
</DL>
<H3 ID="tagprompt"> tagprompt </H3>
<DL>
<DT>Syntax:
<DD>tagprompt [tp]
</DL>
<DL>
<DT>Description:
<DD>If a more than one instance of a tag is found in the tags file, a list of choices is displayed if tagprompt is set.
</DL>
<H3 ID="undo"> undo </H3>
<DL>
<DT>Syntax:
<DD>undo [un]
</DL>
<DL>
<DT>Description:
<DD>Setting noundo disables Vi's undo ability.
</DL>
<H3 ID="verbose"> verbose </H3>
<DL>
<DT>Syntax:
<DD>verbose [ve]
</DL>
<DL>
<DT>Description:
<DD>If enabled, this option causes Vi to display extra messages while doing involved processing.
</DL>
<H3 ID="wordwrap"> wordwrap </H3>
<DL>
<DT>Syntax:
<DD>wordwrap [ww]
</DL>
<DL>
<DT>Description:
<DD>If enabled, word movement commands ('w','W','b','B') will wrap to the next or previous line.
</DL>
<H3 ID="wrapbackspace"> wrapbackspace </H3>
<DL>
<DT>Syntax:
<DD>wrapbackspace [ws]
</DL>
<DL>
<DT>Description:
<DD>If this option is set, pressing backspace while on column one of a line will cause Vi to wrap to the end of the previous line
(while in<B> text insertion mode</B>).
</DL>
<H3 ID="writecrlf"> writecrlf </H3>
<DL>
<DT>Syntax:
<DD>writecrlf [wl]
</DL>
<DL>
<DT>Description:
<DD>Normally, lines are written with carriage return and line feeds at the end of each line.&nbsp; If nowritecrlf is set, the
lines are written with only a line feed at the end.
</DL>
<H3 ID="Mouse_Control_Booleans"> Mouse Control Booleans </H3>
<BR>The section contains descriptions of the boolean settings affecting the mouse.
<H4 ID="lefthandmouse"> lefthandmouse </H4>
<DL>
<DT>Syntax:
<DD>lefthandmouse [lm]
</DL>
<DL>
<DT>Description:
<DD>When lefthandmouse is set, the right and left mouse buttons are inverted.
</DL>
<H4 ID="usemouse"> usemouse </H4>
<DL>
<DT>Syntax:
<DD>usemouse [um]
</DL>
<DL>
<DT>Description:
<DD>This option enables/disables the use of the mouse in Vi.
</DL>
<H3 ID="Window_Control_Booleans"> Window Control Booleans </H3>
<BR>The section contains descriptions of the boolean settings affecting windows.
<H4 ID="clock"> clock </H4>
<DL>
<DT>Syntax:
<DD>clock [cl]
</DL>
<DL>
<DT>Description:
<DD>This enables/disables the clock display.&nbsp; The position of the clock is controlled by the <A HREF="#clockx">clockx</A>
and <A HREF="#clocky">clocky</A> set commands.
</DL>
<H4 ID="linenumbers"> linenumbers </H4>
<DL>
<DT>Syntax:
<DD>linenumbers [ln]
</DL>
<DL>
<DT>Description:
<DD>This option turns on the line number window.&nbsp; This window is displayed on the left-hand side of the edit window by default,
unless <A HREF="#linenumsonright">linenumsonright</A> is set.
</DL>
<H4 ID="linenumsonright"> linenumsonright </H4>
<DL>
<DT>Syntax:
<DD>linenumsonright [lr]
</DL>
<DL>
<DT>Description:
<DD>Setting linenumsonright causes the line number window to appear on the right-hand side of the edit window.
</DL>
<H4 ID="marklonglines"> marklonglines </H4>
<DL>
<DT>Syntax:
<DD>marklonglines [ml]
</DL>
<DL>
<DT>Description:
<DD>If this option is set, then any line that exceeds the with of the screen has the last character highlighted.&nbsp; If <A HREF="#endoflinechar">endoflinechar</A>
is a non-zero ASCII value, then the last character is displayed as that ASCII value.
</DL>
<H4 ID="menus"> menus </H4>
<DL>
<DT>Syntax:
<DD>menus [me]
</DL>
<DL>
<DT>Description:
<DD>This option enables/disables the menu bar.
</DL>
<H4 ID="repeatinfo"> repeatinfo </H4>
<DL>
<DT>Syntax:
<DD>repeatinfo [ri]
</DL>
<DL>
<DT>Description:
<DD>Normally, Vi echos the repeat count in the <A HREF="#COUNTWINDOW">COUNTWINDOW</A> as it is typed.&nbsp; Setting norepeatinfo
disables this feature.
</DL>
<H4 ID="spinning"> spinning </H4>
<DL>
<DT>Syntax:
<DD>spinning [sp]
</DL>
<DL>
<DT>Description:
<DD>If set, this option enables the busy-spinner.&nbsp; Whenever the editor is busy, a spinner will appear.&nbsp; The position
of the spinner is controlled using the <A HREF="#spinx">spinx</A> and the <A HREF="#spiny">spiny</A> set commands.
</DL>
<H4 ID="statusinfo"> statusinfo </H4>
<DL>
<DT>Syntax:
<DD>statusinfo [si]
</DL>
<DL>
<DT>Description:
<DD>If set, this option enables the status info window.&nbsp; This window contains the current line and column, and is controlled
using the <A HREF="#STATUSWINDOW">STATUSWINDOW</A> window command.
</DL>
<H4 ID="toolbar"> toolbar </H4>
<DL>
<DT>Syntax:
<DD>toolbar [tb]
</DL>
<DL>
<DT>Description:
<DD>This option enables/disables the toolbar.
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H4 ID="windowgadgets"> windowgadgets </H4>
<DL>
<DT>Syntax:
<DD>windowgadgets [wg]
</DL>
<DL>
<DT>Description:
<DD>This option enables/disables gadgets on edit session windows.
</DL>
<H2 ID="NonMBoolean_Settings"> Non-Boolean Settings </H2>
<BR>The section contains descriptions of the non-boolean settings.
<H3 ID="autosaveinterval"> autosaveinterval </H3>
<DL>
<DT>Syntax:
<DD>autosaveinterval &lt;seconds&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the number of seconds between autosaves of the current file to the backup directory.&nbsp; Autosave is disabled if &lt;seconds&gt;
is 0.&nbsp; The backup directory is defined using the <A HREF="#tmpdir">tmpdir</A> parameter.
</DL>
<H3 ID="commandcursortype"> commandcursortype </H3>
<DL>
<DT>Syntax:
<DD>commandcursortype &lt;size&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the size of the cursor when in command mode.&nbsp; Values for &lt;size&gt; are 0 to 100 (0=full size, 100=thin).
</DL>
<H3 ID="endoflinechar"> endoflinechar </H3>
<DL>
<DT>Syntax:
<DD>endoflinechar &lt;ascii_val&gt;
</DL>
<DL>
<DT>Description:
<DD>If <A HREF="#marklonglines">marklonglines</A> is set, and &lt;ascii_val&gt; is non-zero, then the character in the last column
of a line wider than the screen is displayed as the ASCII value &lt;ascii_val&gt;.
</DL>
<H3 ID="exitattr"> exitattr </H3>
<DL>
<DT>Syntax:
<DD>exitattr &lt;attr&gt;
</DL>
<DL>
<DT>Description:
<DD>Defines the attribute to be assigned to the screen when Vi is exited.&nbsp; The attribute is composed of a foreground and
a background color, (16 * background + foreground gives &lt;attr&gt;).&nbsp; The default is 7 (white text, black background).
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H3 ID="fileendstring"> fileendstring </H3>
<DL>
<DT>Syntax:
<DD>fileendstring &lt;string&gt;
</DL>
<DL>
<DT>Description:
<DD>If <A HREF="#drawtildes">drawtildes</A> is false, then the character string &lt;string&gt; will be displayed after the last
line with data.
</DL>
<H3 ID="grepdefault"> grepdefault </H3>
<DL>
<DT>Syntax:
<DD>grepdefault &lt;rexexp&gt;
</DL>
<DL>
<DT>Description:
<DD>Default files to search when using the <A HREF="#FGREP">FGREP</A> or <A HREF="#EGREP">EGREP</A> commands.&nbsp; &lt;rexexp&gt;
is a file matching regular expression, the default is *.(c|h) For more information, see the section <A HREF="#File_Matching_Regular_Expressions">File Matching Regular Expressions</A>.
</DL>
<H3 ID="hardtab"> hardtab </H3>
<DL>
<DT>Syntax:
<DD>hardtab &lt;dist&gt;
</DL>
<DL>
<DT>Description:
<DD>This controls the distance between tabs when a file is displayed.&nbsp; The default is 8 (4 on QNX).
</DL>
<H3 ID="historyfile"> historyfile </H3>
<DL>
<DT>Syntax:
<DD>historyfile &lt;fname&gt;
</DL>
<DL>
<DT>Description:
<DD>If the history file is defined, your command and search history is saved across editing sessions in the file &lt;fname&gt;.
</DL>
<H3 ID="insertcursortype"> insertcursortype </H3>
<DL>
<DT>Syntax:
<DD>insertcursortype &lt;size&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the size of the cursor when inserting text in text insertion mode.&nbsp; Values for &lt;size&gt; are 0 to 100 (0=full
size, 100=thin).
</DL>
<H3 ID="magicstring"> magicstring </H3>
<DL>
<DT>Syntax:
<DD>magicstring &lt;str&gt;
</DL>
<DL>
<DT>Description:
<DD>If <A HREF="#magic">magic</A> is not set, then the characters specified in &lt;str&gt; are NOT treated as magic characters
by the regular expression handler, and must be escaped to have special meaning.
<BR><BR>Magic characters are:<TT>&nbsp; ^$.[()|?+*\@</TT>
</DL>
<H3 ID="maxclhistory"> maxclhistory </H3>
<DL>
<DT>Syntax:
<DD>maxclhistory &lt;numcmds&gt;
</DL>
<DL>
<DT>Description:
<DD>Vi keeps a history of commands entered at the command line.&nbsp; &lt;numcmds&gt; sets the number of commands kept in the
history.
</DL>
<H3 ID="maxemsk"> maxemsk </H3>
<DL>
<DT>Syntax:
<DD>maxemsk &lt;kbytes&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the maximum number of kilobytes of EMS memory to be used by Vi (DOS real-mode version only).
<BR><BR>This option can only be set during editor initialization.
</DL>
<H3 ID="maxfilterhistory"> maxfilterhistory </H3>
<DL>
<DT>Syntax:
<DD>maxfilterhistory &lt;numfiltercmds&gt;
</DL>
<DL>
<DT>Description:
<DD>Vi keeps a history of the filter commands entered.&nbsp; &lt;numfiltercmds&gt; sets the number of filter commands kept in
the history.
</DL>
<H3 ID="maxfindhistory"> maxfindhistory </H3>
<DL>
<DT>Syntax:
<DD>maxfindhistory &lt;numsearchcmds&gt;
</DL>
<DL>
<DT>Description:
<DD>Vi keeps a history of search commands entered.&nbsp; &lt;numsearchcmds&gt; sets the number of search commands kept in the
history.
</DL>
<H3 ID="maxlinelen"> maxlinelen </H3>
<DL>
<DT>Syntax:
<DD>maxlinelen &lt;maxlne&gt;
</DL>
<DL>
<DT>Description:
<DD>This parameter controls the maximum line length allowed by Vi.&nbsp; The default value is 512 bytes.&nbsp; Any lines longer
than &lt;maxlne&gt; are broken up into multiple lines.
</DL>
<H3 ID="maxpush"> maxpush </H3>
<DL>
<DT>Syntax:
<DD>maxpush &lt;num&gt;
</DL>
<DL>
<DT>Description:
<DD>Controls the number of pushed file positions that will be remembered.&nbsp; Once more than &lt;num&gt; <A HREF="#PUSH">PUSH</A>
or <A HREF="#TAG">TAG</A> commands have been issued, the first pushed positions are lost.
</DL>
<H3 ID="maxswapk"> maxswapk </H3>
<DL>
<DT>Syntax:
<DD>maxswapk &lt;n&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the maximum number of kilobytes of disk space to be used for temporary storage by Vi.
<BR><BR>This option can only be set during editor initialization.
</DL>
<H3 ID="maxxmsk"> maxxmsk </H3>
<DL>
<DT>Syntax:
<DD>maxxmsk &lt;kbytes&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the maximum number of kilobytes of XMS memory to be used by Vi (DOS real-mode version only).
<BR><BR>This option can only be set during editor initialization.
</DL>
<H3 ID="pagelinesexposed"> pagelinesexposed </H3>
<DL>
<DT>Syntax:
<DD>pagelinesexposed &lt;lines&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the number of lines of context left exposed when a page up/down is done.&nbsp; For example, if &lt;lines&gt; is set to
1, then when a page down key is pressed, the bottom line of the file will be visible at the top of the new page.
</DL>
<H3 ID="overstrikecursortype"> overstrikecursortype </H3>
<DL>
<DT>Syntax:
<DD>overstrikecursortype &lt;size&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the size of the cursor when in overstriking text in<B> text insertion mode</B>.&nbsp; Values for &lt;size&gt; are 0 to
100 (0=full size, 100=thin).
</DL>
<H3 ID="radix"> radix </H3>
<DL>
<DT>Syntax:
<DD>radix &lt;rdx&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the radix (base) of the results of using the command line command <A HREF="#EVAL">EVAL</A>.&nbsp; The default is base
10.
</DL>
<H3 ID="shiftwidth"> shiftwidth </H3>
<DL>
<DT>Syntax:
<DD>shiftwidth &lt;nsp&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the number of spaces inserted/deleted by the shift operators ('&gt;' and '&lt;'), CTRL_D and CTRL_T in text insertion
mode, and by <A HREF="#autoindent">autoindent</A> and <A HREF="#cmode">cmode</A> when they are indenting.
</DL>
<H3 ID="stackk"> stackk </H3>
<DL>
<DT>Syntax:
<DD>stackk &lt;kbytes&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the size (in kilobytes) of the stack used by Vi.&nbsp; The minimum is 10.&nbsp; This can be set higher if you plan on
using nested scripts that go deeper than 4 or 5 levels.
<BR><BR>This option can only be set during editor initialization.
</DL>
<H3 ID="statussections"> statussections </H3>
<DL>
<DT>Syntax:
<DD>statussections &lt;sects&gt;
</DL>
<DL>
<DT>Description:
<DD>The controls the appearance of the bars in the status window.&nbsp; A list of distances (in pixels) is given.&nbsp; This distance
is measured from the start of the status window.&nbsp; Each section may have something put in it via the <A HREF="#statusstring">statusstring</A>
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H3 ID="statusstring"> statusstring </H3>
<DL>
<DT>Syntax:
<DD>statusstring &lt;str&gt;
</DL>
<DL>
<DT>Description:
<DD>This controls what is displayed in the status window.&nbsp; Any characters may be in this string.&nbsp; Additionally, the
dollar sign ('$') is a special character.&nbsp; It is used in combination with other characters to represent special values:
<UL>
<LI>$&lt;n&gt;C current column number.&nbsp; If &lt;n&gt; is specified (a number), then the column number will be padded with
spaces so that the it occupies &lt;n&gt; characters.
<LI>$D current date
<LI>$H current hint text from menus or toolbar (GUI editors only)
<LI>$&lt;n&gt;L current line number.&nbsp; If &lt;n&gt; is specified (a number), then the line number will be padded with
spaces so that the it occupies &lt;n&gt; characters.
<LI>$M current mode the editor is in
<LI>$T current time
<LI>$n skip to next line in status window (character mode editors only)
<LI>$$ replaced with a '$'
<LI>$c replaced with a comma ','
<LI>$[ skip to next block in the status window (GUI editors only)
<LI>$| text will be centered (within current block for GUI editors)
<LI>$&gt; text will be right-justified (within current block for GUI editors)
<LI>$&lt; text will be left-justified (within current block for GUI editors)
</UL>
<BR>A number may precede the L or the C, to indicate the amount of space that the string should occupy; for example, $6L will
cause the line number to always occupy at least 6 spaces.
<BR><BR>The string may be surrounded by quotes if spaces are being used.&nbsp; The default status string setting for character
mode editors is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set statusstring=&quot;L:$6L$nC:$6C&quot;</TT>
<BR><BR>For GUI editors, the default status string setting is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set statusstring = &quot;Ln:$5L$[Col:$3C$[Mode: $M$[$|$T$[$H&quot;</TT>
</DL>
<H3 ID="shellprompt"> shellprompt </H3>
<DL>
<DT>Syntax:
<DD>shellprompt &lt;string&gt;
</DL>
<DL>
<DT>Description:
<DD>This setting controls what the prompt at the command line will be after using the <A HREF="#SHELL">SHELL</A> command.
</DL>
<H3 ID="tabamount"> tabamount </H3>
<DL>
<DT>Syntax:
<DD>tabamount &lt;nsp&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the number of spaces inserted when the tab key is pressed in a text insertion mode.&nbsp; If <A HREF="#realtabs">realtabs</A>
is set, these spaces will be changed into tabs, based on the setting of <A HREF="#hardtab">hardtab</A>.
</DL>
<H3 ID="tagfilename"> tagfilename </H3>
<DL>
<DT>Syntax:
<DD>tagfilename &lt;fname&gt;
</DL>
<DL>
<DT>Description:
<DD>This defines the file name that Vi is to use to locate tags in.&nbsp; The default is the name<B> tags</B>.
</DL>
<H3 ID="tmpdir"> tmpdir </H3>
<DL>
<DT>Syntax:
<DD>tmpdir &lt;dir&gt;
</DL>
<DL>
<DT>Description:
<DD>This is used to specify the directory where all temporary editor files are to be created.
<BR><BR>This option can only be set during editor initialization.
</DL>
<H3 ID="word"> word </H3>
<DL>
<DT>Syntax:
<DD>word &lt;str&gt;
</DL>
<DL>
<DT>Description:
<DD>This defines the word used by Vi.&nbsp; &lt;str&gt; is a group of character pairs.&nbsp; Each pair defines a range; e.g.&nbsp;
09az defines the characters 0 through 9 and a thorough z.&nbsp; Any character in the ranges defined by &lt;str&gt; is considered
part of a word.
<BR><BR>The default for word is &quot;__09AZaz&quot;.
<BR><BR>The word will be delimited by white space (spaces or tabs) and all characters not in the ranges defined by &lt;str&gt;.
</DL>
<H3 ID="wrapmargin"> wrapmargin </H3>
<DL>
<DT>Syntax:
<DD>wrapmargin &lt;margin&gt;
</DL>
<DL>
<DT>Description:
<DD>If wrapmargin is set to a non-zero value, then word wrapping is enabled.&nbsp; As text is entered, the position of the cursor
is monitored.&nbsp; Once the cursor gets within &lt;margin&gt; characters of the right margin, the current word is moved to
a new line.
</DL>
<H3 ID="Mouse_Control_Values"> Mouse Control Values </H3>
<BR>The section contains descriptions of the non-boolean settings affecting the mouse.
<H4 ID="mousedclickspeed"> mousedclickspeed </H4>
<DL>
<DT>Syntax:
<DD>mousedclickspeed &lt;ticks&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the number of ticks between the first mouse button depress and the second mouse button depress for the action to count
as a double-click.&nbsp; A tick is approximately 1/18 of a second.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="mouserepeatdelay"> mouserepeatdelay </H4>
<DL>
<DT>Syntax:
<DD>mouserepeatdelay &lt;ticks&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the number of ticks between when a mouse button is depressed and when the button starts to &quot;repeat&quot;.&nbsp;
A tick is approximately 1/18 of a second.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="mousespeed"> mousespeed </H4>
<DL>
<DT>Syntax:
<DD>mousespeed &lt;speed&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the speed of the mouse.&nbsp; &lt;speed&gt; may be in the range 0-31 (0 is the fastest, 31 is the slowest).
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="wordalt"> wordalt </H4>
<DL>
<DT>Syntax:
<DD>wordalt &lt;str&gt;
</DL>
<DL>
<DT>Description:
<DD>This defines the alternate word used when double clicking the mouse.&nbsp; &lt;str&gt; is defined in the same fashion as for
the <A HREF="#word">word</A> setting.
<BR><BR>The default for wordalt is &quot;::..\\__09AZaz&quot;.
</DL>
<H3 ID="Window_Control_Values"> Window Control Values </H3>
<BR>The section contains descriptions of the non-boolean settings affecting windows.
<H4 ID="buttonheight"> buttonheight </H4>
<DL>
<DT>Syntax:
<DD>buttonheight &lt;height&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the height (in pixels) of the tools on the toolbar.
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H4 ID="buttonwidth"> buttonwidth </H4>
<DL>
<DT>Syntax:
<DD>buttonwidth &lt;width&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the width (in pixels) of the tools on the toolbar.
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H4 ID="clockx"> clockx </H4>
<DL>
<DT>Syntax:
<DD>clockx &lt;x&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the x-coordinate of where the clock is to be displayed, if <A HREF="#clock">clock</A> is enabled.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="clocky"> clocky </H4>
<DL>
<DT>Syntax:
<DD>clocky &lt;y&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the y-coordinate of where the clock is to be displayed, if <A HREF="#clock">clock</A> is enabled.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="currentstatuscolumn"> currentstatuscolumn </H4>
<DL>
<DT>Syntax:
<DD>currentstatuscolumn &lt;col&gt;
</DL>
<DL>
<DT>Description:
<DD>Controls which column current status information is displayed in on the the menu bar, if <A HREF="#currentstatus">currentstatus</A>
is enabled.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="cursorblinkrate"> cursorblinkrate </H4>
<DL>
<DT>Syntax:
<DD>cursorblinkrate &lt;ticks&gt;
</DL>
<DL>
<DT>Description:
<DD>Controls the speed at which the cursor blinks at.
<BR><BR>This option is only valid with the GUI versions of the editor.
</DL>
<H4 ID="gadgetstring"> gadgetstring </H4>
<DL>
<DT>Syntax:
<DD>gadgetstring &lt;str&gt;
</DL>
<DL>
<DT>Description:
<DD>This string controls the characters that are used to draw the gadgets on the border.&nbsp; The characters in the string are
used as follows:
<OL>
<LI>top left corner of edit window
<LI>top right corner of edit window
<LI>bottom left corner of edit window
<LI>bottom right corner of edit window
<LI>left side of edit window
<LI>top and bottom of edit window
<LI>left side of file name on top of border of edit window
<LI>right side of file name on top of border of edit window
<LI>cursor up gadget on scroll bar
<LI>cursor down gadget on scroll bar
<LI>right side of edit window (scroll bar area)
<LI>scroll thumb
</OL>
<BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="inactivewindowcolor"> inactivewindowcolor </H4>
<DL>
<DT>Syntax:
<DD>inactivewindowcolor &lt;clr&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the foreground color of an edit window border when it is inactive (not the current edit window).&nbsp; &lt;clr&gt; may
be 0-15, or one of the previously defined color keywords.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="maxtilecolors"> maxtilecolors </H4>
<DL>
<DT>Syntax:
<DD>maxtilecolors &lt;n&gt;
</DL>
<DL>
<DT>Description:
<DD>Controls the number of tile colors for tiled windows (when using the <A HREF="#TILE">TILE</A> command).
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="maxwindowtilex"> maxwindowtilex </H4>
<DL>
<DT>Syntax:
<DD>maxwindowtilex &lt;x&gt;
</DL>
<DL>
<DT>Description:
<DD>Defines the maximum number of windows that may be tiled together in the x direction when using the <A HREF="#TILE">TILE</A>
command.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="maxwindowtiley"> maxwindowtiley </H4>
<DL>
<DT>Syntax:
<DD>maxwindowtiley &lt;y&gt;
</DL>
<DL>
<DT>Description:
<DD>Defines the maximum number of windows that may be tiled together in the y direction when using the <A HREF="#TILE">TILE</A>
command.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="movecolor"> movecolor </H4>
<DL>
<DT>Syntax:
<DD>movecolor &lt;attr&gt;
</DL>
<DL>
<DT>Description:
<DD>Controls the color attributes of an edit window border when the window is being moved (either by using the mouse or by using
the <A HREF="#MOVEWIN">MOVEWIN</A> command).&nbsp; The attribute is composed of a foreground and a background color, (16 *
background + foreground gives &lt;attr&gt;).
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="resizecolor"> resizecolor </H4>
<DL>
<DT>Syntax:
<DD>resizecolor &lt;attr&gt;
</DL>
<DL>
<DT>Description:
<DD>Controls the color attributes of an edit window border when the window is being resized (either by using the mouse or by using
the <A HREF="#RESIZE">RESIZE</A> command).&nbsp; The attribute is composed of a foreground and a background color, (16 * background
+ foreground gives &lt;attr&gt;).
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="spinx"> spinx </H4>
<DL>
<DT>Syntax:
<DD>spinx &lt;x&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the x-coordinate of where the busy spinner is displayed, if <A HREF="#spinning">spinning</A> is enabled.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="spiny"> spiny </H4>
<DL>
<DT>Syntax:
<DD>spiny &lt;y&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets the y-coordinate of where the busy spinner is displayed, if <A HREF="#spinning">spinning</A> is enabled.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H4 ID="tilecolor"> tilecolor </H4>
<DL>
<DT>Syntax:
<DD>tilecolor &lt;n fg bg&gt;
</DL>
<DL>
<DT>Description:
<DD>Sets tile area<B> &lt;n&gt;</B> to have the foreground color<B> &lt;fg&gt;</B> and the background color<B> &lt;bg&gt;</B>.
<BR><BR>The tile area<B> &lt;n&gt;</B> must be in the range 1 to <A HREF="#maxtilecolors">maxtilecolors</A>.
<BR><BR>The colors may be in the range 0-15, or one of the previously defined color keywords.
<BR><BR>This option is only valid with the character mode versions of the editor.
</DL>
<H1 ID="Regular_Expressions"> Regular Expressions </H1>
<BR>Regular expressions are a powerful method of matching strings in your text.&nbsp; Commands that use regular expressions
are:
<UL>
<LI>forward slash ('/') command mode key (search forwards)
<LI>question mark ('?') command mode key (search backwards)
<LI>forward slash ('/') command line address (search forwards)
<LI>question mark ('?') command line address (search backwards)
<LI>substitute command line command
<LI>global command line command
<LI>egrep command line command
<LI>match command line command
</UL>
<BR>Different characters in a regular expression match different things.&nbsp; A list of all special (or &quot;magical&quot;)
characters is:
<UL>
<LI>A backslash ('\') followed by a single character other than new line matches that character.
<LI>The caret ('^') matches the beginning of a line.
<LI>The dollar sign ('$') matches the end of a line.
<LI>The dot ('.') matches any character.
<LI>A single character that does not have any other special meaning matches that character.
<LI>A string enclosed in brackets [] matches any single character from the string.&nbsp; Ranges of ASCII character codes may
be abbreviated as in &quot;a-z0-9&quot;.&nbsp; A ']' may occur only as the first character of the string.&nbsp; A literal
'-' must be placed where it cannot be mistaken as a range indicator.&nbsp; If a caret ('^') occurs as the first character
inside the brackets, then any characters NOT in the string are matched.
<LI>A regular expression followed by an asterisk ('*') matches a sequence of 0 or more matches of the regular expression.
<LI>A regular expression followed by a plus sign ('+') matches one or more matches of the regular expression.
<LI>A regular expression followed by a question mark ('?') matches zero or one matches of the regular expression.
<LI>Two regular expressions concatenated match a match of the first followed by a match of the second.
<LI>Two regular expressions separated by an or bar ('|') match either a match for the first or a match for the second.
<LI>A regular expression enclosed in parentheses matches a match for the regular expression.
<LI>The order of precedence of operators at the same parenthesis level is the following:<B>&nbsp; []</B>, then<B> *+?</B>,
then concatenation, then<B> |</B>.
<LI>All regular expressions following an at sign ('@') are to be treated as case sensitive, regardless of the setting of <A HREF="#caseignore">caseignore</A>.
<LI>All regular expressions following a tilde ('~') are to be treated as case insensitive, regardless of the setting of <A HREF="#caseignore">caseignore</A>.
<LI>If an exclamation point ('!') occurs as the first character in a regular expression, it causes the ignoring of the <A HREF="#magic">magic</A>
setting; that is, all magic characters are treated as magical.&nbsp; An exclamation point ('!') is treated as a regular character
if it occurs anywhere but at the very start of the regular expression.
</UL>
<BR>If a regular expression could match two different parts of the line, it will match the one which begins earliest.&nbsp;
If both begin in the same place but match different lengths, or match the same length in different ways, then the rules are
more complicated.
<BR><BR>In general, the possibilities in a list of branches are considered in left-to-right order, the possibilities for `*',
`+', and `?' are considered longest-first, nested constructs are considered from the outermost in, and concatenated constructs
are considered leftmost-first.&nbsp; The match that will be chosen is the one that uses the earliest possibility in the first
choice that has to be made.&nbsp; If there is more than one choice, the next will be made in the same manner (earliest possibility)
subject to the decision on the first choice.&nbsp; And so forth.
<BR><BR>For example, `(ab|a)b*c' could match `abc' in one of two ways.&nbsp; The first choice is between `ab' and `a'; since
`ab' is earlier, and does lead to a successful overall match, it is chosen.&nbsp; Since the `b' is already spoken for, the
`b*' must match its last possibility<B> the empty string</B> since it must respect the earlier choice.
<BR><BR>In the particular case where no `|'s are present and there is only one `*', `+', or `?', the net effect is that the
longest possible match will be chosen.&nbsp; So `ab*', presented with `xabbbby', will match `abbbb'.&nbsp; Note that if `ab*'
is tried against `xabyabbbz', it will match `ab' just after `x', due to the begins-earliest rule.
<H2 ID="Regular_Expression_BNF"> Regular Expression BNF </H2>
<BR>A pseudo-BNF for regular expressions is:
<DL>
<DT>reg-exp
<DD>{branch}|{branch}|...
<DT>branch
<DD>{piece}{piece}...
<DT>piece
<DD>{atom{* or + or ?}}{atom{* or + or ?}}...&nbsp; * - match 0 or more of the atom + - match 1 or more of the atom ?&nbsp; -
match a match of the atom, or the null string
<DT>atom
<DD>(reg-exp) or range or ~ or @ or ^ or $ or \char or char
<DT>range
<DD>[ {^} char and/or charlo-charhi ]
<BR><BR>'^' causes negation of range.
<DT>.
<DD>Match any character.
<DT>^
<DD>Match start of line.
<DT>$
<DD>Match end of line.
<DT>@
<DD>What follows is to be searched with case sensitivity.
<DT>~
<DD>What follows is to be searched without case sensitivity.
<DT>!
<DD>If it occurs as the first character in a regular expression, it causes the ignoring of the <A HREF="#magic">magic</A> setting;
that is, all magic characters are treated as magical.<B>&nbsp; !</B>&nbsp; is treated as a regular character if it occurs
anywhere but at the very start of the regular expression.
<DT>char
<DD>Any character.
<DT>\char
<DD>Forces \char to be accepted as char (no special meaning) except \t matches a tab character if <A HREF="#realtabs">realtabs</A>
is set.
</DL>
<H2 ID="File_Matching_Regular_Expressions"> File Matching Regular Expressions </H2>
<BR>When specifying a file name in Vi, it is possible to use a file matching regular expression.&nbsp; This expression is
similar to a regular expression, but has a couple of differences:
<OL>
<LI>A dot ('.') specifies an actual dot in the file name.
<LI>An asterisk ('*') is equivalent to '.*' (matches 0 or more characters).
<LI>A question mark ('?') is equivalent to a regular expression dot ('.'); i.e., a question mark matches exactly one character.
<LI>Caret ('^') has no meaning.
<LI>Dollar sign ('$') has no meaning.
<LI>Backslash ('\') has no meaning (it is used as a directory separator).
</OL>
<BR>Imagine the list of files:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; a.c</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; abc.c</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; abc</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; bcd.c</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; bad</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; xyz.c</TT>
<BR><BR>The following examples show how what files from the above list would be matched by various file name regular expressions:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; a*.c&nbsp;&nbsp;&nbsp;&nbsp; - all files that start with 'a' and end in '.c'.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; matches: &quot;a.c&quot;
and &quot;abc.c&quot;</TT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp; (a|b)*.c - all files that start with an 'a' or a 'b' and end in '.c'
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; matches: &quot;a.c&quot; &quot;abc.c&quot;
and &quot;bcd.c&quot;
<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp; *d.c&nbsp;&nbsp;&nbsp;&nbsp; - all files that end in 'd.c'.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; matches: &quot;bcd.c&quot;
<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - all files.
<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp; *.*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - all files that have a dot in them.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; matches: a.c abc.c bcd.c xyz.c
<H2 ID="Replacement_Strings"> Replacement Strings </H2>
<BR>If you are dealing with regular expression search and replace, then there are some special character sequences in the
replacement string.
<DL>
<DT>&amp;
<DD>Each instance of `&amp;' in the replacement string is replaced by the entire string of matched characters.
<DT>\\
<DD>Used to enter a '\' in the replacement string.
<DT>\n
<DD>Replaced with a new line.
<DT>\t
<DD>Replaced with a tab (if <A HREF="#realtabs">realtabs</A> is set).
<DT>\&lt;n&gt;
<DD>Each instance of<B> &lt;n&gt;</B>, where<B> &lt;n&gt;</B> is a digit from 0 to 9, is replaced by the n'th sub-expression in
the regular expression.
<DT>\u
<DD>The next item in replacement string is changed to upper case.
<DT>\l
<DD>The next item in replacement string is changed to lower case.
<DT>\U
<DD>All items following<B> \U</B> in the replacement string are changed to upper case, until a<B> \E</B> or<B> \e</B> is encountered.
<DT>\L
<DD>All items following<B> \L</B> in the replacement string are changed to lower case, until a<B> \E</B> or<B> \e</B> is encountered
<DT>\e
<DD>Terminate a<B> \U or \L</B>
<DT>\E
<DD>Terminate a<B> \U or \L</B>.
<DT>\|&lt;n&gt;
<DD>Substitutes spaces up to column<B> &lt;n&gt;</B>, so that the item that follows occurs at column<B> &lt;n&gt;</B>.
<DT>\#
<DD>Substitutes current line number that the match occurred on.
</DL>
<H2 ID="Controlling_Magic_Characters"> Controlling Magic Characters </H2>
<BR>By default, all special characters in a regular expression are &quot;magical&quot;; that is, if a special character is
used it has a special meaning.&nbsp; To use a special character, like<B> (</B>, it must be escaped:<B>&nbsp; \(</B>.
<BR><BR>However, it is possible to change this using the <A HREF="#magic">magic</A> setting and the <A HREF="#magicstring">magicstring</A>
setting.&nbsp; If <A HREF="#magic">magic</A> is set, then all special characters are magical.&nbsp; If <A HREF="#magic">magic</A>
is NOT set, then any special characters listed in <A HREF="#magicstring">magicstring</A> lose their special meaning, and are
treated as regular characters.&nbsp; For example, the following command line commands
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set nomagic</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; set magicstring=()</TT>
<BR><BR>set up Vi so that the brackets<B> ()</B> lose their special meaning.&nbsp; To use the characters in their &quot;magical&quot;
way, they must be escaped with a<B> \</B>.
<BR><BR>Replacement strings special character sequences can be disabled by turning off the <A HREF="#regsubmagic">regsubmagic</A>
setting.
<H2 ID="Regular_Expression_Examples"> Regular Expression Examples </H2>
<BR>The following sections contain examples of regular expression usage for text matching and text replacement.
<H3 ID="Matching_Examples"> Matching Examples </H3>
<BR>This section gives examples of different types of regular expressions.&nbsp; Each example shows the regular expression,
the initial string, and the result.&nbsp; In the result, the part of the string that is matched is underlined.
<BR><BR><TT>a+</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>defabc
</DL>
<DL>
<DT>Matches:
<DD>def<B><I>a</I></B>bc
</DL>
<LI>
<DL>
<DT>String:
<DD>aaabca
</DL>
<DL>
<DT>Matches:
<DD><B><I> aaa</I></B>bca
</DL>
<LI>
<DL>
<DT>String:
<DD>zzzaaayyy
</DL>
<DL>
<DT>Matches:
<DD>zzz<B><I>aaa</I></B>yyy
</DL>
</OL>
<BR><TT>^a+</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>defabc
</DL>
<DL>
<DT>Matches:
<DD>defabc
</DL>
<LI>
<DL>
<DT>String:
<DD>aaabca
</DL>
<DL>
<DT>Matches:
<DD><B><I> aaa</I></B>bca
</DL>
<LI>
<DL>
<DT>String:
<DD>zzzaaayyy
</DL>
<DL>
<DT>Matches:
<DD>zzzaaayyy
</DL>
</OL>
<BR><TT>ab*</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>xabc
</DL>
<DL>
<DT>Matches:
<DD>x<B><I>ab</I></B>c
</DL>
<LI>
<DL>
<DT>String:
<DD>abbbbbcabc
</DL>
<DL>
<DT>Matches:
<DD><B><I> abbbbb</I></B>cabc
</DL>
<LI>
<DL>
<DT>String:
<DD>dddacab
</DL>
<DL>
<DT>Matches:
<DD>ddd<B><I>a</I></B>cab
</DL>
</OL>
<BR><TT>ab*$</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>xabc
</DL>
<DL>
<DT>Matches:
<DD>abc
</DL>
<LI>
<DL>
<DT>String:
<DD>abbbbbcabc
</DL>
<DL>
<DT>Matches:
<DD>abbbbbcabc
</DL>
<LI>
<DL>
<DT>String:
<DD>dddacab
</DL>
<DL>
<DT>Matches:
<DD>dddac<B><I>ab</I></B>
</DL>
<LI>
<DL>
<DT>String:
<DD>defabbbbb
</DL>
<DL>
<DT>Matches:
<DD>def<B><I>abbbbb</I></B>
</DL>
</OL>
<BR><TT>ab?</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abc
</DL>
<DL>
<DT>Matches:
<DD><B><I> ab</I></B>c
</DL>
<LI>
<DL>
<DT>String:
<DD>abbbbbcabc
</DL>
<DL>
<DT>Matches:
<DD><B><I> ab</I></B>bbbbcabc
</DL>
<LI>
<DL>
<DT>String:
<DD>acab
</DL>
<DL>
<DT>Matches:
<DD><B><I> a</I></B>cab
</DL>
</OL>
<BR><TT>[abc]</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abc
</DL>
<DL>
<DT>Matches:
<DD><B><I> a</I></B>bc
</DL>
<LI>
<DL>
<DT>String:
<DD>defb
</DL>
<DL>
<DT>Matches:
<DD>def<B><I>b</I></B>
</DL>
<LI>
<DL>
<DT>String:
<DD>defcghi
</DL>
<DL>
<DT>Matches:
<DD>def<B><I>c</I></B>ghi
</DL>
</OL>
<BR><TT>a|b</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abc
</DL>
<DL>
<DT>Matches:
<DD><B><I> a</I></B>bc
</DL>
<LI>
<DL>
<DT>String:
<DD>bac
</DL>
<DL>
<DT>Matches:
<DD><B><I> b</I></B>ac
</DL>
<LI>
<DL>
<DT>String:
<DD>defabc
</DL>
<DL>
<DT>Matches:
<DD>def<B><I>a</I></B>bc
</DL>
</OL>
<BR><TT>[a-z]+</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abcdef
</DL>
<DL>
<DT>Matches:
<DD><B><I> abcdef</I></B>
</DL>
<LI>
<DL>
<DT>String:
<DD>abc0def
</DL>
<DL>
<DT>Matches:
<DD><B><I> abc</I></B>0def
</DL>
<LI>
<DL>
<DT>String:
<DD>0abcdef
</DL>
<DL>
<DT>Matches:
<DD>0<B><I>abcdef</I></B>
</DL>
</OL>
<BR><TT>([^</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abc def
</DL>
<DL>
<DT>Matches:
<DD><B><I> abc</I></B> def
</DL>
</OL>
<BR><TT>(abc)|(def)</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abcdef
</DL>
<DL>
<DT>Matches:
<DD><B><I> abc</I></B>def
</DL>
<LI>
<DL>
<DT>String:
<DD>zzzdefabc
</DL>
<DL>
<DT>Matches:
<DD>zzz<B><I>def</I></B>abc
</DL>
</OL>
<BR><TT>^(abc)|(def)</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>abcdef
</DL>
<DL>
<DT>Matches:
<DD><B><I> abc</I></B>def
</DL>
<LI>
<DL>
<DT>String:
<DD>zzzdefabc
</DL>
<DL>
<DT>Matches:
<DD>zzz<B><I>def</I></B>abc
</DL>
<LI>
<DL>
<DT>String:
<DD>zzzabcdef
</DL>
<DL>
<DT>Matches:
<DD>zzzabc<B><I>def</I></B>
</DL>
</OL>
<BR><TT>((abc)+|(def))ghi</TT>
<OL>
<LI>
<DL>
<DT>String:
<DD>defabcghi
</DL>
<DL>
<DT>Matches:
<DD>def<B><I>abcghi</I></B>
</DL>
<LI>
<DL>
<DT>String:
<DD>abcabcghi
</DL>
<DL>
<DT>Matches:
<DD><B><I> abcabcghi</I></B>
</DL>
<LI>
<DL>
<DT>String:
<DD>abcdefghi
</DL>
<DL>
<DT>Matches:
<DD>abc<B><I>defghi</I></B>
</DL>
<LI>
<DL>
<DT>String:
<DD>abcdef
</DL>
<DL>
<DT>Matches:
<DD>abcdef
</DL>
</OL>
<H3 ID="Replacement_Examples"> Replacement Examples </H3>
<BR>Regular expressions and replacement expressions.&nbsp; Each example shows the regular expression and the replacement expression,
the initial string, the match, and the resulting string after the replacement.
<BR><BR>The regular expression and the replacement are separated by forward slashes ('/').&nbsp; For example, in the string
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; /([a-z]+)((a|b))/Test:\1\2/</TT>
<BR><BR><B>([a-z]+)((a|b))</B> is the regular expression and<B> Test:\1\2</B> is the replacement expression.
<H1 ID="Editor_Script_Language"> Editor Script Language </H1>
<BR>The Open Watcom Vi Editor supports a powerful command language.&nbsp; In a script, you may use any command line command,
along with a number of special commands explicitly for the script environment.
<BR>White space is ignored in a script file, unless a line starts with a right angle bracket ('&gt;').&nbsp; Comments may
be imbedded in a script file by starting the line with pound sign ('#').
<BR><BR>A script is invoked using the command line command <A HREF="#SOURCE">SOURCE</A>.&nbsp; Examples are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; source test2.vi</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; source test.vi parm1 parm2 parm3 parm4</TT>
<BR><BR>A script may be invoked with a set of optional parameters.&nbsp; These optional parameters are accessed in the script
by using<B> %n</B>.&nbsp; Every occurrence of<B> %n</B> in the script is replaced by the corresponding parameter.&nbsp; To
access parameter above 9, brackets must surround the number.&nbsp; This is because:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %10</TT>
<BR><BR>cannot be distinguished from the variable<B> %1</B> followed by a 0, and the variable<B> %10</B>.&nbsp; To remove
the ambiguity, brackets are used:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %(10)</TT>
<BR><BR>All parameters can be accessed by using<B> %*</B>.
<BR><BR>To allow multiple words in a single parameter, delimit the sequence by forward slashes ('/') or double quotes ('&quot;').
&nbsp;For example, the line
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; source test.vi &quot;a b c&quot; d e</TT>
<BR><BR>would cause the script test.vi to have the following variables defined:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %* = a b c d e</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %1 = a b c</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %2 = d</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %3 = e</TT>
<BR><BR>General variables, both local and global, are also supported in the editor script language.&nbsp; Any line in a script
that is not one of the script commands has all the variables on it expanded before the line is processed.&nbsp; Script commands
can manipulate the variables.&nbsp; For more information, see the section <A HREF="#Script_Variables">Script Variables</A>
<BR><BR>There are several useful command line commands dealing with Vi scripts, they are:
<DL>
<DT>compile
<DD>Used to compile a script.&nbsp; This allows much faster execution of the script by Vi.
<DT>load
<DD>Used to make a script resident in Vi.&nbsp; This allows much faster invocation of the script, since Vi does not have to search
for it or parse it.
</DL>
<BR>If a system command is spawned from a script (using the exclamation point ('!') command), then Vi does not pause after
the system command is finished running.&nbsp; However, if you set <A HREF="#pauseonspawnerr">pauseonspawnerr</A>, then Vi
will pause after a system command is executed from a script if the system command returned an error.
<H2 ID="Script_Variables"> Script Variables </H2>
<BR>General variables are supported in a Vi script.&nbsp; Variables are preceded by a percent symbol ('%').&nbsp; Variables
with more than one letter must be enclosed by brackets, for example:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %a&nbsp;&nbsp;&nbsp;&nbsp; - references variable named a.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %(abc) - references variable named abc.</TT>
<BR><BR>The brackets are required to disambiguate single letter variables followed by text from multiple letter variables.
<BR><BR>Both local and global variables are supported.&nbsp; They are distinguished by the case of the first letter:&nbsp;
local variables must begin with a lower case letter, and global variables begin with an upper case variable.&nbsp; Example
variables:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %A&nbsp;&nbsp;&nbsp;&nbsp; - global variable named A.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %a&nbsp;&nbsp;&nbsp;&nbsp; - local variable named a.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %(AbC) - global variable named AbC.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; %(abC) - local variable named abC.</TT>
<BR><BR>Global variables are valid for the life of the editing session.
<BR><BR>Local variables are only valid for the life of the script that they are used in.
<H3 ID="PreMdefined_Global_Variables"> Pre-defined Global Variables </H3>
<BR>There are a number of global variables that take on values as the editor runs, they are:
<DL>
<DT>%C
<DD>Contains the current column number in the current edit buffer.
<DT>%D
<DD>Drive of current file, based on the actual path.
<DT>%(D1)
<DD>Drive of current file, as typed by the user.&nbsp; This could have no value.
<DT>%E
<DD>File name extension of current file.
<DT>%F
<DD>Current file name (including name and extension).
<DT>%H
<DD>Home directory of a file.&nbsp; This is the directory where the edit command was issued.
<DT>%N
<DD>Name of the current file, extension removed.
<DT>%M
<DD>Modified status of the current file - set to 1 if the file has been modified, and a 0 otherwise.
<DT>%(OS)
<DD>What operating system the editor is hosted on.&nbsp; Possible values are:
<UL>
<LI>dos (protect and real mode).
<LI>unix (QNX, Linux or other Unix-based systems)
<LI>os2
<LI>os2v2
<LI>nt
</UL>
<DT>%(OS386)
<DD>This variable is set to 1 is the host operating system is 386 (or higher) based.&nbsp; The possible 386 environments are:
<UL>
<LI>dos (protect mode).
<LI>os2v2
<LI>nt
<LI>unix (when running on a 386)
</UL>
<DT>%P
<DD>Path of current file (no extension, name, or drive) based on the actual full path to the file.
<DT>%(P1)
<DD>Path of current file (no extension, name, or drive) based on the name typed by the user.&nbsp; This could have no value.
<DT>%R
<DD>Contains the current row (line number) in the current edit buffer.
<DT>%(SH)
<DD>Height of entire screen in characters.
<DT>%(SW)
<DD>Width of entire screen in characters.
<DT>%(Sysrc)
<DD>Return code from last system command.
</DL>
<H2 ID="Hook_Scripts"> Hook Scripts </H2>
<BR>Vi has several hook points where a script, if defined by the user, is invoked.&nbsp; This allows you to intercept the
editor at key points to change its behaviour.&nbsp; A script that is invoked at a hook point is referred to as a<B> hook script</B>.
<BR><BR>Each hook script is identified by a particular global variable.&nbsp; Whenever Vi reaches a hook point, it checks
if the global variable is defined, and if it is, the global variables contents are treated like a script name, and that script
is invoked.
<BR><BR>The hook points are:
<UL>
<LI>after a new file has been read.
<LI>before a modified file is saved and exited.
<LI>after return is pressed on the command line.
<LI>whenever an unmodified file is modified.
<LI>whenever a selected (highlighted) column range is chosen (via mouse click or keyboard).
<LI>whenever a selected (highlighted) line range is chosen (via mouse click or keyboard).
</UL>
<DL>
<DT>Read Hook
<DD>The hook script is called just after a new file has been read into the editor.
<BR><BR>The script invoked is the file specified by the global variable<B> %(Rdhook)</B>.
<DT>Write Hook
<DD>The hook script is called just before a modified file is to be saved and exited.
<BR><BR>The script invoked is the file specified by the global variable<B> %(Wrhook).</B>
<DT>Command Hook
<DD>The hook script is called after the return is pressed from the command line.&nbsp; The global variable<B> %(Com)</B> contains
the current command string, and may be modified.&nbsp; Whatever it is modified to is what will be processed by the command
line processor.
<BR><BR>The script invoked is the file specified by the global variable<B> %(Cmdhook)</B>.
<DT>Modified Hook
<DD>The hook script is called whenever a command is about to modify an unmodified file.&nbsp; If the file is modified, the hook
is not called.
<BR><BR>The script invoked is the file specified by the global variable<B> %(Modhook)</B>.
<DT>Mouse Columns Sel Hook
<DD>The hook script is called whenever a selected column range has been picked.&nbsp; Picking a selected region is done by right-clicking
the region with the mouse, or by double clicking the region with the mouse, or by using the underscore ('_') command mode
keystroke.
<BR><BR>The script is invoked with the following parameters:
<DL>
<DT>%1
<DD>The selected string.
<DT>%2
<DD>Line on screen of selected string.
<DT>%3
<DD>Column on screen of start of selected string.
<DT>%4
<DD>Column on screen of end of selected string.
</DL>
<BR>The script invoked is the file is specified by the global variable<B> %(MCselhook)</B>.
<DT>Mouse Lines Sel Hook
<DD>The hook script is called whenever a selected line range has been picked.&nbsp; Picking a selected region is done by right-clicking
the region with the mouse, or by double clicking the region with the mouse, or by using the underscore ('_') command mode
keystroke.
<DL>
<DT>%1
<DD>Line on screen where selection request occurred.
<DT>%2
<DD>Column on screen where selection request occurred.
<DT>%3
<DD>First line of selected region.
<DT>%4
<DD>Last line of selected region.
</DL>
<BR>The script invoked is the file specified by the global variable<B> %(MLselhook)</B>.
</DL>
<H2 ID="Script_Expressions"> Script Expressions </H2>
<BR>Vi allows the use of constant expressions in its script language.&nbsp; Long integers and strings may be used in an expression.
&nbsp;Some sample expressions are:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 5*3+12</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; (7*7)+10*((3+5)*8+9)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 5 &gt;= %(var)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; (&quot;%(str)&quot; == &quot;foo&quot;) || (&quot;%(str)&quot; == &quot;bar&quot;)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; (5+%i*3 == 15)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; rdonly == 1</TT>
<BR><BR>An expression is composed of operators and tokens.&nbsp; Operators act on the tokens to give a final result.
<BR><BR>A token in an expression may be a special keyword, a boolean setting value, an integer, or a string.
<BR><BR>A string is indicated by surrounding the string with double quotes (&quot;).&nbsp; A token is an integer if it starts
with a numeric digit (0 to 9).
<BR><BR>If a token starts with a dot ('.'), then the remainder of the token is assumed to be a setting token.&nbsp; This token
evaluates to be 1 or 0 for a boolean setting, or to the actual value of the setting for all others.
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .autoindent - 1 if autoindent is true, 0 otherwise</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ai&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 1 if autoindent is true, 0 otherwise</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .autosave&nbsp;&nbsp; - current value of autosave</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .tmpdir&nbsp;&nbsp;&nbsp;&nbsp; - current tmpdir string</TT>
<BR><BR>If a token is not surrounded by double quotes, and is not a keyword and is not an integer, then that token is assumed
to be a string.
<BR><BR>If an expression contains conditional operators, then the result of the expression is a boolean value (1 or 0).&nbsp;
The following script language control flow commands expect boolean results:
<UL>
<LI><A HREF="#IF">IF</A>
<LI><A HREF="#ELSEIF">ELSEIF</A>
<LI><A HREF="#QUIF">QUIF</A>
<LI><A HREF="#WHILE">WHILE</A>
<LI><A HREF="#UNTIL">UNTIL</A>
</UL>
<BR>The following are conditional operators in an expression:
<UL>
<LI><B> ==</B> (equal to)
<LI><B> !=</B> (not equal to)
<LI><B> &gt;</B> (greater than)
<LI><B> &gt;=</B> (greater than or equal to)
<LI><B> &lt;</B> (less than)
<LI><B> &lt;=</B> (less than or equal to)
<LI><B> &amp;&amp;</B> (boolean AND)
<LI><B> ||</B> (boolean OR)
</UL>
<BR>An expression may also operate on its token using various mathematical operators, these operators are
<UL>
<LI><B> +</B> (plus)
<LI><B> -</B> (minus)
<LI><B> *</B> (multiply)
<LI><B> /</B> (divide)
<LI><B> **</B> (exponentiation)
<LI><B> ^</B> (bitwise NOT)
<LI><B> |</B> (bitwise OR)
<LI><B> &amp;</B> (bitwise AND)
<LI><B> &gt;&gt;</B> (bit shift down)
<LI><B> &lt;&lt;</B> (bit shift up)
</UL>
<BR>Special keyword tokens are:
<DL>
<DT>ERR_???
<DD>These are symbolic representations of all possible errors while executing in Vi.&nbsp; These values are found in<TT> error.dat</TT>.
&nbsp;These values are described in the appendix <A HREF="#Error_Code_Tokens">Error Code Tokens</A>.
<DT>lastrc
<DD>This keyword evaluates to the return code issued by the last command run in the script.&nbsp; Possible values to compare against
are found in<TT> error.dat</TT>.&nbsp; These values may are described in the appendix <A HREF="#Error_Code_Tokens">Error Code Tokens</A>.
<DT>rdonly
<DD>This keyword evaluates to 1 if the current file is read only, and 0 if it is not read only.
<DT>config
<DD>This keyword evalutes to a number representing the current mode the screen is configured to.&nbsp; Possible values are:
<DL>
<DT>100
<DD>Screen is in color mode.
<DT>10
<DD>Screen is in black and white mode.
<DT>1
<DD>Screen is in monochrome mode.
</DL>
<BR>This may be used to have different configurations built into your<B> configuration script</B><TT> ed.cfg</TT>.
<DT>black
<DD>This keyword evalutes to the integer representing the color black (0).
<DT>blue
<DD>This keyword evalutes to the integer representing the color blue (1).
<DT>green
<DD>This keyword evalutes to the integer representing the color green (2).
<DT>cyan
<DD>This keyword evalutes to the integer representing the color cyan (3).
<DT>red
<DD>This keyword evalutes to the integer representing the color red (4).
<DT>magenta
<DD>This keyword evalutes to the integer representing the color magenta (5).
<DT>brown
<DD>This keyword evalutes to the integer representing the color brown (6).
<DT>white
<DD>This keyword evalutes to the integer representing the color white (7).
<DT>dark_gray
<DD>This keyword evalutes to the integer representing the color dark_gray (8).
<DT>light_blue
<DD>This keyword evalutes to the integer representing the color light_blue (9).
<DT>light_green
<DD>This keyword evalutes to the integer representing the color light_green (10).
<DT>light_cyan
<DD>This keyword evalutes to the integer representing the color light_cyan (11).
<DT>light_red
<DD>This keyword evalutes to the integer representing the color light_red (12).
<DT>light_magenta
<DD>This keyword evalutes to the integer representing the color light_magenta (13).
<DT>yellow
<DD>This keyword evalutes to the integer representing the color yellow (14).
<DT>bright_white
<DD>This keyword evalutes to the integer representing the color bright_white (15).
</DL>
<H3 ID="Script_Expression_BNF"> Script Expression BNF </H3>
<BR>This section describes a BNF for the construction of constant expressions.
<DL>
<DT>expression
<DD>:&nbsp; conditional-exp
<DT>conditional-exp
<DD>:&nbsp; log-or-exp
<BR><BR>| log-or-exp ?&nbsp; expression :&nbsp; conditional-exp
<DT>log-or-exp
<DD>:&nbsp; log-and-exp
<BR><BR>| log-or-exp || log-and-exp
<DT>log-and-exp
<DD>:&nbsp; bit-or-exp
<BR><BR>| log-and-exp &amp;&amp; bit-or-exp
<DT>bit-or-exp
<DD>:&nbsp; bit-xor-exp
<BR><BR>| bit-or-exp | bit-xor-exp
<DT>bit-xor-exp
<DD>:&nbsp; bit-and-exp
<BR><BR>| bit-xor-exp ^ bit-and-exp
<DT>bit-and-exp
<DD>:&nbsp; equality-exp
<BR><BR>| bit-and-exp &amp; equality-exp
<DT>equality-exp
<DD>:&nbsp; relational-exp
<BR><BR>| equality-exp == relational-exp | equality-exp != relational-exp
<DT>relational-exp
<DD>:&nbsp; shift-exp
<BR><BR>| relational-exp &gt; shift-exp
<BR>| relational-exp &lt; shift-exp
<BR>| relational-exp &gt;= shift-exp
<BR>| relational-exp &lt;= shift-exp
<DT>shift-exp
<DD>:&nbsp; additive-exp
<BR><BR>| shift-exp &lt;&lt; additive-exp
<BR>| shift-exp &gt;&gt; additive-exp
<DT>additive-exp
<DD>:&nbsp; multiplicative-exp
<BR><BR>| additive-exp + multiplicative-exp
<BR>| additive-exp - multiplicative-exp
<DT>multiplicative-exp
<DD>:&nbsp; exponent-exp
<BR><BR>| multiplicative-exp * exponent-exp
<BR>| multiplicative-exp / exponent-exp
<BR>| multiplicative-exp % exponent-exp
<DT>exponent-exp
<DD>:&nbsp; unary-exp
<BR><BR>| exponent-exp ** unary-exp
<DT>unary-exp
<DD>:&nbsp; primary-exp
<BR><BR>| - unary-exp
<BR>| ~ unary-exp
<BR>| !&nbsp; unary-exp
<DT>primary-exp
<DD>:&nbsp; token
<BR><BR>| ( expression )
<DT>token
<DD>:&nbsp; INTEGER
<BR><BR>| STRING
<BR>| KEYWORD
</DL>
<H2 ID="Control_Flow_Commands"> Control Flow Commands </H2>
<BR>This section gives a brief overview of the control flow commands of the Vi script language.&nbsp; For a full description
of all script commands, see the next section <A HREF="#Script_Commands">Script Commands</A>.
<H3 ID="The_LOOP_Block"> The LOOP Block </H3>
<BR>The<B> loop</B> block is similar to the<B> do-while</B> construct in C.&nbsp; The flow of the loop may be modified using
the <A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A> or <A HREF="#QUIF">QUIF</A> script commands.
<BR><BR>The loop may be set to run until a termination condition is met by using the<B> loop</B> - <A HREF="#UNTIL">UNTIL</A>
commands.
<BR><BR>The loop may be set to run without any termination condition by using the<B> loop</B> - <A HREF="#ENDLOOP">ENDLOOP</A>
commands.
<BR><BR>An overview of a<B> loop</B> block is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; loop</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quif &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; until &lt;expr&gt;</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; loop</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quif &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endloop</TT>
<H3 ID="The_WHILE_Block"> The WHILE Block </H3>
<BR>The<B> while</B> block is similar to the<B> while</B> loop construct in C.&nbsp; The flow of the while loop may be modified
using the <A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A> or <A HREF="#QUIF">QUIF</A> script commands.
<BR><BR>The while loop is set up using the<B> while</B> - <A HREF="#ENDWHILE">ENDWHILE</A> commands.
<BR><BR>An overview of the<B> while</B> block is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; while &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quif &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endwhile</TT>
<H3 ID="The_IF_Block"> The IF Block </H3>
<BR>The<B> if</B> block is similar to the<B> if-else</B> construct in C.
<BR><BR>An overview of the<B> if</B> block is:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; if &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; elseif &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; elseif &lt;expr&gt;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; else</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endif</TT>
<H2 ID="Script_Commands"> Script Commands </H2>
<BR>The following command descriptions show items within angle brackets (&lt;&gt;).&nbsp; The angle brackets are there to
indicate items that you may supply.&nbsp; You are not required to type the brackets.&nbsp; For example, &lt;filename&gt; simply
means that in the corresponding place in the command you should enter the name of a file.&nbsp; For example, &lt;filename&gt;
may be replaced with
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test.c</TT>
<BR><BR>and the brackets are not entered.
<BR><BR>The command descriptions also show items inside double quotes (&quot;).&nbsp; The double quotes are used to indicate
a literal option that you may supply.&nbsp; You are not required to type the quotes.&nbsp; For example, &quot;-c&quot; indicates
that in the corresponding place in the command you may enter<B> -c</B>.
<BR><BR>In the syntax model for each command, the upper-case characters represent the minimal truncation of the command.&nbsp;
For example, in its syntax model, the ASSIGN command is specified as &quot;ASSIGN&quot;, indicating that all the letters are
required (there are no abbreviations, only &quot;assign&quot; is accepted as the command).
<BR><BR>The term<B> &lt;expr&gt;</B> is used to indicate an expression in the following commands.&nbsp; Expressions are discussed
in full detail in the section <A HREF="#Script_Expressions">Script Expressions</A> of this chapter.
<BR><BR>Script variables are used by some of the following commands.&nbsp; Variables are discussed in full detail in the section
<A HREF="#Script_Variables">Script Variables</A>
<BR><BR>When a script command terminates,<B> lastrc</B> is sometimes set to a value.&nbsp; This value may be tested in an
expression.&nbsp; Script commands that set this have a<B> Returns</B> section.
<H3 ID="ATOMIC"> ATOMIC </H3>
<DL>
<DT>Syntax:
<DD>ATOMIC
</DL>
<DL>
<DT>Description:
<DD>This command causes all editing actions done by the script to all be part of one undo record.&nbsp; This way, the action of
the entire script can be eliminated with a single <A HREF="#UNDO_LcommandR">UNDO (command)</A> i.e., it is an atomic action.
</DL>
<H3 ID="ASSIGN"> ASSIGN </H3>
<DL>
<DT>Syntax:
<DD>ASSIGN &lt;v1&gt; = /&lt;val&gt;/&quot;r$@xl&quot;
</DL>
<DL>
<DT>Description:
<DD>This command is used to assign the value<B> &lt;val&gt;</B> to the variable<B> &lt;v1&gt;</B>.
<BR><BR>The forward slashes ('/') around<B> &lt;val&gt;</B> are only need if there are spaces in<B> &lt;val&gt;</B>, or if
one of the special flags<B> r</B>,<B> x</B>,<B> l</B>,<B> $</B> or<B> @</B> is required at the end.
<BR><BR>The special flags have the following meaning:
<DL>
<DT>r
<DD>When this flag is used,<B> &lt;val&gt;</B> may contain regular expression replacement strings (using the last regular expression
searched for).&nbsp; For more information on regular expressions, see the chapter <A HREF="#Regular_Expressions">Regular Expressions</A>.
<DT>l
<DD>When this flag is used,<B> &lt;val&gt;</B> is assumed to be an expression that indicates a line number.&nbsp; The expression
is evaluated, and the data on the corresponding line number is assigned to<B> &lt;v1&gt;</B>.
<DT>x
<DD>When this flag is used,<B> &lt;val&gt;</B> is assumed to be an expression, and is evaluated.&nbsp; The result is assigned
to<B> &lt;v1&gt;</B>.&nbsp; For another way of assigning expression results to a variable, see the <A HREF="#EXPR">EXPR</A>
script command.
<DT>$ (dollar sign)
<DD>When this flag is used,<B> &lt;val&gt;</B> is assumed to be the name of an operating system environment variable, and the
contents of that environment variable is what is assigned to<B> &lt;v1&gt;</B>.
<DT>@
<DD>When this flag is used,<B> &lt;val&gt;</B> may be the name of one of the <A HREF="#SET">SET</A> command parameters.<B>&nbsp;
&lt;v1&gt;</B> will be given the current value of that parameter.
</DL>
<BR><B>&lt;val&gt;</B> may be coded as a special operator.&nbsp; If<B> &lt;val&gt;</B> is coded this way, the forward slashes
('/') must NOT be used.&nbsp; The special operators are:
<DL>
<DT>strlen &lt;v&gt;
<DD>Computes the length of the variable<B> &lt;v&gt;</B>.&nbsp; This value is assigned to<B> &lt;v1&gt;</B>.
<DT>strchr &lt;v&gt; &lt;c&gt;
<DD>Computes the offset of the character<B> &lt;c&gt;</B> in the variable<B> &lt;v&gt;</B>.&nbsp; The offset is assigned to<B>
&lt;v1&gt;</B>.&nbsp; Note that the character<B> &lt;c&gt;</B> may be a variable, the value of which will be expanded before
offset is computed..
<DT>substr &lt;v&gt; &lt;n1&gt; &lt;n2&gt;
<DD>Computes a substring of the string contained in the variable<B> &lt;v&gt;</B>.&nbsp; The substring is composed of characters
from offset<B> &lt;n1&gt;</B> to offset<B> &lt;n2&gt;</B>.&nbsp; The substring is assigned to<B> &lt;v1&gt;</B>.&nbsp; Note
that the parameters<B> &lt;n1&gt;</B> and<B> &lt;n2&gt;</B> may be variables, the values of which will be expanded before
the substring is computed.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>assign %a = foobar</TT>
<BR><BR>The variable<B> %a</B> gets the string<B> foobar</B> assigned to it.
<BR><BR><TT>assign %(Path) = /path/$</TT>
<BR><BR>The global variable<B> %(Path)</B> gets the data stored in the<B> path</B> environment variable assigned to it.
<BR><BR><TT>assign %b = strlen %a</TT>
<BR><BR>Assigns the length of the contents of the local variable<B> %a</B> to the local variable<B> %b</B>.&nbsp; Assuming
the local variable<B> %a</B> has the string<B> abcdefg</B> assigned to it, then<B> %b</B> gets<B> 7</B> assigned to it.
<BR><BR><TT>assign %b = strchr %a b</TT>
<BR><BR>Assigns the offset of the letter<B> b</B> in the string contained in the local variable<B> %a</B> to the local variable<B>
%b</B>.&nbsp; Assuming the local variable<B> %a</B> has the string<B> abcdefg</B> assigned to it, then<B> %b</B> gets<B> 2</B>
assigned to it.
<BR><BR><TT>assign %(Substr) = substr %a 2 4</TT>
<BR><BR>Assigns the characters from offset 2 to offset 4 in the string contained in the local variable<B> %a</B> to the global
variable<B> %(Substr)</B>.&nbsp; Assuming the local variable<B> %a</B> has the string<B> abcdefg</B> assigned to it, then<B>
%b</B> gets<B> bcd</B> assigned to it.
<BR><BR><TT>assign %(res) = /abc %(str) def/</TT>
<BR><BR>Assuming<B> %(str)</B> has been assigned the value<B> xyz</B>, then the string<B> abc xyz def</B> is assigned to the
local variable<B> %(res)</B>
<BR><BR><TT>assign %(Result) = /100*30+(50-17)*10/x</TT>
<BR><BR>The value<B> 3330</B> is assigned to the global variable<B> %(Result)</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#EXPR">EXPR</A>
</DL>
<H3 ID="BREAK"> BREAK </H3>
<DL>
<DT>Syntax:
<DD>BREAK
</DL>
<DL>
<DT>Description:
<DD>Unconditionally exits the current looping block.&nbsp; This breaks out of <A HREF="#LOOP">LOOP</A> - <A HREF="#ENDLOOP">ENDLOOP</A>,
<A HREF="#LOOP">LOOP</A> - <A HREF="#UNTIL">UNTIL</A> and <A HREF="#WHILE">WHILE</A> - <A HREF="#ENDWHILE">ENDWHILE</A> blocks.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#ENDWHILE">ENDWHILE</A>, <A HREF="#LOOP">LOOP</A>,
<A HREF="#QUIF">QUIF</A>, <A HREF="#UNTIL">UNTIL</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="CONTINUE"> CONTINUE </H3>
<DL>
<DT>Syntax:
<DD>CONTINUE
</DL>
<DL>
<DT>Description:
<DD>Restarts the current looping block.&nbsp; This causes a jump to the top of <A HREF="#LOOP">LOOP</A> - <A HREF="#ENDLOOP">ENDLOOP</A>,
<A HREF="#LOOP">LOOP</A> - <A HREF="#UNTIL">UNTIL</A> and <A HREF="#WHILE">WHILE</A> - <A HREF="#ENDWHILE">ENDWHILE</A> blocks.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#ENDWHILE">ENDWHILE</A>, <A HREF="#LOOP">LOOP</A>, <A HREF="#QUIF">QUIF</A>,
<A HREF="#UNTIL">UNTIL</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="ENDIF"> ENDIF </H3>
<DL>
<DT>Syntax:
<DD>ENDIF
</DL>
<DL>
<DT>Description:
<DD>Terminates an <A HREF="#IF">IF</A> - <A HREF="#ELSEIF">ELSEIF</A> - <A HREF="#ELSE">ELSE</A> block.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#IF">IF</A>, <A HREF="#ELSEIF">ELSEIF</A>, <A HREF="#ELSE">ELSE</A>
</DL>
<H3 ID="ENDLOOP"> ENDLOOP </H3>
<DL>
<DT>Syntax:
<DD>ENDLOOP
</DL>
<DL>
<DT>Description:
<DD>Terminates a loop block.&nbsp; Control goes to the top of the current loop.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDWHILE">ENDWHILE</A>, <A HREF="#LOOP">LOOP</A>,
<A HREF="#QUIF">QUIF</A>, <A HREF="#UNTIL">UNTIL</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="ENDWHILE"> ENDWHILE </H3>
<DL>
<DT>Syntax:
<DD>ENDWHILE
</DL>
<DL>
<DT>Description:
<DD>Terminates a while block.&nbsp; Control goes to the top of the current while loop.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#LOOP">LOOP</A>, <A HREF="#QUIF">QUIF</A>,
<A HREF="#UNTIL">UNTIL</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="ELSEIF"> ELSEIF </H3>
<DL>
<DT>Syntax:
<DD>ELSEIF &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>An alternate case in an <A HREF="#IF">IF</A> block.&nbsp; If the opening <A HREF="#IF">IF</A> script command and none of the<B>
elseif</B> script commands prior to this one were executed, then this<B> elseif</B> is executed.
<BR><BR>Any variables contained in<B> &lt;expr&gt;</B> are expanded before the expression is evaluated.
<BR><BR>If<B> &lt;expr&gt;</B> is true, then the code following the<B> elseif</B> is executed.&nbsp; If<B> &lt;expr&gt;</B>
is false, control goes to the next<B> elseif</B>, <A HREF="#ELSE">ELSE</A> or <A HREF="#ENDIF">ENDIF</A> command.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#IF">IF</A>, <A HREF="#ELSE">ELSE</A>, <A HREF="#ENDIF">ENDIF</A>
</DL>
<H3 ID="ELSE"> ELSE </H3>
<DL>
<DT>Syntax:
<DD>ELSE
</DL>
<DL>
<DT>Description:
<DD>This is the alternate case in an <A HREF="#IF">IF</A> block.&nbsp; If none of the preceding <A HREF="#IF">IF</A> or <A HREF="#ELSEIF">ELSEIF</A>
statements are true, the code following the<B> else</B> command is executed.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#IF">IF</A>, <A HREF="#ELSEIF">ELSEIF</A>, <A HREF="#ENDIF">ENDIF</A>
</DL>
<H3 ID="EXPR"> EXPR </H3>
<DL>
<DT>Syntax:
<DD>EXPR &lt;v1&gt; = &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>Assigns the expression<B> &lt;expr&gt;</B> to the variable<B> &lt;v1&gt;</B>.
<BR><BR>Any variables contained in<B> &lt;expr&gt;</B> are expanded before the expression is evaluated.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>expr %(Num) = 100*30+50</TT>
<BR><BR>Assigns the value<B> 3050</B> to the global variable<B> %(Num)</B>.
<BR><BR><TT>expr %a = %(SW)-10</TT>
<BR><BR>Assuming a screen width of 80, then this assigns the value<B> 70</B> to the local variable<B> %a</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#ASSIGN">ASSIGN</A>, <A HREF="#EVAL">EVAL</A>
</DL>
<H3 ID="FCLOSE"> FCLOSE </H3>
<DL>
<DT>Syntax:
<DD>FCLOSE &lt;n&gt;
</DL>
<DL>
<DT>Description:
<DD>Closes file previously opened with a <A HREF="#FOPEN">FOPEN</A> script command.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>fclose 1</TT>
<BR><BR>Closes file 1.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FOPEN">FOPEN</A>, <A HREF="#FREAD">FREAD</A>, <A HREF="#FWRITE">FWRITE</A>
</DL>
<H3 ID="FOPEN"> FOPEN </H3>
<DL>
<DT>Syntax:
<DD>FOPEN &lt;name&gt; &lt;n&gt; &lt;how&gt;
</DL>
<DL>
<DT>Description:
<DD>This command opens file<B> &lt;name&gt;</B>, assigning it file handle<B> &lt;n&gt;</B>.
<BR><BR><B>&lt;n&gt;</B> may be a value from 1 to 9.&nbsp; This number is used to identify the file for future <A HREF="#FREAD">FREAD</A>,
<A HREF="#FWRITE">FWRITE</A> or <A HREF="#FCLOSE">FCLOSE</A> script commands.
<BR><BR><B>&lt;how&gt;</B> specifies the method that the file is opened.&nbsp; Methods are:
<DL>
<DT>a
<DD>Opens file for append.
<DT>r
<DD>Opens file for read.
<DT>w
<DD>Opens file for write.
<DT>x
<DD>Checks if the file exists.&nbsp; This does not actually open the file, so no <A HREF="#FCLOSE">FCLOSE</A> is required.
</DL>
</DL>
<DL>
<DT>Returns:
<DD>
<DL>
<DT>ERR_NO_ERR.
<DD>The setting of<B> lastrc</B> if the open/existence check is a success.
<DT>ERR_FILE_NOT_FOUND
<DD>The setting of<B> lastrc</B> if the open/existence check is a fails.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>fopen test.dat 1 r</TT>
<BR><BR>Opens file test.dat for read, and uses file handle 1.
<BR><BR><TT>fopen test.dat 2 w</TT>
<BR><BR>Opens file test.dat for write, and uses file handle 2.
<BR><BR><TT>fopen test.dat 1 x</TT>
<BR><BR>Tests if the file test.dat exists.
<BR><BR><TT>fopen test.dat 9 a</TT>
<BR><BR>Opens file test.dat for append, and uses file handle 9.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FCLOSE">FCLOSE</A>, <A HREF="#FREAD">FREAD</A>, <A HREF="#FWRITE">FWRITE</A>
</DL>
<H3 ID="FREAD"> FREAD </H3>
<DL>
<DT>Syntax:
<DD>FREAD &lt;n&gt; &lt;v1&gt;
</DL>
<DL>
<DT>Description:
<DD>Reads a line from the file identified by handle<B> &lt;n&gt;</B>.&nbsp; The line is stored in the variable<B> &lt;v1&gt;</B>.
</DL>
<DL>
<DT>Returns:
<DD>
<DL>
<DT>ERR_NO_ERR
<DD>The setting of<B> lastrc</B> if the read was successful.
<DT>END_OF_FILE
<DD>The setting of<B> lastrc</B> if end of file was encountered.
<DT>ERR_FILE_NOT_OPEN
<DD>The setting of<B> lastrc</B> if the file being read was not opened with <A HREF="#FOPEN">FOPEN</A>.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>fread 1 %(line)</TT>
<BR><BR>Reads the next line from file handle 1 into the variable<B> %(line)</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FCLOSE">FCLOSE</A>, <A HREF="#FOPEN">FOPEN</A>, <A HREF="#FWRITE">FWRITE</A>
</DL>
<H3 ID="FWRITE"> FWRITE </H3>
<DL>
<DT>Syntax:
<DD>FWRITE &lt;n&gt; &lt;v1&gt;
</DL>
<DL>
<DT>Description:
<DD>Writes the contents of the variable<B> &lt;v1&gt;</B> to the file identified by handle<B> &lt;n&gt;</B>.
</DL>
<DL>
<DT>Returns:
<DD>
<DL>
<DT>ERR_NO_ERR
<DD>The setting of<B> lastrc</B> if the write was successful.
<DT>ERR_FILE_NOT_OPEN
<DD>The setting of<B> lastrc</B> if the file being written was not opened with <A HREF="#FOPEN">FOPEN</A>.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>fwrite 3 %(line)</TT>
<BR><BR>Writes the contents of the variable<B> %(line)</B> to file handle 3.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FCLOSE">FCLOSE</A>, <A HREF="#FOPEN">FOPEN</A>, <A HREF="#FREAD">FREAD</A>
</DL>
<H3 ID="GET"> GET </H3>
<DL>
<DT>Syntax:
<DD>GET &lt;v1&gt;
</DL>
<DL>
<DT>Description:
<DD>Waits for the user to type a single keystroke, and then assigns the keystroke into variable<B> &lt;v1&gt;</B>.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>get %(ch)</TT>
<BR><BR>Waits for a key to be pressed, and then assigns the key to the local variable<B> %(ch)</B>.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FLOATMENU">FLOATMENU</A>, <A HREF="#INPUT">INPUT</A>
</DL>
<H3 ID="GOTO"> GOTO </H3>
<DL>
<DT>Syntax:
<DD>GOTO &lt;label&gt;
</DL>
<DL>
<DT>Description:
<DD>Transfers control to point in script with label<B> &lt;label&gt;</B> defined.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#LABEL">LABEL</A>
</DL>
<H3 ID="IF"> IF </H3>
<DL>
<DT>Syntax:
<DD>IF &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>Starts an<B> if</B> block.
<BR><BR>Any variables contained in<B> &lt;expr&gt;</B> are expanded before the expression is evaluated.
<BR><BR>If<B> &lt;expr&gt;</B> is true, then the code following the<B> if</B> is executed.&nbsp; If<B> &lt;expr&gt;</B> is
false, control goes to the next <A HREF="#ELSEIF">ELSEIF</A>, <A HREF="#ELSE">ELSE</A> or <A HREF="#ENDIF">ENDIF</A> command.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#ELSEIF">ELSEIF</A>, <A HREF="#ELSE">ELSE</A>, <A HREF="#ENDIF">ENDIF</A>
</DL>
<H3 ID="INPUT"> INPUT </H3>
<DL>
<DT>Syntax:
<DD>INPUT &lt;v1&gt;
</DL>
<DL>
<DT>Description:
<DD>Open a window (the <A HREF="#COMMANDWINDOW">COMMANDWINDOW</A>) and get a string from the user.&nbsp; The string is assigned
to the variable<B> &lt;v1&gt;</B>.
<BR><BR>If<B> &lt;v1&gt;</B> was assigned a value before the<B> input</B> script command was executed, then that value is
used as a prompt string in the input window.
</DL>
<DL>
<DT>Returns:
<DD>
<DL>
<DT>ERR_NO_ERR.
<DD>The setting of<B> lastrc</B> if a string was entered.
<DT>NO_VALUE_ENTERED
<DD>The setting of<B> lastrc</B> if the user pressed<B> ESC</B> to cancel the input string.
</DL>
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>input %(str)</TT>
<BR><BR>Get a string from the user, placing the result in the local variable<B> %(str)</B>.&nbsp; If<B> %(str)</B> had no
previous value, then the user would be prompted with:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Enter Value:</TT>
<BR><BR>However, if<B> %(str)</B> had the value<B> Type in a filename:</B>, then the user would be prompted with:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Type in a filename:</TT>
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#FLOATMENU">FLOATMENU</A>, <A HREF="#GET">GET</A>
</DL>
<H3 ID="LABEL"> LABEL </H3>
<DL>
<DT>Syntax:
<DD>LABEL &lt;name&gt;
</DL>
<DL>
<DT>Description:
<DD>Defines the a label with the name<B> &lt;name&gt;</B> at the current line in the script.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#GOTO">GOTO</A>
</DL>
<H3 ID="LOOP"> LOOP </H3>
<DL>
<DT>Syntax:
<DD>LOOP
</DL>
<DL>
<DT>Description:
<DD>Start a loop block.&nbsp; This is the top of the block, after a <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>
or <A HREF="#UNTIL">UNTIL</A> control returns to the instruction after the<B> loop</B> command.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#ENDWHILE">ENDWHILE</A>,
<A HREF="#LOOP">LOOP</A>, <A HREF="#QUIF">QUIF</A>, <A HREF="#UNTIL">UNTIL</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="NEXTWORD"> NEXTWORD </H3>
<DL>
<DT>Syntax:
<DD>NEXTWORD &lt;srcvar&gt; &lt;resvar&gt;
</DL>
<DL>
<DT>Description:
<DD>Remove the next space-delimited word from the variable<B> &lt;srcvar&gt;</B>.&nbsp; The word is placed in the variable specified
by<B> &lt;srcvar&gt;</B>.&nbsp; Both<B> &lt;srcvar&gt;</B> and<B> &lt;resvar&gt;</B> must be variables only.
</DL>
<DL>
<DT>Example(s):
<DD>
<BR><BR><TT>nextword %a %b</TT>
<BR><BR>If %a has<TT> 'this is a test'</TT> assigned to it, then after this command is processed, %a will have<TT> 'is a test'</TT>
assigned to it, and %b will have<TT> 'this'</TT> assigned to it.
</DL>
<H3 ID="QUIF"> QUIF </H3>
<DL>
<DT>Syntax:
<DD>QUIF &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>Conditionally quit current loop or while loop block.
<BR><BR>Any variables contained in<B> &lt;expr&gt;</B> are expanded before the expression is evaluated.
<BR><BR>If<B> &lt;expr&gt;</B> is true, the current looping block is exited and execution resumes at the line after the end
of the current block.
<BR><BR>If<B> &lt;expr&gt;</B> is false, execution continues at the next line.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#ENDWHILE">ENDWHILE</A>,
<A HREF="#LOOP">LOOP</A>, <A HREF="#UNTIL">UNTIL</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="RETURN"> RETURN </H3>
<DL>
<DT>Syntax:
<DD>RETURN &lt;rc&gt;
</DL>
<DL>
<DT>Description:
<DD>Exit the script, returning<B> &lt;rc&gt;</B>.
<BR><BR>If the script was invoked by another script, then this value becomes<B> lastrc</B>.
<BR><BR>If the script was invoked at the command line, then this return code is reported as the appropriate error, if<B> &lt;rc&gt;</B>
is not<B> ERR_NO_ERR</B>.
<BR><BR>There are symbolic values for various error codes.&nbsp; These values are described in the appendix <A HREF="#Error_Code_Tokens">Error Code Tokens</A>.
</DL>
<H3 ID="UNTIL"> UNTIL </H3>
<DL>
<DT>Syntax:
<DD>UNTIL &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>Closes a loop block.
<BR><BR>Any variables contained in<B> &lt;expr&gt;</B> are expanded before the expression is evaluated.
<BR><BR>If<B> &lt;expr&gt;</B> is true, the first line after the loop block is executed.
<BR><BR>If<B> &lt;expr&gt;</B> is false, then control is returned to the top of the loop block, and the loop executes again.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#ENDWHILE">ENDWHILE</A>,
<A HREF="#LOOP">LOOP</A>, <A HREF="#QUIF">QUIF</A>, <A HREF="#WHILE">WHILE</A>
</DL>
<H3 ID="WHILE"> WHILE </H3>
<DL>
<DT>Syntax:
<DD>WHILE &lt;expr&gt;
</DL>
<DL>
<DT>Description:
<DD>Start a loop block.&nbsp; If<B> &lt;expr&gt;</B> is true, the body of the loop is executed.&nbsp; If<B> &lt;expr&gt;</B> is
false, execution transfers to the instruction after the <A HREF="#ENDWHILE">ENDWHILE</A> command.
<BR><BR>Any variables contained in<B> &lt;expr&gt;</B> are expanded before the expression is evaluated.
<BR><BR>This is the top of the block, after a <A HREF="#CONTINUE">CONTINUE</A> or <A HREF="#ENDWHILE">ENDWHILE</A> control
returns to the<B> while</B> command.
</DL>
<DL>
<DT>See Also:
<DD><A HREF="#BREAK">BREAK</A>, <A HREF="#CONTINUE">CONTINUE</A>, <A HREF="#ENDLOOP">ENDLOOP</A>, <A HREF="#ENDWHILE">ENDWHILE</A>,
<A HREF="#LOOP">LOOP</A>, <A HREF="#QUIF">QUIF</A>, <A HREF="#UNTIL">UNTIL</A>
</DL>
<H2 ID="Script_Examples"> Script Examples </H2>
<BR>The following section describes a number of the scripts that are provided with Vi.&nbsp; Each script is discussed in detail.
<H3 ID="Example_M_err_vi"> Example - err.vi </H3>
<BR>This is a simple script that edits a file that has the exact same name as the current file, only has the extension .err.
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) edit %D%P%N.err</TT>
<BR><BR><B>Line 1</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; edit %D%P%N.err</TT>
<BR><BR> The global variable<B> %D</B> contains the drive of the current file.&nbsp; The global variable<B> %P</B> contains
the full path to the current file.&nbsp; The global variable<B> %N</B> contains the name of the current file (extension removed).
&nbsp;These are combined with the .err extension to create a full path to an error file.&nbsp; This file is edited.
<H3 ID="Example_M_lnum_vi"> Example - lnum.vi </H3>
<BR>This script prompts the user for a line number, and if a line number is entered, goes to that line.
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) assign %a = /Enter Line Number:/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) input %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) if lastrc != NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4)&nbsp;&nbsp;&nbsp;&nbsp; %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5) endif</TT>
<BR><BR><B>Lines 1-2</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; assign %a = /Enter Line Number:/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; input %a</TT>
<BR><BR> These lines assigns the string<B> Enter Line Number:</B>&nbsp; to the local variable<B> %a</B>.&nbsp; This value
will be used by the <A HREF="#INPUT">INPUT</A> command on line 2 to prompt the user.
<BR><B>Lines 3-5</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; if lastrc != NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; endif</TT>
<BR><BR> As long as the input was not cancelled by the user (by pressing the ESC key), the line the user typed is executed
directly.&nbsp; This assumes that the user will type a number.
<H3 ID="Example_M_qall_vi"> Example - qall.vi </H3>
<BR>This script tries to quit each file being edited.&nbsp; If the file has been modified, the user is prompted if he wishes
to save the file.&nbsp; If he replies 'y', the file is saved.&nbsp; If he replies 'n', the file is discarded.&nbsp; If he
presses the ESC key and cancels the input, the script is exited.
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) loop</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) </TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3)&nbsp;&nbsp;&nbsp;&nbsp; quit</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4)&nbsp;&nbsp;&nbsp;&nbsp; if lastrc == ERR_FILE_MODIFIED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assign %a = /Save &quot;%F&quot;
(y\/n)?/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; input %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quif lastrc == NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if &quot;%a&quot; == y</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 10)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quit</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 11)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 12)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quit!</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 13)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 14)&nbsp;&nbsp;&nbsp;&nbsp; endif</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 15)&nbsp;&nbsp;&nbsp;&nbsp; quif lastrc != ERR_NO_ERR</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 16) </TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 17) endloop</TT>
<BR><BR><B>Line 1</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; loop</TT>
<BR><BR> Starts the loop.
<BR><B>Lines 3-4</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; quit</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; if lastrc == ERR_FILE_MODIFIED</TT>
<BR><BR> Tries to to quit the file.&nbsp; If the quit command fails, and the return code is<B> ERR_FILE_MODIFIED</B> (the
<A HREF="#QUIT">QUIT</A> command will fail if the file being abandoned is modified), then the code from lines 5-14 is executed.
<BR><B>Lines 5-6</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assign %a = /Save &quot;%F&quot; (y\/n)?/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; input %a</TT>
<BR><BR> Assigns the string<B> Save &quot;&lt;filename&gt;&quot; (y/n)?</B>&nbsp; to the local variable<B> %a</B>.&nbsp; This
value will be used by the <A HREF="#INPUT">INPUT</A> command on line 6 to prompt the user.
<BR><B>Line 7</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quif lastrc == NO_VALUE_ENTERED</TT>
<BR><BR> This exits the main loop if the user cancels the input prompt by pressing the ESC key.
<BR><B>Lines 8-13</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if &quot;%a&quot; == y</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quit</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quit!</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif</TT>
<BR><BR> If the user typed the letter y, then the edit buffer is saved and exited, otherwise the contents of the edit buffer
are discarded.
<BR><B>Line 15</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; quif lastrc != ERR_NO_ERR</TT>
<BR><BR> This exits the main loop if any of the previous commands did not return the &quot;everything is OK&quot; return code,<B>
ERR_NO_ERR</B>.
<BR><B>Line 17</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; endloop</TT>
<BR><BR> Ends the loop.&nbsp; Control is returned to line 3.
<H3 ID="Example_M_wrme_vi"> Example - wrme.vi </H3>
<BR>This example is the default write hook script.&nbsp; This is called just before a edit buffer is saved and exited.&nbsp;
If the file has a null name, then the user is prompted for a name.&nbsp; If he cancels the prompt, then the save is aborted.
&nbsp;Otherwise, the new name is set and the save continues.
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) if &quot;%F&quot; != &quot;&quot;</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2)&nbsp;&nbsp;&nbsp;&nbsp; return ERR_NO_ERR</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) endif</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4) assign %a = /Enter file name:/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5) input %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6) if lastrc == NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7)&nbsp;&nbsp;&nbsp;&nbsp; return DO_NOT_CLEAR_MESSAGE_WINDOW</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8) endif</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9) echo off</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 10) set filename = %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 11) echo on</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 12) return ERR_NO_ERR</TT>
<BR><BR><B>Lines 1-3</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; if &quot;%F&quot; != &quot;&quot;</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; return ERR_NO_ERR</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; endif</TT>
<BR><BR> Checks if the current file name is the empty string.&nbsp; If it is not, then there is a filename and the script
returns<B> ERR_NO_ERR</B> to indicate that processing is to continue.
<BR><B>Lines 4-8</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; assign %a = /Enter file name:/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; input %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; if lastrc == NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; return DO_NOT_CLEAR_MESSAGE_WINDOW</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; endif</TT>
<BR><BR> The user is prompted with<B> Enter a file name:</B>.&nbsp; If he cancels the <A HREF="#INPUT">INPUT</A> command by
pressing the ESC key, then the script returns<B> DO_NOT_CLEAR_MESSAGE_WINDOW</B>, which is not an error condition but causes
the save process to abort (remember, a hook point stops what it is doing if an non-zero return code is returned from the hook
script).
<BR><B>Line 9</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; echo off</TT>
<BR><BR> Echo is disabled so that the setting of the filename will not cause the normal message to appear in the message window.
<BR><B>Line 10</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; set filename = %a</TT>
<BR><BR> The filename is set to whatever the user typed in.
<BR><B>Line 11</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; echo on</TT>
<BR><BR> Echo is enabled.
<BR><B>Line 12</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; return ERR_NO_ERR</TT>
<BR><BR> The script returns<B> ERR_NO_ERR</B> to indicate that processing is to continue.
<H3 ID="Example_M_proc_vi"> Example - proc.vi </H3>
<BR>This example prompts the user for a procedure name.&nbsp; If the user types one, then a procedure skeleton is added:
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; /*</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * ProcName</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; void ProcName(&nbsp; )</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; {</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; } /* ProcName */</TT>
<BR><BR>and the user is left in input mode on the space before the closing bracket (')').
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) assign %a = /Procedure Name:/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) input %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) if lastrc == NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4)&nbsp;&nbsp;&nbsp;&nbsp; return</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5) endif</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6) atomic</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7) echo off</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8) assign %x = /autoindent/@</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9) set noautoindent</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 10) execute \e0o/*\n * %a\n */\n\e0ivoid %a( @ )\n{\n\n} /* %a */\n\e</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 11) if %x == 1</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 12)&nbsp;&nbsp;&nbsp;&nbsp; set autoindent</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 13) endif</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 14)&nbsp; -4</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 15) execute \e0f@x</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 16) echo on</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 17) echo 1 Procedure %a added</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 18) echo 2 &quot; &quot;</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; 19) keyadd i</TT>
<BR><BR><B>Lines 1-5</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; assign %a = /Procedure Name:/</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; input %a</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; if lastrc == NO_VALUE_ENTERED</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; return</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; endif</TT>
<BR><BR> The user is prompted with<B> Procedure Name:</B>.&nbsp; If he cancels the <A HREF="#INPUT">INPUT</A> command by pressing
the ESC key, then the script exits.
<BR><B>Line 6</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; atomic</TT>
<BR><BR> The script is an <A HREF="#ATOMIC">ATOMIC</A> one; so all modifications to the edit buffer can be undone with a single
<A HREF="#UNDO_LcommandR">UNDO (command)</A>.
<BR><B>Line 7</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; echo off</TT>
<BR><BR> Disables any output to the message window.
<BR><B>Line 8</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; assign %x = /autoindent/@</TT>
<BR><BR> This line gets the current state of the <A HREF="#autoindent">autoindent</A> setting, and saves it the the local
variable<B> %x</B>.
<BR><B>Line 9</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; set noautoindent</TT>
<BR><BR> Turns off autoindent, so that the text to be inserted will line up properly.
<BR><B>Line 10</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; execute \e0o/*\n * %a\n */\n\e0ivoid %a( @ )\n{\n\n} /* %a */\n\e</TT>
<BR><BR> This line simulates the typing of a number of keystrokes at the keyboard.&nbsp; The effect of these keys is to generate
the following:
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * ProcName</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void ProcName( @ )</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } /* ProcName */</TT>
<BR><BR><B>Lines 11-13</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; if %x == 1</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; set autoindent</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; endif</TT>
<BR><BR> The local variable<B> %x</B> is set to the previous value of <A HREF="#autoindent">autoindent</A>.&nbsp; If <A HREF="#autoindent">autoindent</A>
was on before, then this turns it back on.
<BR><B>Line 14</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp; -4</TT>
<BR><BR> This backs the cursor up to the line
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void ProcName( @ )</TT>
<BR><BR><B>Line 15</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; execute \e0f@x</TT>
<BR><BR> This line simulates the typing of a number of keystrokes at the keyboard.&nbsp; The effect of these keystrokes is
to move forward to the '@' character and delete it.&nbsp; This leaves the cursor in the position necessary to enter procedure
parameters.
<BR><B>Line 16</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; echo on</TT>
<BR><BR> Enables output to the message window.
<BR><B>Lines 17-18</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; echo 1 Procedure %a added</TT>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; echo 2 &quot; &quot;</TT>
<BR><BR> Displays a message.
<BR><B>Line 19</B>
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; &gt; keyadd i</TT>
<BR><BR> Adds the key 'i' to the keyboard buffer.&nbsp; Once the script exits, Vi will process this key as if the user had
typed it.&nbsp; Thus, once the script is done, the user is left inserting text.
<H1 ID="Command_Mode_Key_Summary"> Command Mode Key Summary </H1>
<BR><BR>The following is a list of all possible keys that may be pressed in command mode, and their default behaviour.
<BR><BR>Commands preceded with a<B> &lt;n&gt;</B> take a repeat count.
<BR><BR>Commands preceded with a<B> &lt;&quot;?&gt;</B> accept a copy buffer name.
<BR><BR>Commands that accept mark letter ('a'-'z') have a<B> &lt;?&gt;</B> in their definition.
<BR><BR>The<B> &lt;oper&gt;</B> notation in the following commands indicates some sort of operator that the command will act
on.<B>&nbsp; &lt;oper&gt;</B> may be one of:
<OL>
<LI>A movement command.&nbsp; See the section <A HREF="#Movement">Movement</A> for a full description of all movement commands.
&nbsp;If a movement command is specified, then the range that the command will act on is from the current position to the
position that would be achieved by using the movement command.
<LI>A search command:
<UL>
<LI>/ (forward slash)
<LI>?&nbsp; (question mark)
<LI>n
<LI>N
</UL>
<BR>See the section <A HREF="#Searching">Searching</A> for a full description of the searching commands.&nbsp; If a search
command is specified, then the range that the command will act on is from the current position to the position that would
be achieved by using the search command.
<LI>The current selected (highlighted) region.&nbsp; In this case,<B> &lt;oper&gt;</B> is the<B> r</B> key.
<LI>The same character as the command character.&nbsp; This causes the command to operate on the current line.
</OL>
<DL>
<DT>&lt;n&gt;CTRL_B
<DD>Move up one page.
<DT>&lt;n&gt;CTRL_D
<DD>Move down a half page.
<DT>&lt;n&gt;CTRL_E
<DD>Expose the line below the bottom line on the screen.
<DT>&lt;n&gt;CTRL_F
<DD>Move down one page.
<DT>CTRL_G
<DD>Display current file status.
<DT>CTRL_L
<DD>Redraw the screen.
<DT>&lt;n&gt;CTRL_N
<DD>Move to next line.
<DT>&lt;n&gt;CTRL_P
<DD>Move to previous line.
<DT>CTRL_R
<DD>Start text selection.
<DT>&lt;n&gt;CTRL_U
<DD>Move up a half page.
<DT>CTRL_V
<DD>Display current version.
<DT>CTRL_X
<DD>Display hex value of character under cursor.
<DT>&lt;n&gt;CTRL_Y
<DD>Expose the line before the top line on the screen.
<DT>CTRL_]
<DD>Go to the tag indicated by the current word.
<DT>&lt;n&gt;SPACE
<DD>Move the cursor right one character.
<DT>&lt;n&gt;!&lt;oper&gt;
<DD>Run lines through a filter.
<DT>$
<DD>Move to the end of the current line.
<DT>%
<DD>Find the matching brace or other defined match item.
<DT>'&lt;?&gt;
<DD>Go to the mark<B> ?</B>.
<DT>&lt;n&gt;+
<DD>Go to the start of the next line.
<DT>,
<DD>Perform the last f,t,F or T command, in the opposite direction.
<DT>&lt;n&gt;-
<DD>Go to the start of the previous line.
<DT>.
<DD>Repeat last command mode sequence that changed the edit buffer.
<DT>/
<DD>Search forward for a string.
<DT>0
<DD>Move to the first character on the current line.
<DT>:
<DD>Enter a command line command.
<DT>;
<DD>Perform the last f,t,F or T command.
<DT>&lt;n&gt;&lt;&lt;oper&gt;
<DD>Shift lines to the left.
<DT>&lt;n&gt;&gt;&lt;oper&gt;
<DD>Shift lines to the right.
<DT>?
<DD>Search backwards for a string
<DT>@
<DD>Execute a copy buffer as if it were typed at the keyboard.
<DT>A
<DD>Start inserting text at the end of the current line.
<DT>&lt;n&gt;B
<DD>Move back to the start of the previous space delimited word.
<DT>C
<DD>Change characters from the current column to the end of the current line.
<DT>D
<DD>Delete characters from the current column to the end of the current line.
<DT>&lt;n&gt;E
<DD>Move forwards to the end of the next space delimited word.
<DT>F&lt;n&gt;&lt;?&gt;
<DD>Move backwards to a specified character.
<DT>&lt;n&gt;G
<DD>Go to a specified line number.
<DT>&lt;n&gt;H
<DD>Go to the top of the current edit window.
<DT>I
<DD>Start inserting text at the first non-whitespace character on the current line.
<DT>&lt;n&gt;J
<DD>Join the next line to the current line.
<DT>&lt;n&gt;L
<DD>Go to the bottom of the current edit window.
<DT>M
<DD>Go to the middle of the current edit window.
<DT>N
<DD>Repeat the last find command, only search in the opposite direction.
<DT>O
<DD>Open a blank line above the current line, and enter text insertion mode.
<DT>&lt;&quot;?&gt;P
<DD>Insert a copy buffer before the current position.
<DT>Q
<DD>Enter<B> EX mode</B>.
<DT>R
<DD>Enter text overstrike mode.
<DT>&lt;n&gt;S
<DD>Substitute lines with other text.
<DT>T&lt;?&gt;
<DD>Move backwards to the character after a specified character.
<DT>U
<DD>Re-do (undoes the last undo).
<DT>&lt;n&gt;W
<DD>Move forward to the start of the next space delimited word.
<DT>&lt;n&gt;X
<DD>Delete the character before the current character.
<DT>&lt;n&gt;Y
<DD>Yank (copy) lines.
<DT>Z
<DD>If followed by another<B> Z</B>, saves the current file (if it has been modified) and quits the file.
<DT>^
<DD>Move to the first non-whitespace character on the line.
<DT>_
<DD>Simulate right-mouse button press.
<DT>`&lt;?&gt;
<DD>Go to the line and column with the mark<B> &lt;?&gt;</B>.
<DT>a
<DD>Start inserting text at the character after the current cursor position.
<DT>&lt;n&gt;b
<DD>Move backwards to the start of the previous word.
<DT>&lt;n&gt;c&lt;oper&gt;
<DD>Change text.
<DT>&lt;&quot;?&gt;&lt;n&gt;d&lt;oper&gt;
<DD>Delete text.
<DT>&lt;n&gt;e
<DD>Move to the end of the current word.
<DT>&lt;n&gt;f&lt;?&gt;
<DD>Move forward to the character<B> &lt;?&gt;</B> on the current line.
<DT>&lt;n&gt;h
<DD>Move left.
<DT>i
<DD>Start inserting text at the current cursor position.
<DT>&lt;n&gt;j
<DD>Move down one line.
<DT>&lt;n&gt;k
<DD>Move up one line.
<DT>&lt;n&gt;l
<DD>Move right.
<DT>m&lt;?&gt;
<DD>Set the mark<B> &lt;?&gt;</B>.
<DT>n
<DD>Repeat the last find command.
<DT>o
<DD>Open a new line after the current line, and start inserting text.
<DT>&lt;&quot;?&gt;p
<DD>Insert a copy buffer at the current position in the edit buffer.
<DT>&lt;n&gt;r
<DD>Replace the current character.
<DT>&lt;n&gt;s
<DD>Substitute the current character with text.
<DT>&lt;n&gt;t&lt;?&gt;
<DD>Move up to the character before the character<B> &lt;?&gt;</B> on the current line.
<DT>u
<DD>Undo the last change.
<DT>&lt;n&gt;w
<DD>Move to the start of the next word.
<DT>&lt;n&gt;x
<DD>Delete the character at the cursor.
<DT>&lt;n&gt;&lt;&quot;?&gt;y&lt;oper&gt;
<DD>Yank (copy) text.
<DT>&lt;n&gt;z&lt;?&gt;
<DD>Reposition the current line.
<DT>&lt;n&gt;|
<DD>Move to the specified column.
<DT>&lt;n&gt;~&lt;oper&gt;
<DD>Toggle the case of text.
<DT>F1
<DD>Move to the next file in the list of files being edited.
<DT>F2
<DD>Move back to the previous file in the list of files being edited.
<DT>&lt;n&gt;UP
<DD>Move up one line.
<DT>&lt;n&gt;DOWN
<DD>Move down one line.
<DT>&lt;n&gt;LEFT
<DD>Move left to the previous character.
<DT>&lt;n&gt;RIGHT
<DD>Move right to the next character.
<DT>&lt;n&gt;PAGEUP
<DD>Move up one page.
<DT>&lt;n&gt;PAGEDOWN
<DD>Move down one page.
<DT>INS
<DD>Start inserting text at the current cursor position.
<DT>&lt;&quot;?&gt;&lt;n&gt;DEL
<DD>Delete the character at the current cursor position.
<DT>&lt;n&gt;BS
<DD>Move left to the previous character.
<DT>&lt;n&gt;SHIFT_TAB
<DD>Move left by a tab amount.
<DT>&lt;n&gt;ENTER
<DD>Move to the start of the next line.
<DT>&lt;n&gt;TAB
<DD>Move right by a tab amount.
<DT>HOME
<DD>Move to the start of the current line.
<DT>END
<DD>Move to the end of the current line.
<DT>CTRL_F1
<DD>Make copy buffer 1 active.
<DT>CTRL_F2
<DD>Make copy buffer 2 active.
<DT>CTRL_F3
<DD>Make copy buffer 3 active.
<DT>CTRL_F4
<DD>Make copy buffer 4 active.
<DT>CTRL_F5
<DD>Make copy buffer 5 active.
<DT>CTRL_F6
<DD>Make copy buffer 6 active.
<DT>CTRL_F7
<DD>Make copy buffer 7 active.
<DT>CTRL_F8
<DD>Make copy buffer 8 active.
<DT>CTRL_F9
<DD>Make copy buffer 9 active.
<DT>ALT_M
<DD>Display current memory state.
<DT>ALT_W
<DD>Activate the current edit window menu.
<DT>ALT_X
<DD>Insert a keystroke by entering the ASCII value.
<DT>CTRL_PAGEUP
<DD>Move to the first character in the current edit buffer.
<DT>CTRL_PAGEDOWN
<DD>Move to the last character in the current edit buffer.
<DT>&lt;n&gt;SHIFT_UP
<DD>Start selection, and move up.
<DT>&lt;n&gt;SHIFT_DOWN
<DD>Start selection, and move down.
<DT>&lt;n&gt;SHIFT_LEFT
<DD>Start selection, and move left.
<DT>&lt;n&gt;SHIFT_RIGHT
<DD>Start selection, and move right.
<DT>&lt;&quot;?&gt;SHIFT_DEL
<DD>Delete selected region.
<DT>&lt;&quot;?&gt;SHIFT_INS
<DD>Insert a copy buffer at the current position in the edit buffer.
</DL>
<H1 ID="The_Open_Watcom_Vi_Editor_Error_Messages"> The Open Watcom Vi Editor Error Messages </H1>
<BR>This appendix lists all of the various errors that Vi reports during its operation.
<BR><BR>In the following error message text, there are certain special characters that you will not see when the message is
displayed; instead, something is filled in when you see it.&nbsp; These special characters are:
<DL>
<DT>%s
<DD>An appropriate string is filled in by Vi.
<DT>%c
<DD>An appropriate character is filled in by Vi.
<DT>%d
<DD>An appropriate number is filled in by Vi.
</DL>
<DL>
<DT>*+ operand could be empty
<DD>A regular expression error, issued if you use * or + after an empty sub-expression.
<DT>?+* follows nothing
<DD>A regular expression error, issued if you use a ?, + or * without using some sub-expression for them to operate on.
<DT>Already in dot mode
<DD>You pressed dot ('.'), and the string that was executed tried to do another dot from command mode.
<DT>Already two marks on this line
<DD>Only two marks are allowed on any line.&nbsp; This error is issued if you try to place a third mark on the line.
<DT>Cannot delete character
<DD>You tried to delete a character that is not there.
<DT>Cannot insert the character value 0.
<DD>You typed the number 0 at the prompt from the<B> ALT_X</B> command mode keystroke.
<DT>Cannot open line number window
<DD>Vi could not open the line number window, probably due to an invalid position of the command window.
<DT>Case toggle has nothing following
<DD>A regular expression error, issued if you use a case toggle operator (@ or ~) and do not place an expression after it.
<DT>Character '%c' not found
<DD>You used a 't', 'T', 'f', 'F', ',' or ';' command mode keystroke, and the letter that you specified is not on the line.
<DT>Directory operation failed
<DD>You tried to 'cd' to a directory that does not exist.
<DT>Empty copy buffer
<DD>You tried to paste a copy buffer that has no contents.
<DT>End of file reached
<DD>&quot;nosearchwrap&quot; is set and a search command got to the end of the edit buffer without finding a string.
<DT>Expecting :
<DD>You coded an expression with the '?' operator and did not specify a ':'.
<DT>File close error
<DD>The &quot;fclose&quot; script command failed - this probably indicates a problem with your hard disk.
<DT>File exists - use w!&nbsp; to force
<DD>You attempted to write a file out with a new name that already exists.
<DT>File has no name
<DD>You attempted to write a file that has not been given a name.
<DT>File is a tty
<DD>The file names &quot;con&quot;, &quot;lptN&quot;, &quot;nul&quot;, and &quot;prn&quot; are special TTY files.&nbsp; You attempted
to read or edit a file like this.
<DT>File is read only
<DD>You attempted to modify a read-only file.
<DT>File is view only
<DD>You attempted to modify a view-only file.
<DT>File modified - use :q!&nbsp; to force
<DD>You attempted to quit a modified file.
<DT>File not FOPEN
<DD>In a script, you attempted to &quot;fread&quot; or &quot;fwrite&quot; a file that you did not open with &quot;fopen&quot;.
<DT>File not found
<DD>Issued whenever Vi is looking for a file and it cannot be found.
<DT>File open error
<DD>Vi will issue this error whenever a file cannot be opened.&nbsp; Typically, this happens when you try to edit a directory
as a file.
<DT>File read error
<DD>This error occurs when Vi is trying to read a file.&nbsp; This could indicate that there is a problem with your hard disk.
<DT>File seek error
<DD>This error occurs when Vi is trying to seek to a position in a file.&nbsp; This could indicate a problem with your hard disk.
<DT>File write error
<DD>This error occurs when Vi is trying to write a file.&nbsp; This could indicate that your hard disk is full, or that there
is a problem with your hard disk.
<DT>File &quot;error.dat&quot; not found
<DD>When a script is being processed, and an error token is needed, the file &quot;error.dat&quot; is loaded.&nbsp; If it cannot
be found, then this error is issued.
<DT>Input key map already running
<DD>If another input key mapping is run while an input key map is running, this error is issued.
<DT>Insufficient stack for allocation
<DD>Vi tried to do an operation and did not have enough stack space.&nbsp; Try increasing your stackk setting and trying the operation
again.
<DT>Internal err:&nbsp; Invalid undo record found - undo stacks purged
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Internal err:&nbsp; Null pointer found
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Internal err:&nbsp; Open undo
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Internal err:&nbsp; Regexp corrupted pointer
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Internal err:&nbsp; Regexp foulup
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Internal err:&nbsp; Regexp memory corruption
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Internal error:&nbsp; Regular expression NULL argument
<DD>Vi has encountered an internal error.&nbsp; Please note the circumstances of this error and, if possible, construct a small
test case that demonstrates the problem.&nbsp; You can then either file a bug report using OpenWatcom's Bugzilla (http://bugzilla.openwatcom.org),
or you can discuss the problem on one of the OpenWatcom newsgroups (news://news.openwatcom.org).
<DT>Invalid abbreviation
<DD>You did not enter an &quot;abbrev&quot; command correctly.
<DT>Invalid alias command
<DD>You did not enter an &quot;alias&quot; command correctly.
<DT>Invalid ASSIGN
<DD>You did not enter script &quot;assign&quot; command correctly.
<DT>Invalid case command
<DD>You did not enter a valid operation after starting the case toggle ('~') command mode command.
<DT>Invalid change command
<DD>You did not enter a valid operation after starting the change ('c') command mode command.
<DT>Invalid command
<DD>You entered an invalid command line command.
<DT>Invalid conditional expression
<DD>You did not code a script &quot;if&quot;, &quot;elseif&quot;, &quot;quif&quot;, &quot;until&quot; or &quot;while&quot; statement
correctly.
<DT>Invalid data in file '%s' at line %d
<DD>This error is issued if one of the .dat files (error.dat, errmsg.dat, keys.dat) contains invalid data.
<DT>Invalid delete command
<DD>You did not enter a valid operation after starting the delete ('d') command mode command.
<DT>Invalid EXPR
<DD>You coded an invalid &quot;expr&quot; script command.
<DT>Invalid FCLOSE
<DD>You coded an invalid &quot;fclose&quot; script command.
<DT>Invalid find command
<DD>You issued an invalid search command.
<DT>Invalid FOPEN
<DD>You coded an invalid &quot;fopen&quot; script command.
<DT>Invalid FREAD
<DD>You coded an invalid &quot;fread&quot; script command.
<DT>Invalid FWRITE
<DD>You coded an invalid &quot;fwrite&quot; script command.
<DT>Invalid global command
<DD>You issued an invalid &quot;global&quot; command line command.
<DT>Invalid GOTO
<DD>You coded an invalid &quot;goto&quot; script command.
<DT>Invalid INPUT
<DD>You coded an invalid &quot;input&quot; script command.
<DT>Invalid key '%c'
<DD>You press a key that has no mapping in command mode.
<DT>Invalid LABEL
<DD>You coded an invalid &quot;label&quot; script command.
<DT>Invalid line address
<DD>You used a &quot;copy&quot; or &quot;move&quot; EX mode command, and specified an invalid destination line.
<DT>Invalid line range
<DD>You used an invalid line range for a &quot;global&quot;, &quot;substitute&quot; or shift (&quot;&gt;&quot; or &quot;&lt;&quot;)
command line command.&nbsp; This occurs if you use line number past the end of the file.
<DT>Invalid map command
<DD>You issued an invalid &quot;map&quot; or &quot;mapbase&quot; command.
<DT>Invalid mark - use 'a'-'z'
<DD>You attempted to set a mark that was not in the range 'a' to 'z'.
<DT>Invalid match command
<DD>You issued an invalid &quot;match&quot; command line command.
<DT>Invalid menu
<DD>You issued an invalid &quot;menu&quot; command line command.
<DT>Invalid redraw
<DD>You did not specify a valid key after starting the 'z' command mode command - valid keys are dash ('-'), ENTER, and dot ('.').
<DT>Invalid copy buffer '%c' - use '1'-'9' or 'a'-'z'
<DD>You tried to access an invalid copy buffer.
<DT>Invalid set command
<DD>You tried to set a variable that does not exist.
<DT>Invalid setcolor command
<DD>You issued an invalid &quot;setcolor&quot; command line command.
<DT>Invalid shift command
<DD>You did not enter a valid operation after starting a shift ('&lt;' or '&gt;') command mode command.
<DT>Invalid substitute command
<DD>You issued an improper &quot;substitute&quot; command line command.
<DT>Invalid tag found
<DD>Your tags file contained an invalid tag entry.
<DT>Invalid window
<DD>You attempted an operation on an undefined window, or the window that you attempted to define was invalid.
<DT>Invalid window data
<DD>The parameters to &quot;border&quot;, &quot;text&quot;, &quot;hilight&quot;, or &quot;dimension&quot; were invalid.
<DT>Invalid yank command
<DD>You did not enter a valid operation after starting the yank ('y') command mode command.
<DT>invalid [] range
<DD>A regular expression error, issued when you specified an invalid range inside the square brackets.
<DT>Label not found
<DD>In a script, you attempted to &quot;goto&quot; a label that was not defined.
<DT>Mark '%c' no longer valid
<DD>You tried to access a mark that has become invalid (the line or column that had the mark no longer exists).
<DT>Mark '%c' not set
<DD>You tried to access an undefined mark.
<DT>Matching '%s' not found
<DD>You used the command mode key '%' to look for a matching string to the string under the cursor, only the match could not be
found.
<DT>nested *?+
<DD>A regular expression error, issued if you have two or more of the '*', '?' or '+' characters in a row.
<DT>No character to replace
<DD>You used the command mode key 'r' to replace a character on an empty line.
<DT>No file specified
<DD>You issued a &quot;compile&quot;, &quot;load&quot; or &quot;source&quot; command, and did not specify a file.&nbsp; Another
source of this error is using the &quot;write&quot; command with a line range and not specifying a file name.
<DT>No more undos
<DD>You issued an undo command, and there are no more undos to perform.
<DT>No more windows
<DD>You exceeded the limit of 250 windows that can be open at the same time.
<DT>No previous search string
<DD>You pressed 'n' or 'N' in command mode, but have not yet issued a search command.
<DT>No selection
<DD>You used the 'r' operator with 'd', 'c', '~', '&gt;', '&lt;', '!' in command mode, but there is no selected region.&nbsp;
Another source of this error is specifying the pound sign ('#') as a line range on the command line, and having no selected
region.
<DT>No string specified
<DD>You indicated that you are starting a string on the command line by using a double quote ('&quot;') or forward slash ('/'),
but you did not specify any characters at all for the string.
<DT>No such abbreviation
<DD>You attempted to use the command line command &quot;unabbrev&quot; for an abbreviation that does not exist.
<DT>No such alias
<DD>You attempted to use the command line command &quot;unalias&quot; for an alias that does not exist.
<DT>No such drive
<DD>You used the &quot;cd&quot; command line command to attempt to switch to a disk drive that does not exist.
<DT>No such line
<DD>You specified a line number that does not exist in the current edit buffer.
<DT>Not enough room in line
<DD>You attempted to add characters to a line, and the resulting line would be longer than the setting of &quot;maxlinelen&quot;.
<DT>Not that many words
<DD>You attempted a command mode command that tried to access more words than were on the current line.
<DT>Not valid while in ex mode
<DD>You attempted to use a command from EX mode that was not allowed:&nbsp; an &quot;edit&quot; command line command with no parameter,
or a &quot;read&quot; command line command with no parameter.
<DT>Nothing to match
<DD>You used the command mode percent ('%') keystroke, but there was nothing on the current line that could be matched.
<DT>Only valid in ex mode
<DD>You attempted to use an EX mode only command from the command line:&nbsp; &quot;append&quot;, &quot;change&quot;, &quot;insert&quot;,
or &quot;list&quot;.
<DT>Out of memory
<DD>The editor ran out of memory.&nbsp; Try removing some TSR's (terminate and stay resident programs) or increasing swap space
(maxswapk).
<DT>Repeat string too long
<DD>You entered a repeat count with too many digits, only 9 digits are allowed.
<DT>Copy buffer too big
<DD>You attempted to execute a copy buffer that is larger than 1024 bytes.
<DT>Script already loaded
<DD>You attempted to load a script that was previously loaded.
<DT>String '%s' not found
<DD>A search string cannot be found in the file.
<DT>Swap file full
<DD>Vi ran out of space in the swap file, but needed more space.&nbsp; Increase the maxswapk setting.
<DT>Swap file open error
<DD>Vi could not open a swap file.&nbsp; This could indicate that there are too many open files, or that the directory is full
(if the swap file is on the root directory), or a problem with your hard disk.
<DT>Swap file read error
<DD>An error was encountered while attempting to read the swap file.&nbsp; This could indicate problems with your hard disk.
<DT>Swap file write error
<DD>An error was encountered while attempting to read the swap file.&nbsp; This could indicate problems with your hard disk, or
that the disk is full.
<DT>Tag '%s' not found
<DD>If the tag you have requested cannot be found in the tags file, this error is issued.
<DT>Too many ()
<DD>A regular expression error.&nbsp; There is a limit of 21 nested parenthesis in a regular expression.
<DT>Too many match items
<DD>When using the match command to add another match string.&nbsp; There is a limit of 9 different match pairs.
<DT>Top of file reached
<DD>Issued if you have nosearchwrap set and a search command gets to the top of the edit buffer without finding a string.
<DT>Trailing \
<DD>A regular expression error, issued if a backslash ('\') is the last character on a line.&nbsp; Since a backslash is an escape
character, it must always have a character following it.
<DT>Unmatched ()
<DD>A regular expression error.&nbsp; You have an unequal number of open and closed round brackets.
<DT>Unmatched []
<DD>A regular expression error.&nbsp; You have specified one square bracket, without using the matching one.
<DT>Warning:&nbsp; file is read only
<DD>This warning is issued if &quot;readonlycheck&quot; is set.&nbsp; The message is issued every time you modify a read only
file.
</DL>
<H1 ID="CTAGS"> CTAGS </H1>
<BR>The Open Watcom Vi Editor can utilize something known as tags to help you locate declarations of various objects in your
C, C++, and FORTRAN code.
<BR><BR>In C or C++ files, tags will help you locate functions, typedefs, structs, enums and unions.&nbsp; In a C++ file,
you will also be able to locate classes.
<BR><BR>Tags will help you find all function and subroutines in FORTRAN files.
<BR><BR>Once you select a tag that you wish to locate (by either using the command mode key CTRL_] (control close square bracket)
or the command line command<B> tag</B>), Open Watcom Vi Editor searchs a special tag file for the specified tag.&nbsp; The
name of the tag file is determined by the setting of<B> tagfilename</B>, the default is<B> tags</B>.
<BR><BR>If the tag is located in the tag file, then Open Watcom Vi Editor edits the file that contains the tag that you specified
and goes to the line with the definition on it, highlighting the line.&nbsp; If the tag is not found, you will get an error
message.
<BR><BR>The tag file must be located somewhere in the directories specified in your PATH or<B> EDPATH</B> environment variable.
<BR><BR>There is a special program provided for the creation of tag files.&nbsp; This program is called<B> ctags</B>.&nbsp;
It is used as follows:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; Usage: ctags [-?admstqvx] [-f&lt;fname&gt;] [files] [@optfile]</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [files]&nbsp;&nbsp;&nbsp;&nbsp; : source files (may be C, C++, or
FORTRAN)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; file names may contain wild cards (* and ?)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [@optfile]&nbsp; : specifies an option file</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Option File Directives:</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option &lt;opts&gt;:
any command line options (no dashes).</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an option line resets the d,m,s and t options.</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; they must be specified on option line to</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remain in effect</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file &lt;flist&gt;
: a list of files, separated by commas</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options: -?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : print this
list</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : append output to existing tags file</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : add classes (C++ files)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -d&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : add all #defines (C,C++ files)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f&lt;fname&gt;
: specify alternate tag file (default is &quot;tags&quot;)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -m&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : add #defines (macros only) (C,C++ files)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -s&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : add structs, enums and unions (C,C++ files)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -t&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : add typedefs (C,C++ files)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -q&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : quiet operation</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -v&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : verbose operation</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -x&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; : add all possible tags (same as -cdst)</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options may be specified in a CTAGS environment variable</TT>
<H1 ID="Symbolic_Keystrokes"> Symbolic Keystrokes </H1>
<BR>When mapping keys using the <A HREF="#MAP">MAP</A> command, and unmapping keys using the <A HREF="#UNMAP">UNMAP</A> command,
it is useful to be able to specify the key that you are mapping symbolically, especially if it is a function key, a cursor
key or other special key.&nbsp; There are a number of pre-defined keys symbols that are recognized when specifying which key
is being mapped/unmapped.
<BR><BR>The next section describes the symbol used to represent the key, and what the key actually is.&nbsp; These symbols
are also used throughout this guide to represent a special key.
<H2 ID="Symbols_and_Meaning"> Symbols and Meaning </H2>
<DL>
<DT>ALT_A
<DD>Alt key and A key.
<DT>ALT_B
<DD>Alt key and B key.
<DT>ALT_C
<DD>Alt key and C key.
<DT>ALT_D
<DD>Alt key and D key.
<DT>ALT_DEL
<DD>Alt key and delete key.
<DT>ALT_DOWN
<DD>Alt key and cursor down key.
<DT>ALT_E
<DD>Alt key and E key.
<DT>ALT_END
<DD>Alt key and end key.
<DT>ALT_F
<DD>Alt key and F key.
<DT>ALT_F1
<DD>Alt key and F1 key.
<DT>ALT_F2
<DD>Alt key and F2 key.
<DT>ALT_F3
<DD>Alt key and F3 key.
<DT>ALT_F4
<DD>Alt key and F4 key.
<DT>ALT_F5
<DD>Alt key and F5 key.
<DT>ALT_F6
<DD>Alt key and F6 key.
<DT>ALT_F7
<DD>Alt key and F7 key.
<DT>ALT_F8
<DD>Alt key and F8 key.
<DT>ALT_F9
<DD>Alt key and F9 key.
<DT>ALT_F10
<DD>Alt key and F10 key.
<DT>ALT_F11
<DD>Alt key and F11 key.
<DT>ALT_F12
<DD>Alt key and F12 key.
<DT>ALT_G
<DD>Alt key and G key.
<DT>ALT_H
<DD>Alt key and H key.
<DT>ALT_HOME
<DD>Alt key and home key.
<DT>ALT_I
<DD>Alt key and I key.
<DT>ALT_INS
<DD>Alt key and insert key.
<DT>ALT_J
<DD>Alt key and J key.
<DT>ALT_K
<DD>Alt key and K key.
<DT>ALT_L
<DD>Alt key and L key.
<DT>ALT_LEFT
<DD>Alt key and cursor left key.
<DT>ALT_M
<DD>Alt key and M key.
<DT>ALT_N
<DD>Alt key and N key.
<DT>ALT_O
<DD>Alt key and O key.
<DT>ALT_P
<DD>Alt key and P key.
<DT>ALT_PAGEDOWN
<DD>Alt key and page down key.
<DT>ALT_PAGEUP
<DD>Alt key and page up key.
<DT>ALT_Q
<DD>Alt key and Q key.
<DT>ALT_R
<DD>Alt key and R key.
<DT>ALT_RIGHT
<DD>Alt key and cursor right key.
<DT>ALT_S
<DD>Alt key and S key.
<DT>ALT_T
<DD>Alt key and T key.
<DT>ALT_TAB
<DD>Alt key and tab key.
<DT>ALT_U
<DD>Alt key and U key.
<DT>ALT_UP
<DD>Alt key and cursor up key.
<DT>ALT_V
<DD>Alt key and V key.
<DT>ALT_W
<DD>Alt key and W key.
<DT>ALT_X
<DD>Alt key and X key.
<DT>ALT_Y
<DD>Alt key and Y key.
<DT>ALT_Z
<DD>Alt key and Z key.
<DT>BS
<DD>Backspace key.
<DT>CTRL_A
<DD>Control key and A key.
<DT>CTRL_B
<DD>Control key and B key.
<DT>CTRL_C
<DD>Control key and C key.
<DT>CTRL_D
<DD>Control key and D key.
<DT>CTRL_DEL
<DD>Control key and delete key.
<DT>CTRL_DOWN
<DD>Control key and cursor down key.
<DT>CTRL_E
<DD>Control key and E key.
<DT>CTRL_END
<DD>Control key and end key.
<DT>CTRL_F
<DD>Control key and F key.
<DT>CTRL_F1
<DD>Control key and F1 key.
<DT>CTRL_F2
<DD>Control key and F2 key.
<DT>CTRL_F3
<DD>Control key and F3 key.
<DT>CTRL_F4
<DD>Control key and F4 key.
<DT>CTRL_F5
<DD>Control key and F5 key.
<DT>CTRL_F6
<DD>Control key and F6 key.
<DT>CTRL_F7
<DD>Control key and F7 key.
<DT>CTRL_F8
<DD>Control key and F8 key.
<DT>CTRL_F9
<DD>Control key and F9 key.
<DT>CTRL_F10
<DD>Control key and F10 key.
<DT>CTRL_F11
<DD>Control key and F11 key.
<DT>CTRL_F12
<DD>Control key and F12 key.
<DT>CTRL_G
<DD>Control key and G key.
<DT>CTRL_H
<DD>Control key and H key.
<DT>CTRL_HOME
<DD>Control key and home key.
<DT>CTRL_I
<DD>Control key and I key.
<DT>CTRL_INS
<DD>Control key and insert key.
<DT>CTRL_J
<DD>Control key and J key.
<DT>CTRL_K
<DD>Control key and K key.
<DT>CTRL_L
<DD>Control key and L key.
<DT>CTRL_LEFT
<DD>Control key and cursor left key.
<DT>CTRL_M
<DD>Control key and M key.
<DT>CTRL_N
<DD>Control key and N key.
<DT>CTRL_O
<DD>Control key and O key.
<DT>CTRL_P
<DD>Control key and P key.
<DT>CTRL_PAGEDOWN
<DD>Control key and page down key.
<DT>CTRL_PAGEUP
<DD>Control key and page up key.
<DT>CTRL_Q
<DD>Control key and Q key.
<DT>CTRL_R
<DD>Control key and R key.
<DT>CTRL_RIGHT
<DD>Control key and cursor right key.
<DT>CTRL_S
<DD>Control key and S key.
<DT>CTRL_T
<DD>Control key and T key.
<DT>CTRL_TAB
<DD>Control key and tab key.
<DT>CTRL_U
<DD>Control key and U key.
<DT>CTRL_UP
<DD>Control key and cursor up key.
<DT>CTRL_V
<DD>Control key and V key.
<DT>CTRL_W
<DD>Control key and W key.
<DT>CTRL_X
<DD>Control key and X key.
<DT>CTRL_Y
<DD>Control key and Y key.
<DT>CTRL_Z
<DD>Control key and Z key.
<DT>DEL
<DD>Delete key.
<DT>DOWN
<DD>Cursor down key.
<DT>END
<DD>End key.
<DT>ENTER
<DD>Enter key.
<DT>ESC
<DD>Escape key.
<DT>F1
<DD>F1 key.
<DT>F2
<DD>F2 key.
<DT>F3
<DD>F3 key.
<DT>F4
<DD>F4 key.
<DT>F5
<DD>F5 key.
<DT>F6
<DD>F6 key.
<DT>F7
<DD>F7 key.
<DT>F8
<DD>F8 key.
<DT>F9
<DD>F9 key.
<DT>F10
<DD>F10 key.
<DT>F11
<DD>F11 key.
<DT>F12
<DD>F12 key.
<DT>HOME
<DD>Home key.
<DT>INS
<DD>Insert key.
<DT>LEFT
<DD>Cursor left key.
<DT>PAGEDOWN
<DD>Page down key.
<DT>PAGEUP
<DD>Page up key.
<DT>RIGHT
<DD>Cursor right key.
<DT>SHIFT_DEL
<DD>Shift key and delete key.
<DT>SHIFT_DOWN
<DD>Shift key and cursor down key.
<DT>SHIFT_F1
<DD>Shift key and F1 key.
<DT>SHIFT_F2
<DD>Shift key and F2 key.
<DT>SHIFT_F3
<DD>Shift key and F3 key.
<DT>SHIFT_F4
<DD>Shift key and F4 key.
<DT>SHIFT_F5
<DD>Shift key and F5 key.
<DT>SHIFT_F6
<DD>Shift key and F6 key.
<DT>SHIFT_F7
<DD>Shift key and F7 key.
<DT>SHIFT_F8
<DD>Shift key and F8 key.
<DT>SHIFT_F9
<DD>Shift key and F9 key.
<DT>SHIFT_F10
<DD>Shift key and F10 key.
<DT>SHIFT_F11
<DD>Shift key and F11 key.
<DT>SHIFT_F12
<DD>Shift key and F12 key.
<DT>SHIFT_INS
<DD>Shift key and insert key.
<DT>SHIFT_LEFT
<DD>Shift key and cursor left key.
<DT>SHIFT_RIGHT
<DD>Shift key and cursor right key.
<DT>SHIFT_TAB
<DD>Shift key and tab key.
<DT>SHIFT_UP
<DD>Shift key and cursor up key.
<DT>TAB
<DD>Tab key.
<DT>UP
<DD>Cursor up key.
</DL>
<H1 ID="Error_Code_Tokens"> Error Code Tokens </H1>
<BR>These are the tokens defined in the file<TT> error.dat</TT> that you can use to identify different errors in an editor
script.&nbsp; A typical usage would be:
<BR><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; if lastrc != ERR_NO_ERR</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... handle error ...</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; else</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... no error ...</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp; endif</TT>
<DL>
<DT>END_OF_FILE
<DD>Returned if a fread command is done at the end of file.
<DT>ERR_DIRECTORY_OP_FAILED
<DD>Returned if the last cd command was to a non-existent directory.
<DT>ERR_FILE_EXISTS
<DD>Returned if the last write command tried to overwrite an existing file.
<DT>ERR_FILE_MODIFIED
<DD>Returned if you attempt to quit a modified file.
<DT>ERR_FILE_NOT_FOUND
<DD>Returned by the read command or the fopen command if the file could not be found.
<DT>ERR_FILE_VIEW_ONLY
<DD>Returned if you attempt to modify a view only file.
<DT>ERR_FIND_END_OF_FILE
<DD>Returned if nosearchwrap is set, and the last search command encountered the end of the edit buffer.
<DT>ERR_FIND_NOT_FOUND
<DD>Returned if the last search command didn't find the string.
<DT>ERR_FIND_TOP_OF_FILE
<DD>Returned if nosearchwrap is set, and the last search command encountered the top of the edit buffer.
<DT>ERR_INVALID_COMMAND
<DD>Returned if the last command was invalid.
<DT>ERR_INVALID_SET_COMMAND
<DD>Returned if the last set command was an invalid one.
<DT>ERR_NO_ERR
<DD>Returned if the last operation was a success.
<DT>ERR_NO_FILE_NAME
<DD>Returned if you attempt to write a file with no file name.
<DT>ERR_NO_MORE_UNDOS
<DD>Returned if the last undo command didn't undo anything.
<DT>ERR_NO_SUCH_DRIVE
<DD>Returned if the last cd command was to a non-existent drive.
<DT>ERR_NO_SUCH_LINE
<DD>Returned if the last movement command went to an invalid line.
<DT>ERR_READ_ONLY_FILE
<DD>Returned if you attempt to modify a read only file.
<DT>NEW_FILE
<DD>Value of lastrc in a read hook script, if the file just edited was a new file.
<DT>NO_VALUE_ENTERED
<DD>Returned if an input command was cancelled by the user.
</DL>
</BODY>
